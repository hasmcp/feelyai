(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();function ec(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ue={},Yn=[],vr=()=>{},S0=()=>!1,Hu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),tc=e=>e.startsWith("onUpdate:"),pt=Object.assign,rc=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Xm=Object.prototype.hasOwnProperty,Ne=(e,t)=>Xm.call(e,t),we=Array.isArray,Qn=e=>es(e)==="[object Map]",fo=e=>es(e)==="[object Set]",sl=e=>es(e)==="[object Date]",$e=e=>typeof e=="function",nt=e=>typeof e=="string",wr=e=>typeof e=="symbol",je=e=>e!==null&&typeof e=="object",C0=e=>(je(e)||$e(e))&&$e(e.then)&&$e(e.catch),$0=Object.prototype.toString,es=e=>$0.call(e),e1=e=>es(e).slice(8,-1),T0=e=>es(e)==="[object Object]",nc=e=>nt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Po=ec(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ku=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},t1=/-\w/g,Xt=Ku(e=>e.replace(t1,t=>t.slice(1).toUpperCase())),r1=/\B([A-Z])/g,cn=Ku(e=>e.replace(r1,"-$1").toLowerCase()),Ju=Ku(e=>e.charAt(0).toUpperCase()+e.slice(1)),Si=Ku(e=>e?`on${Ju(e)}`:""),nn=(e,t)=>!Object.is(e,t),gu=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},A0=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Wu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},n1=e=>{const t=nt(e)?Number(e):NaN;return isNaN(t)?e:t};let ul;const Gu=()=>ul||(ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ts(e){if(we(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=nt(n)?i1(n):ts(n);if(o)for(const s in o)t[s]=o[s]}return t}else if(nt(e)||je(e))return e}const o1=/;(?![^(]*\))/g,s1=/:([^]+)/,u1=/\/\*[^]*?\*\//g;function i1(e){const t={};return e.replace(u1,"").split(o1).forEach(r=>{if(r){const n=r.split(s1);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Gt(e){let t="";if(nt(e))t=e;else if(we(e))for(let r=0;r<e.length;r++){const n=Gt(e[r]);n&&(t+=n+" ")}else if(je(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const a1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c1=ec(a1);function P0(e){return!!e||e===""}function l1(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=ho(e[n],t[n]);return r}function ho(e,t){if(e===t)return!0;let r=sl(e),n=sl(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=wr(e),n=wr(t),r||n)return e===t;if(r=we(e),n=we(t),r||n)return r&&n?l1(e,t):!1;if(r=je(e),n=je(t),r||n){if(!r||!n)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const i=e.hasOwnProperty(u),a=t.hasOwnProperty(u);if(i&&!a||!i&&a||!ho(e[u],t[u]))return!1}}return String(e)===String(t)}function oc(e,t){return e.findIndex(r=>ho(r,t))}const D0=e=>!!(e&&e.__v_isRef===!0),tt=e=>nt(e)?e:e==null?"":we(e)||je(e)&&(e.toString===$0||!$e(e.toString))?D0(e)?tt(e.value):JSON.stringify(e,R0,2):String(e),R0=(e,t)=>D0(t)?R0(e,t.value):Qn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,o],s)=>(r[Ci(n,s)+" =>"]=o,r),{})}:fo(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Ci(r))}:wr(t)?Ci(t):je(t)&&!we(t)&&!T0(t)?String(t):t,Ci=(e,t="")=>{var r;return wr(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};let Mt;class f1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=Mt,!t&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Mt;try{return Mt=this,t()}finally{Mt=r}}}on(){++this._on===1&&(this.prevScope=Mt,Mt=this)}off(){this._on>0&&--this._on===0&&(Mt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function d1(){return Mt}let Be;const $i=new WeakSet;class I0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mt&&Mt.active&&Mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$i.has(this)&&($i.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||F0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,il(this),N0(this);const t=Be,r=cr;Be=this,cr=!0;try{return this.fn()}finally{M0(this),Be=t,cr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ic(t);this.deps=this.depsTail=void 0,il(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$i.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ha(this)&&this.run()}get dirty(){return ha(this)}}let O0=0,Do,Ro;function F0(e,t=!1){if(e.flags|=8,t){e.next=Ro,Ro=e;return}e.next=Do,Do=e}function sc(){O0++}function uc(){if(--O0>0)return;if(Ro){let t=Ro;for(Ro=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Do;){let t=Do;for(Do=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function N0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function M0(e){let t,r=e.depsTail,n=r;for(;n;){const o=n.prevDep;n.version===-1?(n===r&&(r=o),ic(n),h1(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=r}function ha(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(z0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function z0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Mo)||(e.globalVersion=Mo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ha(e))))return;e.flags|=2;const t=e.dep,r=Be,n=cr;Be=e,cr=!0;try{N0(e);const o=e.fn(e._value);(t.version===0||nn(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Be=r,cr=n,M0(e),e.flags&=-3}}function ic(e,t=!1){const{dep:r,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)ic(s,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function h1(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let cr=!0;const j0=[];function qr(){j0.push(cr),cr=!1}function Lr(){const e=j0.pop();cr=e===void 0?!0:e}function il(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Be;Be=void 0;try{t()}finally{Be=r}}}let Mo=0;class p1{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ac{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Be||!cr||Be===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Be)r=this.activeLink=new p1(Be,this),Be.deps?(r.prevDep=Be.depsTail,Be.depsTail.nextDep=r,Be.depsTail=r):Be.deps=Be.depsTail=r,q0(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Be.depsTail,r.nextDep=void 0,Be.depsTail.nextDep=r,Be.depsTail=r,Be.deps===r&&(Be.deps=n)}return r}trigger(t){this.version++,Mo++,this.notify(t)}notify(t){sc();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{uc()}}}function q0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)q0(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const pa=new WeakMap,An=Symbol(""),ma=Symbol(""),zo=Symbol("");function Et(e,t,r){if(cr&&Be){let n=pa.get(e);n||pa.set(e,n=new Map);let o=n.get(r);o||(n.set(r,o=new ac),o.map=n,o.key=r),o.track()}}function Fr(e,t,r,n,o,s){const u=pa.get(e);if(!u){Mo++;return}const i=a=>{a&&a.trigger()};if(sc(),t==="clear")u.forEach(i);else{const a=we(e),c=a&&nc(r);if(a&&r==="length"){const l=Number(n);u.forEach((f,d)=>{(d==="length"||d===zo||!wr(d)&&d>=l)&&i(f)})}else switch((r!==void 0||u.has(void 0))&&i(u.get(r)),c&&i(u.get(zo)),t){case"add":a?c&&i(u.get("length")):(i(u.get(An)),Qn(e)&&i(u.get(ma)));break;case"delete":a||(i(u.get(An)),Qn(e)&&i(u.get(ma)));break;case"set":Qn(e)&&i(u.get(An));break}}uc()}function On(e){const t=Ie(e);return t===e?t:(Et(t,"iterate",zo),Qt(e)?t:t.map(lr))}function Yu(e){return Et(e=Ie(e),"iterate",zo),e}function Gr(e,t){return Ur(e)?no(Pn(e)?lr(t):t):lr(t)}const m1={__proto__:null,[Symbol.iterator](){return Ti(this,Symbol.iterator,e=>Gr(this,e))},concat(...e){return On(this).concat(...e.map(t=>we(t)?On(t):t))},entries(){return Ti(this,"entries",e=>(e[1]=Gr(this,e[1]),e))},every(e,t){return $r(this,"every",e,t,void 0,arguments)},filter(e,t){return $r(this,"filter",e,t,r=>r.map(n=>Gr(this,n)),arguments)},find(e,t){return $r(this,"find",e,t,r=>Gr(this,r),arguments)},findIndex(e,t){return $r(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $r(this,"findLast",e,t,r=>Gr(this,r),arguments)},findLastIndex(e,t){return $r(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $r(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ai(this,"includes",e)},indexOf(...e){return Ai(this,"indexOf",e)},join(e){return On(this).join(e)},lastIndexOf(...e){return Ai(this,"lastIndexOf",e)},map(e,t){return $r(this,"map",e,t,void 0,arguments)},pop(){return _o(this,"pop")},push(...e){return _o(this,"push",e)},reduce(e,...t){return al(this,"reduce",e,t)},reduceRight(e,...t){return al(this,"reduceRight",e,t)},shift(){return _o(this,"shift")},some(e,t){return $r(this,"some",e,t,void 0,arguments)},splice(...e){return _o(this,"splice",e)},toReversed(){return On(this).toReversed()},toSorted(e){return On(this).toSorted(e)},toSpliced(...e){return On(this).toSpliced(...e)},unshift(...e){return _o(this,"unshift",e)},values(){return Ti(this,"values",e=>Gr(this,e))}};function Ti(e,t,r){const n=Yu(e),o=n[t]();return n!==e&&!Qt(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.done||(s.value=r(s.value)),s}),o}const g1=Array.prototype;function $r(e,t,r,n,o,s){const u=Yu(e),i=u!==e&&!Qt(e),a=u[t];if(a!==g1[t]){const f=a.apply(e,s);return i?lr(f):f}let c=r;u!==e&&(i?c=function(f,d){return r.call(this,Gr(e,f),d,e)}:r.length>2&&(c=function(f,d){return r.call(this,f,d,e)}));const l=a.call(u,c,n);return i&&o?o(l):l}function al(e,t,r,n){const o=Yu(e);let s=r;return o!==e&&(Qt(e)?r.length>3&&(s=function(u,i,a){return r.call(this,u,i,a,e)}):s=function(u,i,a){return r.call(this,u,Gr(e,i),a,e)}),o[t](s,...n)}function Ai(e,t,r){const n=Ie(e);Et(n,"iterate",zo);const o=n[t](...r);return(o===-1||o===!1)&&fc(r[0])?(r[0]=Ie(r[0]),n[t](...r)):o}function _o(e,t,r=[]){qr(),sc();const n=Ie(e)[t].apply(e,r);return uc(),Lr(),n}const b1=ec("__proto__,__v_isRef,__isVue"),L0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wr));function _1(e){wr(e)||(e=String(e));const t=Ie(this);return Et(t,"has",e),t.hasOwnProperty(e)}class U0{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(o?s?T1:H0:s?Z0:B0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const u=we(t);if(!o){let a;if(u&&(a=m1[r]))return a;if(r==="hasOwnProperty")return _1}const i=Reflect.get(t,r,at(t)?t:n);if((wr(r)?L0.has(r):b1(r))||(o||Et(t,"get",r),s))return i;if(at(i)){const a=u&&nc(r)?i:i.value;return o&&je(a)?ba(a):a}return je(i)?o?ba(i):rs(i):i}}class V0 extends U0{constructor(t=!1){super(!1,t)}set(t,r,n,o){let s=t[r];const u=we(t)&&nc(r);if(!this._isShallow){const c=Ur(s);if(!Qt(n)&&!Ur(n)&&(s=Ie(s),n=Ie(n)),!u&&at(s)&&!at(n))return c||(s.value=n),!0}const i=u?Number(r)<t.length:Ne(t,r),a=Reflect.set(t,r,n,at(t)?t:o);return t===Ie(o)&&(i?nn(n,s)&&Fr(t,"set",r,n):Fr(t,"add",r,n)),a}deleteProperty(t,r){const n=Ne(t,r);t[r];const o=Reflect.deleteProperty(t,r);return o&&n&&Fr(t,"delete",r,void 0),o}has(t,r){const n=Reflect.has(t,r);return(!wr(r)||!L0.has(r))&&Et(t,"has",r),n}ownKeys(t){return Et(t,"iterate",we(t)?"length":An),Reflect.ownKeys(t)}}class y1 extends U0{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const x1=new V0,v1=new y1,w1=new V0(!0);const ga=e=>e,ms=e=>Reflect.getPrototypeOf(e);function k1(e,t,r){return function(...n){const o=this.__v_raw,s=Ie(o),u=Qn(s),i=e==="entries"||e===Symbol.iterator&&u,a=e==="keys"&&u,c=o[e](...n),l=r?ga:t?no:lr;return!t&&Et(s,"iterate",a?ma:An),pt(Object.create(c),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:i?[l(f[0]),l(f[1])]:l(f),done:d}}})}}function gs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function E1(e,t){const r={get(o){const s=this.__v_raw,u=Ie(s),i=Ie(o);e||(nn(o,i)&&Et(u,"get",o),Et(u,"get",i));const{has:a}=ms(u),c=t?ga:e?no:lr;if(a.call(u,o))return c(s.get(o));if(a.call(u,i))return c(s.get(i));s!==u&&s.get(o)},get size(){const o=this.__v_raw;return!e&&Et(Ie(o),"iterate",An),o.size},has(o){const s=this.__v_raw,u=Ie(s),i=Ie(o);return e||(nn(o,i)&&Et(u,"has",o),Et(u,"has",i)),o===i?s.has(o):s.has(o)||s.has(i)},forEach(o,s){const u=this,i=u.__v_raw,a=Ie(i),c=t?ga:e?no:lr;return!e&&Et(a,"iterate",An),i.forEach((l,f)=>o.call(s,c(l),c(f),u))}};return pt(r,e?{add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear")}:{add(o){!t&&!Qt(o)&&!Ur(o)&&(o=Ie(o));const s=Ie(this);return ms(s).has.call(s,o)||(s.add(o),Fr(s,"add",o,o)),this},set(o,s){!t&&!Qt(s)&&!Ur(s)&&(s=Ie(s));const u=Ie(this),{has:i,get:a}=ms(u);let c=i.call(u,o);c||(o=Ie(o),c=i.call(u,o));const l=a.call(u,o);return u.set(o,s),c?nn(s,l)&&Fr(u,"set",o,s):Fr(u,"add",o,s),this},delete(o){const s=Ie(this),{has:u,get:i}=ms(s);let a=u.call(s,o);a||(o=Ie(o),a=u.call(s,o)),i&&i.call(s,o);const c=s.delete(o);return a&&Fr(s,"delete",o,void 0),c},clear(){const o=Ie(this),s=o.size!==0,u=o.clear();return s&&Fr(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=k1(o,e,t)}),r}function cc(e,t){const r=E1(e,t);return(n,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(Ne(r,o)&&o in n?r:n,o,s)}const S1={get:cc(!1,!1)},C1={get:cc(!1,!0)},$1={get:cc(!0,!1)};const B0=new WeakMap,Z0=new WeakMap,H0=new WeakMap,T1=new WeakMap;function A1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function P1(e){return e.__v_skip||!Object.isExtensible(e)?0:A1(e1(e))}function rs(e){return Ur(e)?e:lc(e,!1,x1,S1,B0)}function D1(e){return lc(e,!1,w1,C1,Z0)}function ba(e){return lc(e,!0,v1,$1,H0)}function lc(e,t,r,n,o){if(!je(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=P1(e);if(s===0)return e;const u=o.get(e);if(u)return u;const i=new Proxy(e,s===2?n:r);return o.set(e,i),i}function Pn(e){return Ur(e)?Pn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ur(e){return!!(e&&e.__v_isReadonly)}function Qt(e){return!!(e&&e.__v_isShallow)}function fc(e){return e?!!e.__v_raw:!1}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function R1(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&A0(e,"__v_skip",!0),e}const lr=e=>je(e)?rs(e):e,no=e=>je(e)?ba(e):e;function at(e){return e?e.__v_isRef===!0:!1}function Se(e){return I1(e,!1)}function I1(e,t){return at(e)?e:new O1(e,t)}class O1{constructor(t,r){this.dep=new ac,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ie(t),this._value=r?t:lr(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||Qt(t)||Ur(t);t=n?t:Ie(t),nn(t,r)&&(this._rawValue=t,this._value=n?t:lr(t),this.dep.trigger())}}function te(e){return at(e)?e.value:e}const F1={get:(e,t,r)=>t==="__v_raw"?e:te(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const o=e[t];return at(o)&&!at(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function K0(e){return Pn(e)?e:new Proxy(e,F1)}class N1{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ac(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return F0(this,!0),!0}get value(){const t=this.dep.track();return z0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function M1(e,t,r=!1){let n,o;return $e(e)?n=e:(n=e.get,o=e.set),new N1(n,o,r)}const bs={},wu=new WeakMap;let Sn;function z1(e,t=!1,r=Sn){if(r){let n=wu.get(r);n||wu.set(r,n=[]),n.push(e)}}function j1(e,t,r=Ue){const{immediate:n,deep:o,once:s,scheduler:u,augmentJob:i,call:a}=r,c=v=>o?v:Qt(v)||o===!1||o===0?Nr(v,1):Nr(v);let l,f,d,h,m=!1,x=!1;if(at(e)?(f=()=>e.value,m=Qt(e)):Pn(e)?(f=()=>c(e),m=!0):we(e)?(x=!0,m=e.some(v=>Pn(v)||Qt(v)),f=()=>e.map(v=>{if(at(v))return v.value;if(Pn(v))return c(v);if($e(v))return a?a(v,2):v()})):$e(e)?t?f=a?()=>a(e,2):e:f=()=>{if(d){qr();try{d()}finally{Lr()}}const v=Sn;Sn=l;try{return a?a(e,3,[h]):e(h)}finally{Sn=v}}:f=vr,t&&o){const v=f,_=o===!0?1/0:o;f=()=>Nr(v(),_)}const b=d1(),k=()=>{l.stop(),b&&b.active&&rc(b.effects,l)};if(s&&t){const v=t;t=(..._)=>{v(..._),k()}}let p=x?new Array(e.length).fill(bs):bs;const g=v=>{if(!(!(l.flags&1)||!l.dirty&&!v))if(t){const _=l.run();if(o||m||(x?_.some((E,T)=>nn(E,p[T])):nn(_,p))){d&&d();const E=Sn;Sn=l;try{const T=[_,p===bs?void 0:x&&p[0]===bs?[]:p,h];p=_,a?a(t,3,T):t(...T)}finally{Sn=E}}}else l.run()};return i&&i(g),l=new I0(f),l.scheduler=u?()=>u(g,!1):g,h=v=>z1(v,!1,l),d=l.onStop=()=>{const v=wu.get(l);if(v){if(a)a(v,4);else for(const _ of v)_();wu.delete(l)}},t?n?g(!0):p=l.run():u?u(g.bind(null,!0),!0):l.run(),k.pause=l.pause.bind(l),k.resume=l.resume.bind(l),k.stop=k,k}function Nr(e,t=1/0,r){if(t<=0||!je(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,at(e))Nr(e.value,t,r);else if(we(e))for(let n=0;n<e.length;n++)Nr(e[n],t,r);else if(fo(e)||Qn(e))e.forEach(n=>{Nr(n,t,r)});else if(T0(e)){for(const n in e)Nr(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Nr(e[n],t,r)}return e}function ns(e,t,r,n){try{return n?e(...n):e()}catch(o){Qu(o,t,r)}}function fr(e,t,r,n){if($e(e)){const o=ns(e,t,r,n);return o&&C0(o)&&o.catch(s=>{Qu(s,t,r)}),o}if(we(e)){const o=[];for(let s=0;s<e.length;s++)o.push(fr(e[s],t,r,n));return o}}function Qu(e,t,r,n=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Ue;if(t){let i=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const l=i.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,a,c)===!1)return}i=i.parent}if(s){qr(),ns(s,null,10,[e,a,c]),Lr();return}}q1(e,r,o,n,u)}function q1(e,t,r,n=!0,o=!1){if(o)throw e;console.error(e)}const Dt=[];let gr=-1;const Xn=[];let Yr=null,Un=0;const J0=Promise.resolve();let ku=null;function dc(e){const t=ku||J0;return e?t.then(this?e.bind(this):e):t}function L1(e){let t=gr+1,r=Dt.length;for(;t<r;){const n=t+r>>>1,o=Dt[n],s=jo(o);s<e||s===e&&o.flags&2?t=n+1:r=n}return t}function hc(e){if(!(e.flags&1)){const t=jo(e),r=Dt[Dt.length-1];!r||!(e.flags&2)&&t>=jo(r)?Dt.push(e):Dt.splice(L1(t),0,e),e.flags|=1,W0()}}function W0(){ku||(ku=J0.then(Y0))}function U1(e){we(e)?Xn.push(...e):Yr&&e.id===-1?Yr.splice(Un+1,0,e):e.flags&1||(Xn.push(e),e.flags|=1),W0()}function cl(e,t,r=gr+1){for(;r<Dt.length;r++){const n=Dt[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Dt.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function G0(e){if(Xn.length){const t=[...new Set(Xn)].sort((r,n)=>jo(r)-jo(n));if(Xn.length=0,Yr){Yr.push(...t);return}for(Yr=t,Un=0;Un<Yr.length;Un++){const r=Yr[Un];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Yr=null,Un=0}}const jo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Y0(e){try{for(gr=0;gr<Dt.length;gr++){const t=Dt[gr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ns(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gr<Dt.length;gr++){const t=Dt[gr];t&&(t.flags&=-2)}gr=-1,Dt.length=0,G0(),ku=null,(Dt.length||Xn.length)&&Y0()}}let Bt=null,Q0=null;function Eu(e){const t=Bt;return Bt=e,Q0=e&&e.type.__scopeId||null,t}function X0(e,t=Bt,r){if(!t||e._n)return e;const n=(...o)=>{n._d&&$u(-1);const s=Eu(t);let u;try{u=e(...o)}finally{Eu(s),n._d&&$u(1)}return u};return n._n=!0,n._c=!0,n._d=!0,n}function zt(e,t){if(Bt===null)return e;const r=oi(Bt),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,u,i,a=Ue]=t[o];s&&($e(s)&&(s={mounted:s,updated:s}),s.deep&&Nr(u),n.push({dir:s,instance:r,value:u,oldValue:void 0,arg:i,modifiers:a}))}return e}function mn(e,t,r,n){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const i=o[u];s&&(i.oldValue=s[u].value);let a=i.dir[n];a&&(qr(),fr(a,r,8,[e.el,i,e,t]),Lr())}}function V1(e,t){if(St){let r=St.provides;const n=St.parent&&St.parent.provides;n===r&&(r=St.provides=Object.create(n)),r[e]=t}}function bu(e,t,r=!1){const n=Dh();if(n||eo){let o=eo?eo._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return r&&$e(t)?t.call(n&&n.proxy):t}}const B1=Symbol.for("v-scx"),Z1=()=>bu(B1);function _u(e,t,r){return eh(e,t,r)}function eh(e,t,r=Ue){const{immediate:n,deep:o,flush:s,once:u}=r,i=pt({},r),a=t&&n||!t&&s!=="post";let c;if(Uo){if(s==="sync"){const h=Z1();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=vr,h.resume=vr,h.pause=vr,h}}const l=St;i.call=(h,m,x)=>fr(h,l,m,x);let f=!1;s==="post"?i.scheduler=h=>{Nt(h,l&&l.suspense)}:s!=="sync"&&(f=!0,i.scheduler=(h,m)=>{m?h():hc(h)}),i.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const d=j1(e,t,i);return Uo&&(c?c.push(d):a&&d()),d}function H1(e,t,r){const n=this.proxy,o=nt(e)?e.includes(".")?th(n,e):()=>n[e]:e.bind(n,n);let s;$e(t)?s=t:(s=t.handler,r=t);const u=ss(this),i=eh(o,s.bind(n),r);return u(),i}function th(e,t){const r=t.split(".");return()=>{let n=e;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}const K1=Symbol("_vte"),rh=e=>e.__isTeleport,br=Symbol("_leaveCb"),yo=Symbol("_enterCb");function J1(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return os(()=>{e.isMounted=!0}),lh(()=>{e.isUnmounting=!0}),e}const Wt=[Function,Array],nh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wt,onEnter:Wt,onAfterEnter:Wt,onEnterCancelled:Wt,onBeforeLeave:Wt,onLeave:Wt,onAfterLeave:Wt,onLeaveCancelled:Wt,onBeforeAppear:Wt,onAppear:Wt,onAfterAppear:Wt,onAppearCancelled:Wt},oh=e=>{const t=e.subTree;return t.component?oh(t.component):t},W1={name:"BaseTransition",props:nh,setup(e,{slots:t}){const r=Dh(),n=J1();return()=>{const o=t.default&&ih(t.default(),!0);if(!o||!o.length)return;const s=sh(o),u=Ie(e),{mode:i}=u;if(n.isLeaving)return Pi(s);const a=ll(s);if(!a)return Pi(s);let c=_a(a,u,n,r,f=>c=f);a.type!==Rt&&qo(a,c);let l=r.subTree&&ll(r.subTree);if(l&&l.type!==Rt&&!Tn(l,a)&&oh(r).type!==Rt){let f=_a(l,u,n,r);if(qo(l,f),i==="out-in"&&a.type!==Rt)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,l=void 0},Pi(s);i==="in-out"&&a.type!==Rt?f.delayLeave=(d,h,m)=>{const x=uh(n,l);x[String(l.key)]=l,d[br]=()=>{h(),d[br]=void 0,delete c.delayedLeave,l=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return s}}};function sh(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Rt){t=r;break}}return t}const G1=W1;function uh(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function _a(e,t,r,n,o){const{appear:s,mode:u,persisted:i=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:x,onBeforeAppear:b,onAppear:k,onAfterAppear:p,onAppearCancelled:g}=t,v=String(e.key),_=uh(r,e),E=(Z,G)=>{Z&&fr(Z,n,9,G)},T=(Z,G)=>{const V=G[1];E(Z,G),we(Z)?Z.every(U=>U.length<=1)&&V():Z.length<=1&&V()},q={mode:u,persisted:i,beforeEnter(Z){let G=a;if(!r.isMounted)if(s)G=b||a;else return;Z[br]&&Z[br](!0);const V=_[v];V&&Tn(e,V)&&V.el[br]&&V.el[br](),E(G,[Z])},enter(Z){let G=c,V=l,U=f;if(!r.isMounted)if(s)G=k||c,V=p||l,U=g||f;else return;let re=!1;Z[yo]=_e=>{re||(re=!0,_e?E(U,[Z]):E(V,[Z]),q.delayedLeave&&q.delayedLeave(),Z[yo]=void 0)};const oe=Z[yo].bind(null,!1);G?T(G,[Z,oe]):oe()},leave(Z,G){const V=String(e.key);if(Z[yo]&&Z[yo](!0),r.isUnmounting)return G();E(d,[Z]);let U=!1;Z[br]=oe=>{U||(U=!0,G(),oe?E(x,[Z]):E(m,[Z]),Z[br]=void 0,_[V]===e&&delete _[V])};const re=Z[br].bind(null,!1);_[V]=e,h?T(h,[Z,re]):re()},clone(Z){const G=_a(Z,t,r,n,o);return o&&o(G),G}};return q}function Pi(e){if(Xu(e))return e=on(e),e.children=null,e}function ll(e){if(!Xu(e))return rh(e.type)&&e.children?sh(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&$e(r.default))return r.default()}}function qo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,qo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ih(e,t=!1,r){let n=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const i=r==null?u.key:String(r)+String(u.key!=null?u.key:s);u.type===ot?(u.patchFlag&128&&o++,n=n.concat(ih(u.children,t,i))):(t||u.type!==Rt)&&n.push(i!=null?on(u,{key:i}):u)}if(o>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function ah(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fl(e,t){let r;return!!((r=Object.getOwnPropertyDescriptor(e,t))&&!r.configurable)}const Su=new WeakMap;function Io(e,t,r,n,o=!1){if(we(e)){e.forEach((x,b)=>Io(x,t&&(we(t)?t[b]:t),r,n,o));return}if(Oo(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Io(e,t,r,n.component.subTree);return}const s=n.shapeFlag&4?oi(n.component):n.el,u=o?null:s,{i,r:a}=e,c=t&&t.r,l=i.refs===Ue?i.refs={}:i.refs,f=i.setupState,d=Ie(f),h=f===Ue?S0:x=>fl(l,x)?!1:Ne(d,x),m=(x,b)=>!(b&&fl(l,b));if(c!=null&&c!==a){if(dl(t),nt(c))l[c]=null,h(c)&&(f[c]=null);else if(at(c)){const x=t;m(c,x.k)&&(c.value=null),x.k&&(l[x.k]=null)}}if($e(a))ns(a,i,12,[u,l]);else{const x=nt(a),b=at(a);if(x||b){const k=()=>{if(e.f){const p=x?h(a)?f[a]:l[a]:m()||!e.k?a.value:l[e.k];if(o)we(p)&&rc(p,s);else if(we(p))p.includes(s)||p.push(s);else if(x)l[a]=[s],h(a)&&(f[a]=l[a]);else{const g=[s];m(a,e.k)&&(a.value=g),e.k&&(l[e.k]=g)}}else x?(l[a]=u,h(a)&&(f[a]=u)):b&&(m(a,e.k)&&(a.value=u),e.k&&(l[e.k]=u))};if(u){const p=()=>{k(),Su.delete(e)};p.id=-1,Su.set(e,p),Nt(p,r)}else dl(e),k()}}}function dl(e){const t=Su.get(e);t&&(t.flags|=8,Su.delete(e))}Gu().requestIdleCallback;Gu().cancelIdleCallback;const Oo=e=>!!e.type.__asyncLoader,Xu=e=>e.type.__isKeepAlive;function Y1(e,t){ch(e,"a",t)}function Q1(e,t){ch(e,"da",t)}function ch(e,t,r=St){const n=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(ei(t,n,r),r){let o=r.parent;for(;o&&o.parent;)Xu(o.parent.vnode)&&X1(n,t,r,o),o=o.parent}}function X1(e,t,r,n){const o=ei(t,e,n,!0);ti(()=>{rc(n[t],o)},r)}function ei(e,t,r=St,n=!1){if(r){const o=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...u)=>{qr();const i=ss(r),a=fr(t,r,e,u);return i(),Lr(),a});return n?o.unshift(s):o.push(s),s}}const Vr=e=>(t,r=St)=>{(!Uo||e==="sp")&&ei(e,(...n)=>t(...n),r)},e2=Vr("bm"),os=Vr("m"),t2=Vr("bu"),r2=Vr("u"),lh=Vr("bum"),ti=Vr("um"),n2=Vr("sp"),o2=Vr("rtg"),s2=Vr("rtc");function u2(e,t=St){ei("ec",e,t)}const i2="components",fh=Symbol.for("v-ndc");function a2(e){return nt(e)?c2(i2,e,!1)||e:e||fh}function c2(e,t,r=!0,n=!1){const o=Bt||St;if(o){const s=o.type;{const i=K2(s,!1);if(i&&(i===t||i===Xt(t)||i===Ju(Xt(t))))return s}const u=hl(o[e]||s[e],t)||hl(o.appContext[e],t);return!u&&n?s:u}}function hl(e,t){return e&&(e[t]||e[Xt(t)]||e[Ju(Xt(t))])}function Mr(e,t,r,n){let o;const s=r,u=we(e);if(u||nt(e)){const i=u&&Pn(e);let a=!1,c=!1;i&&(a=!Qt(e),c=Ur(e),e=Yu(e)),o=new Array(e.length);for(let l=0,f=e.length;l<f;l++)o[l]=t(a?c?no(lr(e[l])):lr(e[l]):e[l],l,void 0,s)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,s)}else if(je(e))if(e[Symbol.iterator])o=Array.from(e,(i,a)=>t(i,a,void 0,s));else{const i=Object.keys(e);o=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const l=i[a];o[a]=t(e[l],l,a,s)}}else o=[];return o}const ya=e=>e?Rh(e)?oi(e):ya(e.parent):null,Fo=pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ya(e.parent),$root:e=>ya(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hh(e),$forceUpdate:e=>e.f||(e.f=()=>{hc(e.update)}),$nextTick:e=>e.n||(e.n=dc.bind(e.proxy)),$watch:e=>H1.bind(e)}),Di=(e,t)=>e!==Ue&&!e.__isScriptSetup&&Ne(e,t),l2={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:o,props:s,accessCache:u,type:i,appContext:a}=e;if(t[0]!=="$"){const d=u[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return s[t]}else{if(Di(n,t))return u[t]=1,n[t];if(o!==Ue&&Ne(o,t))return u[t]=2,o[t];if(Ne(s,t))return u[t]=3,s[t];if(r!==Ue&&Ne(r,t))return u[t]=4,r[t];xa&&(u[t]=0)}}const c=Fo[t];let l,f;if(c)return t==="$attrs"&&Et(e.attrs,"get",""),c(e);if((l=i.__cssModules)&&(l=l[t]))return l;if(r!==Ue&&Ne(r,t))return u[t]=4,r[t];if(f=a.config.globalProperties,Ne(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:o,ctx:s}=e;return Di(o,t)?(o[t]=r,!0):n!==Ue&&Ne(n,t)?(n[t]=r,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,props:s,type:u}},i){let a;return!!(r[i]||e!==Ue&&i[0]!=="$"&&Ne(e,i)||Di(t,i)||Ne(s,i)||Ne(n,i)||Ne(Fo,i)||Ne(o.config.globalProperties,i)||(a=u.__cssModules)&&a[i])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ne(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function pl(e){return we(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let xa=!0;function f2(e){const t=hh(e),r=e.proxy,n=e.ctx;xa=!1,t.beforeCreate&&ml(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:i,provide:a,inject:c,created:l,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:x,deactivated:b,beforeDestroy:k,beforeUnmount:p,destroyed:g,unmounted:v,render:_,renderTracked:E,renderTriggered:T,errorCaptured:q,serverPrefetch:Z,expose:G,inheritAttrs:V,components:U,directives:re,filters:oe}=t;if(c&&d2(c,n,null),u)for(const J in u){const Y=u[J];$e(Y)&&(n[J]=Y.bind(r))}if(o){const J=o.call(r,r);je(J)&&(e.data=rs(J))}if(xa=!0,s)for(const J in s){const Y=s[J],De=$e(Y)?Y.bind(r,r):$e(Y.get)?Y.get.bind(r,r):vr,X=!$e(Y)&&$e(Y.set)?Y.set.bind(r):vr,F=Oh({get:De,set:X});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>F.value,set:A=>F.value=A})}if(i)for(const J in i)dh(i[J],n,r,J);if(a){const J=$e(a)?a.call(r):a;Reflect.ownKeys(J).forEach(Y=>{V1(Y,J[Y])})}l&&ml(l,e,"c");function ve(J,Y){we(Y)?Y.forEach(De=>J(De.bind(r))):Y&&J(Y.bind(r))}if(ve(e2,f),ve(os,d),ve(t2,h),ve(r2,m),ve(Y1,x),ve(Q1,b),ve(u2,q),ve(s2,E),ve(o2,T),ve(lh,p),ve(ti,v),ve(n2,Z),we(G))if(G.length){const J=e.exposed||(e.exposed={});G.forEach(Y=>{Object.defineProperty(J,Y,{get:()=>r[Y],set:De=>r[Y]=De,enumerable:!0})})}else e.exposed||(e.exposed={});_&&e.render===vr&&(e.render=_),V!=null&&(e.inheritAttrs=V),U&&(e.components=U),re&&(e.directives=re),Z&&ah(e)}function d2(e,t,r=vr){we(e)&&(e=va(e));for(const n in e){const o=e[n];let s;je(o)?"default"in o?s=bu(o.from||n,o.default,!0):s=bu(o.from||n):s=bu(o),at(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[n]=s}}function ml(e,t,r){fr(we(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function dh(e,t,r,n){let o=n.includes(".")?th(r,n):()=>r[n];if(nt(e)){const s=t[e];$e(s)&&_u(o,s)}else if($e(e))_u(o,e.bind(r));else if(je(e))if(we(e))e.forEach(s=>dh(s,t,r,n));else{const s=$e(e.handler)?e.handler.bind(r):t[e.handler];$e(s)&&_u(o,s,e)}}function hh(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,i=s.get(t);let a;return i?a=i:!o.length&&!r&&!n?a=t:(a={},o.length&&o.forEach(c=>Cu(a,c,u,!0)),Cu(a,t,u)),je(t)&&s.set(t,a),a}function Cu(e,t,r,n=!1){const{mixins:o,extends:s}=t;s&&Cu(e,s,r,!0),o&&o.forEach(u=>Cu(e,u,r,!0));for(const u in t)if(!(n&&u==="expose")){const i=h2[u]||r&&r[u];e[u]=i?i(e[u],t[u]):t[u]}return e}const h2={data:gl,props:bl,emits:bl,methods:Co,computed:Co,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:Co,directives:Co,watch:m2,provide:gl,inject:p2};function gl(e,t){return t?e?function(){return pt($e(e)?e.call(this,this):e,$e(t)?t.call(this,this):t)}:t:e}function p2(e,t){return Co(va(e),va(t))}function va(e){if(we(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function At(e,t){return e?[...new Set([].concat(e,t))]:t}function Co(e,t){return e?pt(Object.create(null),e,t):t}function bl(e,t){return e?we(e)&&we(t)?[...new Set([...e,...t])]:pt(Object.create(null),pl(e),pl(t??{})):t}function m2(e,t){if(!e)return t;if(!t)return e;const r=pt(Object.create(null),e);for(const n in t)r[n]=At(e[n],t[n]);return r}function ph(){return{app:null,config:{isNativeTag:S0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g2=0;function b2(e,t){return function(n,o=null){$e(n)||(n=pt({},n)),o!=null&&!je(o)&&(o=null);const s=ph(),u=new WeakSet,i=[];let a=!1;const c=s.app={_uid:g2++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:W2,get config(){return s.config},set config(l){},use(l,...f){return u.has(l)||(l&&$e(l.install)?(u.add(l),l.install(c,...f)):$e(l)&&(u.add(l),l(c,...f))),c},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),c},component(l,f){return f?(s.components[l]=f,c):s.components[l]},directive(l,f){return f?(s.directives[l]=f,c):s.directives[l]},mount(l,f,d){if(!a){const h=c._ceVNode||ke(n,o);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),e(h,l,d),a=!0,c._container=l,l.__vue_app__=c,oi(h.component)}},onUnmount(l){i.push(l)},unmount(){a&&(fr(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(l,f){return s.provides[l]=f,c},runWithContext(l){const f=eo;eo=c;try{return l()}finally{eo=f}}};return c}}let eo=null;const _2=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xt(t)}Modifiers`]||e[`${cn(t)}Modifiers`];function y2(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Ue;let o=r;const s=t.startsWith("update:"),u=s&&_2(n,t.slice(7));u&&(u.trim&&(o=r.map(l=>nt(l)?l.trim():l)),u.number&&(o=r.map(Wu)));let i,a=n[i=Si(t)]||n[i=Si(Xt(t))];!a&&s&&(a=n[i=Si(cn(t))]),a&&fr(a,e,6,o);const c=n[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,fr(c,e,6,o)}}const x2=new WeakMap;function mh(e,t,r=!1){const n=r?x2:t.emitsCache,o=n.get(e);if(o!==void 0)return o;const s=e.emits;let u={},i=!1;if(!$e(e)){const a=c=>{const l=mh(c,t,!0);l&&(i=!0,pt(u,l))};!r&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!i?(je(e)&&n.set(e,null),null):(we(s)?s.forEach(a=>u[a]=null):pt(u,s),je(e)&&n.set(e,u),u)}function ri(e,t){return!e||!Hu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,cn(t))||Ne(e,t))}function _l(e){const{type:t,vnode:r,proxy:n,withProxy:o,propsOptions:[s],slots:u,attrs:i,emit:a,render:c,renderCache:l,props:f,data:d,setupState:h,ctx:m,inheritAttrs:x}=e,b=Eu(e);let k,p;try{if(r.shapeFlag&4){const v=o||n,_=v;k=_r(c.call(_,v,l,f,h,d,m)),p=i}else{const v=t;k=_r(v.length>1?v(f,{attrs:i,slots:u,emit:a}):v(f,null)),p=t.props?i:v2(i)}}catch(v){No.length=0,Qu(v,e,1),k=ke(Rt)}let g=k;if(p&&x!==!1){const v=Object.keys(p),{shapeFlag:_}=g;v.length&&_&7&&(s&&v.some(tc)&&(p=w2(p,s)),g=on(g,p,!1,!0))}return r.dirs&&(g=on(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&qo(g,r.transition),k=g,Eu(b),k}const v2=e=>{let t;for(const r in e)(r==="class"||r==="style"||Hu(r))&&((t||(t={}))[r]=e[r]);return t},w2=(e,t)=>{const r={};for(const n in e)(!tc(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function k2(e,t,r){const{props:n,children:o,component:s}=e,{props:u,children:i,patchFlag:a}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&a>=0){if(a&1024)return!0;if(a&16)return n?yl(n,u,c):!!u;if(a&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const d=l[f];if(gh(u,n,d)&&!ri(c,d))return!0}}}else return(o||i)&&(!i||!i.$stable)?!0:n===u?!1:n?u?yl(n,u,c):!0:!!u;return!1}function yl(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(gh(t,e,s)&&!ri(r,s))return!0}return!1}function gh(e,t,r){const n=e[r],o=t[r];return r==="style"&&je(n)&&je(o)?!ho(n,o):n!==o}function E2({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const bh={},_h=()=>Object.create(bh),yh=e=>Object.getPrototypeOf(e)===bh;function S2(e,t,r,n=!1){const o={},s=_h();e.propsDefaults=Object.create(null),xh(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);r?e.props=n?o:D1(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function C2(e,t,r,n){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,i=Ie(o),[a]=e.propsOptions;let c=!1;if((n||u>0)&&!(u&16)){if(u&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let d=l[f];if(ri(e.emitsOptions,d))continue;const h=t[d];if(a)if(Ne(s,d))h!==s[d]&&(s[d]=h,c=!0);else{const m=Xt(d);o[m]=wa(a,i,m,h,e,!1)}else h!==s[d]&&(s[d]=h,c=!0)}}}else{xh(e,t,o,s)&&(c=!0);let l;for(const f in i)(!t||!Ne(t,f)&&((l=cn(f))===f||!Ne(t,l)))&&(a?r&&(r[f]!==void 0||r[l]!==void 0)&&(o[f]=wa(a,i,f,void 0,e,!0)):delete o[f]);if(s!==i)for(const f in s)(!t||!Ne(t,f))&&(delete s[f],c=!0)}c&&Fr(e.attrs,"set","")}function xh(e,t,r,n){const[o,s]=e.propsOptions;let u=!1,i;if(t)for(let a in t){if(Po(a))continue;const c=t[a];let l;o&&Ne(o,l=Xt(a))?!s||!s.includes(l)?r[l]=c:(i||(i={}))[l]=c:ri(e.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,u=!0)}if(s){const a=Ie(r),c=i||Ue;for(let l=0;l<s.length;l++){const f=s[l];r[f]=wa(o,a,f,c[f],e,!Ne(c,f))}}return u}function wa(e,t,r,n,o,s){const u=e[r];if(u!=null){const i=Ne(u,"default");if(i&&n===void 0){const a=u.default;if(u.type!==Function&&!u.skipFactory&&$e(a)){const{propsDefaults:c}=o;if(r in c)n=c[r];else{const l=ss(o);n=c[r]=a.call(null,t),l()}}else n=a;o.ce&&o.ce._setProp(r,n)}u[0]&&(s&&!i?n=!1:u[1]&&(n===""||n===cn(r))&&(n=!0))}return n}const $2=new WeakMap;function vh(e,t,r=!1){const n=r?$2:t.propsCache,o=n.get(e);if(o)return o;const s=e.props,u={},i=[];let a=!1;if(!$e(e)){const l=f=>{a=!0;const[d,h]=vh(f,t,!0);pt(u,d),h&&i.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!s&&!a)return je(e)&&n.set(e,Yn),Yn;if(we(s))for(let l=0;l<s.length;l++){const f=Xt(s[l]);xl(f)&&(u[f]=Ue)}else if(s)for(const l in s){const f=Xt(l);if(xl(f)){const d=s[l],h=u[f]=we(d)||$e(d)?{type:d}:pt({},d),m=h.type;let x=!1,b=!0;if(we(m))for(let k=0;k<m.length;++k){const p=m[k],g=$e(p)&&p.name;if(g==="Boolean"){x=!0;break}else g==="String"&&(b=!1)}else x=$e(m)&&m.name==="Boolean";h[0]=x,h[1]=b,(x||Ne(h,"default"))&&i.push(f)}}const c=[u,i];return je(e)&&n.set(e,c),c}function xl(e){return e[0]!=="$"&&!Po(e)}const pc=e=>e==="_"||e==="_ctx"||e==="$stable",mc=e=>we(e)?e.map(_r):[_r(e)],T2=(e,t,r)=>{if(t._n)return t;const n=X0((...o)=>mc(t(...o)),r);return n._c=!1,n},wh=(e,t,r)=>{const n=e._ctx;for(const o in e){if(pc(o))continue;const s=e[o];if($e(s))t[o]=T2(o,s,n);else if(s!=null){const u=mc(s);t[o]=()=>u}}},kh=(e,t)=>{const r=mc(t);e.slots.default=()=>r},Eh=(e,t,r)=>{for(const n in t)(r||!pc(n))&&(e[n]=t[n])},A2=(e,t,r)=>{const n=e.slots=_h();if(e.vnode.shapeFlag&32){const o=t._;o?(Eh(n,t,r),r&&A0(n,"_",o,!0)):wh(t,n)}else t&&kh(e,t)},P2=(e,t,r)=>{const{vnode:n,slots:o}=e;let s=!0,u=Ue;if(n.shapeFlag&32){const i=t._;i?r&&i===1?s=!1:Eh(o,t,r):(s=!t.$stable,wh(t,o)),u=t}else t&&(kh(e,t),u={default:1});if(s)for(const i in o)!pc(i)&&u[i]==null&&delete o[i]},Nt=F2;function D2(e){return R2(e)}function R2(e,t){const r=Gu();r.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:u,createText:i,createComment:a,setText:c,setElementText:l,parentNode:f,nextSibling:d,setScopeId:h=vr,insertStaticContent:m}=e,x=(w,S,D,L=null,$=null,O=null,B=void 0,N=null,K=!!S.dynamicChildren)=>{if(w===S)return;w&&!Tn(w,S)&&(L=H(w),A(w,$,O,!0),w=null),S.patchFlag===-2&&(K=!1,S.dynamicChildren=null);const{type:M,ref:se,shapeFlag:ee}=S;switch(M){case ni:b(w,S,D,L);break;case Rt:k(w,S,D,L);break;case Ii:w==null&&p(S,D,L,B);break;case ot:U(w,S,D,L,$,O,B,N,K);break;default:ee&1?_(w,S,D,L,$,O,B,N,K):ee&6?re(w,S,D,L,$,O,B,N,K):(ee&64||ee&128)&&M.process(w,S,D,L,$,O,B,N,K,ne)}se!=null&&$?Io(se,w&&w.ref,O,S||w,!S):se==null&&w&&w.ref!=null&&Io(w.ref,null,O,w,!0)},b=(w,S,D,L)=>{if(w==null)n(S.el=i(S.children),D,L);else{const $=S.el=w.el;S.children!==w.children&&c($,S.children)}},k=(w,S,D,L)=>{w==null?n(S.el=a(S.children||""),D,L):S.el=w.el},p=(w,S,D,L)=>{[w.el,w.anchor]=m(w.children,S,D,L,w.el,w.anchor)},g=({el:w,anchor:S},D,L)=>{let $;for(;w&&w!==S;)$=d(w),n(w,D,L),w=$;n(S,D,L)},v=({el:w,anchor:S})=>{let D;for(;w&&w!==S;)D=d(w),o(w),w=D;o(S)},_=(w,S,D,L,$,O,B,N,K)=>{if(S.type==="svg"?B="svg":S.type==="math"&&(B="mathml"),w==null)E(S,D,L,$,O,B,N,K);else{const M=w.el&&w.el._isVueCE?w.el:null;try{M&&M._beginPatch(),Z(w,S,$,O,B,N,K)}finally{M&&M._endPatch()}}},E=(w,S,D,L,$,O,B,N)=>{let K,M;const{props:se,shapeFlag:ee,transition:ue,dirs:le}=w;if(K=w.el=u(w.type,O,se&&se.is,se),ee&8?l(K,w.children):ee&16&&q(w.children,K,null,L,$,Ri(w,O),B,N),le&&mn(w,null,L,"created"),T(K,w,w.scopeId,B,L),se){for(const de in se)de!=="value"&&!Po(de)&&s(K,de,null,se[de],O,L);"value"in se&&s(K,"value",null,se.value,O),(M=se.onVnodeBeforeMount)&&pr(M,L,w)}le&&mn(w,null,L,"beforeMount");const me=I2($,ue);me&&ue.beforeEnter(K),n(K,S,D),((M=se&&se.onVnodeMounted)||me||le)&&Nt(()=>{M&&pr(M,L,w),me&&ue.enter(K),le&&mn(w,null,L,"mounted")},$)},T=(w,S,D,L,$)=>{if(D&&h(w,D),L)for(let O=0;O<L.length;O++)h(w,L[O]);if($){let O=$.subTree;if(S===O||Th(O.type)&&(O.ssContent===S||O.ssFallback===S)){const B=$.vnode;T(w,B,B.scopeId,B.slotScopeIds,$.parent)}}},q=(w,S,D,L,$,O,B,N,K=0)=>{for(let M=K;M<w.length;M++){const se=w[M]=N?Or(w[M]):_r(w[M]);x(null,se,S,D,L,$,O,B,N)}},Z=(w,S,D,L,$,O,B)=>{const N=S.el=w.el;let{patchFlag:K,dynamicChildren:M,dirs:se}=S;K|=w.patchFlag&16;const ee=w.props||Ue,ue=S.props||Ue;let le;if(D&&gn(D,!1),(le=ue.onVnodeBeforeUpdate)&&pr(le,D,S,w),se&&mn(S,w,D,"beforeUpdate"),D&&gn(D,!0),(ee.innerHTML&&ue.innerHTML==null||ee.textContent&&ue.textContent==null)&&l(N,""),M?G(w.dynamicChildren,M,N,D,L,Ri(S,$),O):B||Y(w,S,N,null,D,L,Ri(S,$),O,!1),K>0){if(K&16)V(N,ee,ue,D,$);else if(K&2&&ee.class!==ue.class&&s(N,"class",null,ue.class,$),K&4&&s(N,"style",ee.style,ue.style,$),K&8){const me=S.dynamicProps;for(let de=0;de<me.length;de++){const ye=me[de],qe=ee[ye],Te=ue[ye];(Te!==qe||ye==="value")&&s(N,ye,qe,Te,$,D)}}K&1&&w.children!==S.children&&l(N,S.children)}else!B&&M==null&&V(N,ee,ue,D,$);((le=ue.onVnodeUpdated)||se)&&Nt(()=>{le&&pr(le,D,S,w),se&&mn(S,w,D,"updated")},L)},G=(w,S,D,L,$,O,B)=>{for(let N=0;N<S.length;N++){const K=w[N],M=S[N],se=K.el&&(K.type===ot||!Tn(K,M)||K.shapeFlag&198)?f(K.el):D;x(K,M,se,null,L,$,O,B,!0)}},V=(w,S,D,L,$)=>{if(S!==D){if(S!==Ue)for(const O in S)!Po(O)&&!(O in D)&&s(w,O,S[O],null,$,L);for(const O in D){if(Po(O))continue;const B=D[O],N=S[O];B!==N&&O!=="value"&&s(w,O,N,B,$,L)}"value"in D&&s(w,"value",S.value,D.value,$)}},U=(w,S,D,L,$,O,B,N,K)=>{const M=S.el=w?w.el:i(""),se=S.anchor=w?w.anchor:i("");let{patchFlag:ee,dynamicChildren:ue,slotScopeIds:le}=S;le&&(N=N?N.concat(le):le),w==null?(n(M,D,L),n(se,D,L),q(S.children||[],D,se,$,O,B,N,K)):ee>0&&ee&64&&ue&&w.dynamicChildren&&w.dynamicChildren.length===ue.length?(G(w.dynamicChildren,ue,D,$,O,B,N),(S.key!=null||$&&S===$.subTree)&&Sh(w,S,!0)):Y(w,S,D,se,$,O,B,N,K)},re=(w,S,D,L,$,O,B,N,K)=>{S.slotScopeIds=N,w==null?S.shapeFlag&512?$.ctx.activate(S,D,L,B,K):oe(S,D,L,$,O,B,K):_e(w,S,K)},oe=(w,S,D,L,$,O,B)=>{const N=w.component=U2(w,L,$);if(Xu(w)&&(N.ctx.renderer=ne),V2(N,!1,B),N.asyncDep){if($&&$.registerDep(N,ve,B),!w.el){const K=N.subTree=ke(Rt);k(null,K,S,D),w.placeholder=K.el}}else ve(N,w,S,D,$,O,B)},_e=(w,S,D)=>{const L=S.component=w.component;if(k2(w,S,D))if(L.asyncDep&&!L.asyncResolved){J(L,S,D);return}else L.next=S,L.update();else S.el=w.el,L.vnode=S},ve=(w,S,D,L,$,O,B)=>{const N=()=>{if(w.isMounted){let{next:ee,bu:ue,u:le,parent:me,vnode:de}=w;{const ae=Ch(w);if(ae){ee&&(ee.el=de.el,J(w,ee,B)),ae.asyncDep.then(()=>{Nt(()=>{w.isUnmounted||M()},$)});return}}let ye=ee,qe;gn(w,!1),ee?(ee.el=de.el,J(w,ee,B)):ee=de,ue&&gu(ue),(qe=ee.props&&ee.props.onVnodeBeforeUpdate)&&pr(qe,me,ee,de),gn(w,!0);const Te=_l(w),ce=w.subTree;w.subTree=Te,x(ce,Te,f(ce.el),H(ce),w,$,O),ee.el=Te.el,ye===null&&E2(w,Te.el),le&&Nt(le,$),(qe=ee.props&&ee.props.onVnodeUpdated)&&Nt(()=>pr(qe,me,ee,de),$)}else{let ee;const{el:ue,props:le}=S,{bm:me,m:de,parent:ye,root:qe,type:Te}=w,ce=Oo(S);gn(w,!1),me&&gu(me),!ce&&(ee=le&&le.onVnodeBeforeMount)&&pr(ee,ye,S),gn(w,!0);{qe.ce&&qe.ce._hasShadowRoot()&&qe.ce._injectChildStyle(Te);const ae=w.subTree=_l(w);x(null,ae,D,L,w,$,O),S.el=ae.el}if(de&&Nt(de,$),!ce&&(ee=le&&le.onVnodeMounted)){const ae=S;Nt(()=>pr(ee,ye,ae),$)}(S.shapeFlag&256||ye&&Oo(ye.vnode)&&ye.vnode.shapeFlag&256)&&w.a&&Nt(w.a,$),w.isMounted=!0,S=D=L=null}};w.scope.on();const K=w.effect=new I0(N);w.scope.off();const M=w.update=K.run.bind(K),se=w.job=K.runIfDirty.bind(K);se.i=w,se.id=w.uid,K.scheduler=()=>hc(se),gn(w,!0),M()},J=(w,S,D)=>{S.component=w;const L=w.vnode.props;w.vnode=S,w.next=null,C2(w,S.props,L,D),P2(w,S.children,D),qr(),cl(w),Lr()},Y=(w,S,D,L,$,O,B,N,K=!1)=>{const M=w&&w.children,se=w?w.shapeFlag:0,ee=S.children,{patchFlag:ue,shapeFlag:le}=S;if(ue>0){if(ue&128){X(M,ee,D,L,$,O,B,N,K);return}else if(ue&256){De(M,ee,D,L,$,O,B,N,K);return}}le&8?(se&16&&z(M,$,O),ee!==M&&l(D,ee)):se&16?le&16?X(M,ee,D,L,$,O,B,N,K):z(M,$,O,!0):(se&8&&l(D,""),le&16&&q(ee,D,L,$,O,B,N,K))},De=(w,S,D,L,$,O,B,N,K)=>{w=w||Yn,S=S||Yn;const M=w.length,se=S.length,ee=Math.min(M,se);let ue;for(ue=0;ue<ee;ue++){const le=S[ue]=K?Or(S[ue]):_r(S[ue]);x(w[ue],le,D,null,$,O,B,N,K)}M>se?z(w,$,O,!0,!1,ee):q(S,D,L,$,O,B,N,K,ee)},X=(w,S,D,L,$,O,B,N,K)=>{let M=0;const se=S.length;let ee=w.length-1,ue=se-1;for(;M<=ee&&M<=ue;){const le=w[M],me=S[M]=K?Or(S[M]):_r(S[M]);if(Tn(le,me))x(le,me,D,null,$,O,B,N,K);else break;M++}for(;M<=ee&&M<=ue;){const le=w[ee],me=S[ue]=K?Or(S[ue]):_r(S[ue]);if(Tn(le,me))x(le,me,D,null,$,O,B,N,K);else break;ee--,ue--}if(M>ee){if(M<=ue){const le=ue+1,me=le<se?S[le].el:L;for(;M<=ue;)x(null,S[M]=K?Or(S[M]):_r(S[M]),D,me,$,O,B,N,K),M++}}else if(M>ue)for(;M<=ee;)A(w[M],$,O,!0),M++;else{const le=M,me=M,de=new Map;for(M=me;M<=ue;M++){const ct=S[M]=K?Or(S[M]):_r(S[M]);ct.key!=null&&de.set(ct.key,M)}let ye,qe=0;const Te=ue-me+1;let ce=!1,ae=0;const Re=new Array(Te);for(M=0;M<Te;M++)Re[M]=0;for(M=le;M<=ee;M++){const ct=w[M];if(qe>=Te){A(ct,$,O,!0);continue}let st;if(ct.key!=null)st=de.get(ct.key);else for(ye=me;ye<=ue;ye++)if(Re[ye-me]===0&&Tn(ct,S[ye])){st=ye;break}st===void 0?A(ct,$,O,!0):(Re[st-me]=M+1,st>=ae?ae=st:ce=!0,x(ct,S[st],D,null,$,O,B,N,K),qe++)}const It=ce?O2(Re):Yn;for(ye=It.length-1,M=Te-1;M>=0;M--){const ct=me+M,st=S[ct],hn=S[ct+1],lt=ct+1<se?hn.el||$h(hn):L;Re[M]===0?x(null,st,D,lt,$,O,B,N,K):ce&&(ye<0||M!==It[ye]?F(st,D,lt,2):ye--)}}},F=(w,S,D,L,$=null)=>{const{el:O,type:B,transition:N,children:K,shapeFlag:M}=w;if(M&6){F(w.component.subTree,S,D,L);return}if(M&128){w.suspense.move(S,D,L);return}if(M&64){B.move(w,S,D,ne);return}if(B===ot){n(O,S,D);for(let ee=0;ee<K.length;ee++)F(K[ee],S,D,L);n(w.anchor,S,D);return}if(B===Ii){g(w,S,D);return}if(L!==2&&M&1&&N)if(L===0)N.beforeEnter(O),n(O,S,D),Nt(()=>N.enter(O),$);else{const{leave:ee,delayLeave:ue,afterLeave:le}=N,me=()=>{w.ctx.isUnmounted?o(O):n(O,S,D)},de=()=>{O._isLeaving&&O[br](!0),ee(O,()=>{me(),le&&le()})};ue?ue(O,me,de):de()}else n(O,S,D)},A=(w,S,D,L=!1,$=!1)=>{const{type:O,props:B,ref:N,children:K,dynamicChildren:M,shapeFlag:se,patchFlag:ee,dirs:ue,cacheIndex:le}=w;if(ee===-2&&($=!1),N!=null&&(qr(),Io(N,null,D,w,!0),Lr()),le!=null&&(S.renderCache[le]=void 0),se&256){S.ctx.deactivate(w);return}const me=se&1&&ue,de=!Oo(w);let ye;if(de&&(ye=B&&B.onVnodeBeforeUnmount)&&pr(ye,S,w),se&6)C(w.component,D,L);else{if(se&128){w.suspense.unmount(D,L);return}me&&mn(w,null,S,"beforeUnmount"),se&64?w.type.remove(w,S,D,ne,L):M&&!M.hasOnce&&(O!==ot||ee>0&&ee&64)?z(M,S,D,!1,!0):(O===ot&&ee&384||!$&&se&16)&&z(K,S,D),L&&P(w)}(de&&(ye=B&&B.onVnodeUnmounted)||me)&&Nt(()=>{ye&&pr(ye,S,w),me&&mn(w,null,S,"unmounted")},D)},P=w=>{const{type:S,el:D,anchor:L,transition:$}=w;if(S===ot){y(D,L);return}if(S===Ii){v(w);return}const O=()=>{o(D),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(w.shapeFlag&1&&$&&!$.persisted){const{leave:B,delayLeave:N}=$,K=()=>B(D,O);N?N(w.el,O,K):K()}else O()},y=(w,S)=>{let D;for(;w!==S;)D=d(w),o(w),w=D;o(S)},C=(w,S,D)=>{const{bum:L,scope:$,job:O,subTree:B,um:N,m:K,a:M}=w;vl(K),vl(M),L&&gu(L),$.stop(),O&&(O.flags|=8,A(B,w,S,D)),N&&Nt(N,S),Nt(()=>{w.isUnmounted=!0},S)},z=(w,S,D,L=!1,$=!1,O=0)=>{for(let B=O;B<w.length;B++)A(w[B],S,D,L,$)},H=w=>{if(w.shapeFlag&6)return H(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const S=d(w.anchor||w.el),D=S&&S[K1];return D?d(D):S};let Q=!1;const ie=(w,S,D)=>{let L;w==null?S._vnode&&(A(S._vnode,null,null,!0),L=S._vnode.component):x(S._vnode||null,w,S,null,null,null,D),S._vnode=w,Q||(Q=!0,cl(L),G0(),Q=!1)},ne={p:x,um:A,m:F,r:P,mt:oe,mc:q,pc:Y,pbc:G,n:H,o:e};return{render:ie,hydrate:void 0,createApp:b2(ie)}}function Ri({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function gn({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function I2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Sh(e,t,r=!1){const n=e.children,o=t.children;if(we(n)&&we(o))for(let s=0;s<n.length;s++){const u=n[s];let i=o[s];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=o[s]=Or(o[s]),i.el=u.el),!r&&i.patchFlag!==-2&&Sh(u,i)),i.type===ni&&(i.patchFlag===-1&&(i=o[s]=Or(i)),i.el=u.el),i.type===Rt&&!i.el&&(i.el=u.el)}}function O2(e){const t=e.slice(),r=[0];let n,o,s,u,i;const a=e.length;for(n=0;n<a;n++){const c=e[n];if(c!==0){if(o=r[r.length-1],e[o]<c){t[n]=o,r.push(n);continue}for(s=0,u=r.length-1;s<u;)i=s+u>>1,e[r[i]]<c?s=i+1:u=i;c<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,u=r[s-1];s-- >0;)r[s]=u,u=t[u];return r}function Ch(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ch(t)}function vl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function $h(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?$h(t.subTree):null}const Th=e=>e.__isSuspense;function F2(e,t){t&&t.pendingBranch?we(e)?t.effects.push(...e):t.effects.push(e):U1(e)}const ot=Symbol.for("v-fgt"),ni=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Ii=Symbol.for("v-stc"),No=[];let Zt=null;function pe(e=!1){No.push(Zt=e?null:[])}function N2(){No.pop(),Zt=No[No.length-1]||null}let Lo=1;function $u(e,t=!1){Lo+=e,e<0&&Zt&&t&&(Zt.hasOnce=!0)}function Ah(e){return e.dynamicChildren=Lo>0?Zt||Yn:null,N2(),Lo>0&&Zt&&Zt.push(e),e}function ge(e,t,r,n,o,s){return Ah(j(e,t,r,n,o,s,!0))}function Ir(e,t,r,n,o){return Ah(ke(e,t,r,n,o,!0))}function Tu(e){return e?e.__v_isVNode===!0:!1}function Tn(e,t){return e.type===t.type&&e.key===t.key}const Ph=({key:e})=>e??null,yu=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||at(e)||$e(e)?{i:Bt,r:e,k:t,f:!!r}:e:null);function j(e,t=null,r=null,n=0,o=null,s=e===ot?0:1,u=!1,i=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ph(t),ref:t&&yu(t),scopeId:Q0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Bt};return i?(gc(a,r),s&128&&e.normalize(a)):r&&(a.shapeFlag|=nt(r)?8:16),Lo>0&&!u&&Zt&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&Zt.push(a),a}const ke=M2;function M2(e,t=null,r=null,n=0,o=null,s=!1){if((!e||e===fh)&&(e=Rt),Tu(e)){const i=on(e,t,!0);return r&&gc(i,r),Lo>0&&!s&&Zt&&(i.shapeFlag&6?Zt[Zt.indexOf(e)]=i:Zt.push(i)),i.patchFlag=-2,i}if(J2(e)&&(e=e.__vccOpts),t){t=z2(t);let{class:i,style:a}=t;i&&!nt(i)&&(t.class=Gt(i)),je(a)&&(fc(a)&&!we(a)&&(a=pt({},a)),t.style=ts(a))}const u=nt(e)?1:Th(e)?128:rh(e)?64:je(e)?4:$e(e)?2:0;return j(e,t,r,n,o,u,s,!0)}function z2(e){return e?fc(e)||yh(e)?pt({},e):e:null}function on(e,t,r=!1,n=!1){const{props:o,ref:s,patchFlag:u,children:i,transition:a}=e,c=t?j2(o||{},t):o,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ph(c),ref:t&&t.ref?r&&s?we(s)?s.concat(yu(t)):[s,yu(t)]:yu(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ot?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&on(e.ssContent),ssFallback:e.ssFallback&&on(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&n&&qo(l,a.clone(l)),l}function zr(e=" ",t=0){return ke(ni,null,e,t)}function Fe(e="",t=!1){return t?(pe(),Ir(Rt,null,e)):ke(Rt,null,e)}function _r(e){return e==null||typeof e=="boolean"?ke(Rt):we(e)?ke(ot,null,e.slice()):Tu(e)?Or(e):ke(ni,null,String(e))}function Or(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:on(e)}function gc(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(we(t))r=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),gc(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!yh(t)?t._ctx=Bt:o===3&&Bt&&(Bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $e(t)?(t={default:t,_ctx:Bt},r=32):(t=String(t),n&64?(r=16,t=[zr(t)]):r=8);e.children=t,e.shapeFlag|=r}function j2(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=Gt([t.class,n.class]));else if(o==="style")t.style=ts([t.style,n.style]);else if(Hu(o)){const s=t[o],u=n[o];u&&s!==u&&!(we(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=n[o])}return t}function pr(e,t,r,n=null){fr(e,t,7,[r,n])}const q2=ph();let L2=0;function U2(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||q2,s={uid:L2++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new f1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vh(n,o),emitsOptions:mh(n,o),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:n.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=y2.bind(null,s),e.ce&&e.ce(s),s}let St=null;const Dh=()=>St||Bt;let Au,ka;{const e=Gu(),t=(r,n)=>{let o;return(o=e[r])||(o=e[r]=[]),o.push(n),s=>{o.length>1?o.forEach(u=>u(s)):o[0](s)}};Au=t("__VUE_INSTANCE_SETTERS__",r=>St=r),ka=t("__VUE_SSR_SETTERS__",r=>Uo=r)}const ss=e=>{const t=St;return Au(e),e.scope.on(),()=>{e.scope.off(),Au(t)}},wl=()=>{St&&St.scope.off(),Au(null)};function Rh(e){return e.vnode.shapeFlag&4}let Uo=!1;function V2(e,t=!1,r=!1){t&&ka(t);const{props:n,children:o}=e.vnode,s=Rh(e);S2(e,n,s,t),A2(e,o,r||t);const u=s?B2(e,t):void 0;return t&&ka(!1),u}function B2(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,l2);const{setup:n}=r;if(n){qr();const o=e.setupContext=n.length>1?H2(e):null,s=ss(e),u=ns(n,e,0,[e.props,o]),i=C0(u);if(Lr(),s(),(i||e.sp)&&!Oo(e)&&ah(e),i){if(u.then(wl,wl),t)return u.then(a=>{kl(e,a)}).catch(a=>{Qu(a,e,0)});e.asyncDep=u}else kl(e,u)}else Ih(e)}function kl(e,t,r){$e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:je(t)&&(e.setupState=K0(t)),Ih(e)}function Ih(e,t,r){const n=e.type;e.render||(e.render=n.render||vr);{const o=ss(e);qr();try{f2(e)}finally{Lr(),o()}}}const Z2={get(e,t){return Et(e,"get",""),e[t]}};function H2(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Z2),slots:e.slots,emit:e.emit,expose:t}}function oi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(K0(R1(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Fo)return Fo[r](e)},has(t,r){return r in t||r in Fo}})):e.proxy}function K2(e,t=!0){return $e(e)?e.displayName||e.name:e.name||t&&e.__name}function J2(e){return $e(e)&&"__vccOpts"in e}const Oh=(e,t)=>M1(e,t,Uo);function Pu(e,t,r){try{$u(-1);const n=arguments.length;return n===2?je(t)&&!we(t)?Tu(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Tu(r)&&(r=[r]),ke(e,t,r))}finally{$u(1)}}const W2="3.5.28";let Ea;const El=typeof window<"u"&&window.trustedTypes;if(El)try{Ea=El.createPolicy("vue",{createHTML:e=>e})}catch{}const Fh=Ea?e=>Ea.createHTML(e):e=>e,G2="http://www.w3.org/2000/svg",Y2="http://www.w3.org/1998/Math/MathML",Rr=typeof document<"u"?document:null,Sl=Rr&&Rr.createElement("template"),Q2={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t==="svg"?Rr.createElementNS(G2,e):t==="mathml"?Rr.createElementNS(Y2,e):r?Rr.createElement(e,{is:r}):Rr.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Rr.createTextNode(e),createComment:e=>Rr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,o,s){const u=r?r.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{Sl.innerHTML=Fh(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=Sl.content;if(n==="svg"||n==="mathml"){const a=i.firstChild;for(;a.firstChild;)i.appendChild(a.firstChild);i.removeChild(a)}t.insertBefore(i,r)}return[u?u.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Br="transition",xo="animation",Vo=Symbol("_vtc"),Nh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},X2=pt({},nh,Nh),eg=e=>(e.displayName="Transition",e.props=X2,e),tg=eg((e,{slots:t})=>Pu(G1,rg(e),t)),bn=(e,t=[])=>{we(e)?e.forEach(r=>r(...t)):e&&e(...t)},Cl=e=>e?we(e)?e.some(t=>t.length>1):e.length>1:!1;function rg(e){const t={};for(const U in e)U in Nh||(t[U]=e[U]);if(e.css===!1)return t;const{name:r="v",type:n,duration:o,enterFromClass:s=`${r}-enter-from`,enterActiveClass:u=`${r}-enter-active`,enterToClass:i=`${r}-enter-to`,appearFromClass:a=s,appearActiveClass:c=u,appearToClass:l=i,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,m=ng(o),x=m&&m[0],b=m&&m[1],{onBeforeEnter:k,onEnter:p,onEnterCancelled:g,onLeave:v,onLeaveCancelled:_,onBeforeAppear:E=k,onAppear:T=p,onAppearCancelled:q=g}=t,Z=(U,re,oe,_e)=>{U._enterCancelled=_e,_n(U,re?l:i),_n(U,re?c:u),oe&&oe()},G=(U,re)=>{U._isLeaving=!1,_n(U,f),_n(U,h),_n(U,d),re&&re()},V=U=>(re,oe)=>{const _e=U?T:p,ve=()=>Z(re,U,oe);bn(_e,[re,ve]),$l(()=>{_n(re,U?a:s),Tr(re,U?l:i),Cl(_e)||Tl(re,n,x,ve)})};return pt(t,{onBeforeEnter(U){bn(k,[U]),Tr(U,s),Tr(U,u)},onBeforeAppear(U){bn(E,[U]),Tr(U,a),Tr(U,c)},onEnter:V(!1),onAppear:V(!0),onLeave(U,re){U._isLeaving=!0;const oe=()=>G(U,re);Tr(U,f),U._enterCancelled?(Tr(U,d),Dl(U)):(Dl(U),Tr(U,d)),$l(()=>{U._isLeaving&&(_n(U,f),Tr(U,h),Cl(v)||Tl(U,n,b,oe))}),bn(v,[U,oe])},onEnterCancelled(U){Z(U,!1,void 0,!0),bn(g,[U])},onAppearCancelled(U){Z(U,!0,void 0,!0),bn(q,[U])},onLeaveCancelled(U){G(U),bn(_,[U])}})}function ng(e){if(e==null)return null;if(je(e))return[Oi(e.enter),Oi(e.leave)];{const t=Oi(e);return[t,t]}}function Oi(e){return n1(e)}function Tr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Vo]||(e[Vo]=new Set)).add(t)}function _n(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Vo];r&&(r.delete(t),r.size||(e[Vo]=void 0))}function $l(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let og=0;function Tl(e,t,r,n){const o=e._endId=++og,s=()=>{o===e._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:u,timeout:i,propCount:a}=sg(e,t);if(!u)return n();const c=u+"end";let l=0;const f=()=>{e.removeEventListener(c,d),s()},d=h=>{h.target===e&&++l>=a&&f()};setTimeout(()=>{l<a&&f()},i+1),e.addEventListener(c,d)}function sg(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),o=n(`${Br}Delay`),s=n(`${Br}Duration`),u=Al(o,s),i=n(`${xo}Delay`),a=n(`${xo}Duration`),c=Al(i,a);let l=null,f=0,d=0;t===Br?u>0&&(l=Br,f=u,d=s.length):t===xo?c>0&&(l=xo,f=c,d=a.length):(f=Math.max(u,c),l=f>0?u>c?Br:xo:null,d=l?l===Br?s.length:a.length:0);const h=l===Br&&/\b(?:transform|all)(?:,|$)/.test(n(`${Br}Property`).toString());return{type:l,timeout:f,propCount:d,hasTransform:h}}function Al(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Pl(r)+Pl(e[n])))}function Pl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Dl(e){return(e?e.ownerDocument:document).body.offsetHeight}function ug(e,t,r){const n=e[Vo];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Rl=Symbol("_vod"),ig=Symbol("_vsh"),ag=Symbol(""),cg=/(?:^|;)\s*display\s*:/;function lg(e,t,r){const n=e.style,o=nt(r);let s=!1;if(r&&!o){if(t)if(nt(t))for(const u of t.split(";")){const i=u.slice(0,u.indexOf(":")).trim();r[i]==null&&xu(n,i,"")}else for(const u in t)r[u]==null&&xu(n,u,"");for(const u in r)u==="display"&&(s=!0),xu(n,u,r[u])}else if(o){if(t!==r){const u=n[ag];u&&(r+=";"+u),n.cssText=r,s=cg.test(r)}}else t&&e.removeAttribute("style");Rl in e&&(e[Rl]=s?n.display:"",e[ig]&&(n.display="none"))}const Il=/\s*!important$/;function xu(e,t,r){if(we(r))r.forEach(n=>xu(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=fg(e,t);Il.test(r)?e.setProperty(cn(n),r.replace(Il,""),"important"):e[n]=r}}const Ol=["Webkit","Moz","ms"],Fi={};function fg(e,t){const r=Fi[t];if(r)return r;let n=Xt(t);if(n!=="filter"&&n in e)return Fi[t]=n;n=Ju(n);for(let o=0;o<Ol.length;o++){const s=Ol[o]+n;if(s in e)return Fi[t]=s}return t}const Fl="http://www.w3.org/1999/xlink";function Nl(e,t,r,n,o,s=c1(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Fl,t.slice(6,t.length)):e.setAttributeNS(Fl,t,r):r==null||s&&!P0(r)?e.removeAttribute(t):e.setAttribute(t,s?"":wr(r)?String(r):r)}function Ml(e,t,r,n,o){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Fh(r):r);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const i=s==="OPTION"?e.getAttribute("value")||"":e.value,a=r==null?e.type==="checkbox"?"on":"":String(r);(i!==a||!("_value"in e))&&(e.value=a),r==null&&e.removeAttribute(t),e._value=r;return}let u=!1;if(r===""||r==null){const i=typeof e[t];i==="boolean"?r=P0(r):r==null&&i==="string"?(r="",u=!0):i==="number"&&(r=0,u=!0)}try{e[t]=r}catch{}u&&e.removeAttribute(o||t)}function en(e,t,r,n){e.addEventListener(t,r,n)}function dg(e,t,r,n){e.removeEventListener(t,r,n)}const zl=Symbol("_vei");function hg(e,t,r,n,o=null){const s=e[zl]||(e[zl]={}),u=s[t];if(n&&u)u.value=n;else{const[i,a]=pg(t);if(n){const c=s[t]=bg(n,o);en(e,i,c,a)}else u&&(dg(e,i,u,a),s[t]=void 0)}}const jl=/(?:Once|Passive|Capture)$/;function pg(e){let t;if(jl.test(e)){t={};let n;for(;n=e.match(jl);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):cn(e.slice(2)),t]}let Ni=0;const mg=Promise.resolve(),gg=()=>Ni||(mg.then(()=>Ni=0),Ni=Date.now());function bg(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;fr(_g(n,r.value),t,5,[n])};return r.value=e,r.attached=gg(),r}function _g(e,t){if(we(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const ql=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yg=(e,t,r,n,o,s)=>{const u=o==="svg";t==="class"?ug(e,n,u):t==="style"?lg(e,r,n):Hu(t)?tc(t)||hg(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xg(e,t,n,u))?(Ml(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Nl(e,t,n,u,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!nt(n))?Ml(e,Xt(t),n,s,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Nl(e,t,n,u))};function xg(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ql(t)&&$e(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ql(t)&&nt(r)?!1:t in e}const oo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return we(t)?r=>gu(t,r):t};function vg(e){e.target.composing=!0}function Ll(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const jr=Symbol("_assign");function Ul(e,t,r){return t&&(e=e.trim()),r&&(e=Wu(e)),e}const Yt={created(e,{modifiers:{lazy:t,trim:r,number:n}},o){e[jr]=oo(o);const s=n||o.props&&o.props.type==="number";en(e,t?"change":"input",u=>{u.target.composing||e[jr](Ul(e.value,r,s))}),(r||s)&&en(e,"change",()=>{e.value=Ul(e.value,r,s)}),t||(en(e,"compositionstart",vg),en(e,"compositionend",Ll),en(e,"change",Ll))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:o,number:s}},u){if(e[jr]=oo(u),e.composing)return;const i=(s||e.type==="number")&&!/^0\d/.test(e.value)?Wu(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||o&&e.value.trim()===a)||(e.value=a))}},wg={deep:!0,created(e,t,r){e[jr]=oo(r),en(e,"change",()=>{const n=e._modelValue,o=Bo(e),s=e.checked,u=e[jr];if(we(n)){const i=oc(n,o),a=i!==-1;if(s&&!a)u(n.concat(o));else if(!s&&a){const c=[...n];c.splice(i,1),u(c)}}else if(fo(n)){const i=new Set(n);s?i.add(o):i.delete(o),u(i)}else u(Mh(e,s))})},mounted:Vl,beforeUpdate(e,t,r){e[jr]=oo(r),Vl(e,t,r)}};function Vl(e,{value:t,oldValue:r},n){e._modelValue=t;let o;if(we(t))o=oc(t,n.props.value)>-1;else if(fo(t))o=t.has(n.props.value);else{if(t===r)return;o=ho(t,Mh(e,!0))}e.checked!==o&&(e.checked=o)}const kg={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const o=fo(t);en(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>r?Wu(Bo(u)):Bo(u));e[jr](e.multiple?o?new Set(s):s:s[0]),e._assigning=!0,dc(()=>{e._assigning=!1})}),e[jr]=oo(n)},mounted(e,{value:t}){Bl(e,t)},beforeUpdate(e,t,r){e[jr]=oo(r)},updated(e,{value:t}){e._assigning||Bl(e,t)}};function Bl(e,t){const r=e.multiple,n=we(t);if(!(r&&!n&&!fo(t))){for(let o=0,s=e.options.length;o<s;o++){const u=e.options[o],i=Bo(u);if(r)if(n){const a=typeof i;a==="string"||a==="number"?u.selected=t.some(c=>String(c)===String(i)):u.selected=oc(t,i)>-1}else u.selected=t.has(i);else if(ho(Bo(u),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Bo(e){return"_value"in e?e._value:e.value}function Mh(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Eg=["ctrl","shift","alt","meta"],Sg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Eg.some(r=>e[`${r}Key`]&&!t.includes(r))},Cn=(e,t)=>{if(!e)return e;const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=((o,...s)=>{for(let u=0;u<t.length;u++){const i=Sg[t[u]];if(i&&i(o,t))return}return e(o,...s)}))},Cg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zn=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=(o=>{if(!("key"in o))return;const s=cn(o.key);if(t.some(u=>u===s||Cg[u]===s))return e(o)}))},$g=pt({patchProp:yg},Q2);let Zl;function Tg(){return Zl||(Zl=D2($g))}const Ag=((...e)=>{const t=Tg().createApp(...e),{mount:r}=t;return t.mount=n=>{const o=Dg(n);if(!o)return;const s=t._component;!$e(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=r(o,!1,Pg(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t});function Pg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Dg(e){return nt(e)?document.querySelector(e):e}const zh="/favicon.svg",Rg=Object.freeze({status:"aborted"});function W(e,t,r){function n(i,a){if(i._zod||Object.defineProperty(i,"_zod",{value:{def:a,constr:u,traits:new Set},enumerable:!1}),i._zod.traits.has(e))return;i._zod.traits.add(e),t(i,a);const c=u.prototype,l=Object.keys(c);for(let f=0;f<l.length;f++){const d=l[f];d in i||(i[d]=c[d].bind(i))}}const o=r?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function u(i){var a;const c=r?.Parent?new s:this;n(c,i),(a=c._zod).deferred??(a.deferred=[]);for(const l of c._zod.deferred)l();return c}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:i=>r?.Parent&&i instanceof r.Parent?!0:i?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class to extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class jh extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const qh={};function sn(e){return qh}function Lh(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}function Sa(e,t){return typeof t=="bigint"?t.toString():t}function si(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function bc(e){return e==null}function _c(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Ig(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let o=(n.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(n)){const a=n.match(/\d?e-(\d?)/);a?.[1]&&(o=Number.parseInt(a[1]))}const s=r>o?r:o,u=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return u%i/10**s}const Hl=Symbol("evaluating");function Me(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Hl)return n===void 0&&(n=Hl,n=r()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Rn(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ln(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Kl(e){return JSON.stringify(e)}function Og(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Uh="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Zo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Fg=si(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function so(e){if(Zo(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Zo(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Vh(e){return so(e)?{...e}:Array.isArray(e)?[...e]:e}const Ng=new Set(["string","number","symbol"]);function uo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fn(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function be(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Mg(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const zg={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function jg(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=ln(e._zod.def,{get shape(){const u={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(u[i]=r.shape[i])}return Rn(this,"shape",u),u},checks:[]});return fn(e,s)}function qg(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=ln(e._zod.def,{get shape(){const u={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete u[i]}return Rn(this,"shape",u),u},checks:[]});return fn(e,s)}function Lg(e,t){if(!so(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const s=e._zod.def.shape;for(const u in t)if(Object.getOwnPropertyDescriptor(s,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ln(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Rn(this,"shape",s),s}});return fn(e,o)}function Ug(e,t){if(!so(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=ln(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Rn(this,"shape",n),n}});return fn(e,r)}function Vg(e,t){const r=ln(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Rn(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return fn(e,r)}function Bg(e,t,r){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=ln(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(r)for(const c in r){if(!(c in i))throw new Error(`Unrecognized key: "${c}"`);r[c]&&(a[c]=e?new e({type:"optional",innerType:i[c]}):i[c])}else for(const c in i)a[c]=e?new e({type:"optional",innerType:i[c]}):i[c];return Rn(this,"shape",a),a},checks:[]});return fn(t,u)}function Zg(e,t,r){const n=ln(t._zod.def,{get shape(){const o=t._zod.def.shape,s={...o};if(r)for(const u in r){if(!(u in s))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(s[u]=new e({type:"nonoptional",innerType:o[u]}))}else for(const u in o)s[u]=new e({type:"nonoptional",innerType:o[u]});return Rn(this,"shape",s),s}});return fn(t,n)}function Hn(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Kn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function _s(e){return typeof e=="string"?e:e?.message}function un(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const o=_s(e.inst?._zod.def?.error?.(e))??_s(t?.error?.(e))??_s(r.customError?.(e))??_s(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function yc(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ho(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const Bh=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Sa,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Zh=W("$ZodError",Bh),Hh=W("$ZodError",Bh,{Parent:Error});function Hg(e,t=r=>r.message){const r={},n=[];for(const o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}function Kg(e,t=r=>r.message){const r={_errors:[]},n=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(u=>n({issues:u}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let u=r,i=0;for(;i<s.path.length;){const a=s.path[i];i===s.path.length-1?(u[a]=u[a]||{_errors:[]},u[a]._errors.push(t(s))):u[a]=u[a]||{_errors:[]},u=u[a],i++}}};return n(e),r}const xc=e=>(t,r,n,o)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},s);if(u instanceof Promise)throw new to;if(u.issues.length){const i=new(o?.Err??e)(u.issues.map(a=>un(a,s,sn())));throw Uh(i,o?.callee),i}return u.value},vc=e=>async(t,r,n,o)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let u=t._zod.run({value:r,issues:[]},s);if(u instanceof Promise&&(u=await u),u.issues.length){const i=new(o?.Err??e)(u.issues.map(a=>un(a,s,sn())));throw Uh(i,o?.callee),i}return u.value},ui=e=>(t,r,n)=>{const o=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new to;return s.issues.length?{success:!1,error:new(e??Zh)(s.issues.map(u=>un(u,o,sn())))}:{success:!0,data:s.value}},Kh=ui(Hh),ii=e=>async(t,r,n)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(u=>un(u,o,sn())))}:{success:!0,data:s.value}},Jg=ii(Hh),Wg=e=>(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return xc(e)(t,r,o)},Gg=e=>(t,r,n)=>xc(e)(t,r,n),Yg=e=>async(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return vc(e)(t,r,o)},Qg=e=>async(t,r,n)=>vc(e)(t,r,n),Xg=e=>(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ui(e)(t,r,o)},eb=e=>(t,r,n)=>ui(e)(t,r,n),tb=e=>async(t,r,n)=>{const o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ii(e)(t,r,o)},rb=e=>async(t,r,n)=>ii(e)(t,r,n),nb=/^[cC][^\s-]{8,}$/,ob=/^[0-9a-z]+$/,sb=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ub=/^[0-9a-vA-V]{20}$/,ib=/^[A-Za-z0-9]{27}$/,ab=/^[a-zA-Z0-9_-]{21}$/,cb=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lb=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Jl=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,fb=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,db="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hb(){return new RegExp(db,"u")}const pb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mb=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,gb=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bb=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_b=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Jh=/^[A-Za-z0-9_-]*$/,yb=/^\+[1-9]\d{6,14}$/,Wh="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xb=new RegExp(`^${Wh}$`);function Gh(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function vb(e){return new RegExp(`^${Gh(e)}$`)}function wb(e){const t=Gh({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Wh}T(?:${n})$`)}const kb=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Eb=/^-?\d+$/,Yh=/^-?\d+(?:\.\d+)?$/,Sb=/^(?:true|false)$/i,Cb=/^null$/i,$b=/^[^A-Z]*$/,Tb=/^[^a-z]*$/,qt=W("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Qh={number:"number",bigint:"bigint",object:"date"},Xh=W("$ZodCheckLessThan",(e,t)=>{qt.init(e,t);const r=Qh[typeof t.value];e._zod.onattach.push(n=>{const o=n._zod.bag,s=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ep=W("$ZodCheckGreaterThan",(e,t)=>{qt.init(e,t);const r=Qh[typeof t.value];e._zod.onattach.push(n=>{const o=n._zod.bag,s=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Ab=W("$ZodCheckMultipleOf",(e,t)=>{qt.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Ig(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Pb=W("$ZodCheckNumberFormat",(e,t)=>{qt.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[o,s]=zg[t.format];e._zod.onattach.push(u=>{const i=u._zod.bag;i.format=t.format,i.minimum=o,i.maximum=s,r&&(i.pattern=Eb)}),e._zod.check=u=>{const i=u.value;if(r){if(!Number.isInteger(i)){u.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:i,inst:e});return}if(!Number.isSafeInteger(i)){i>0?u.issues.push({input:i,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):u.issues.push({input:i,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}i<o&&u.issues.push({origin:"number",input:i,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),i>s&&u.issues.push({origin:"number",input:i,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),Db=W("$ZodCheckMaxLength",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const o=n.value;return!bc(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const o=n.value;if(o.length<=t.maximum)return;const u=yc(o);n.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Rb=W("$ZodCheckMinLength",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const o=n.value;return!bc(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const o=n.value;if(o.length>=t.minimum)return;const u=yc(o);n.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Ib=W("$ZodCheckLengthEquals",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const o=n.value;return!bc(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{const o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{const o=n.value,s=o.length;if(s===t.length)return;const u=yc(o),i=s>t.length;n.issues.push({origin:u,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),ai=W("$ZodCheckStringFormat",(e,t)=>{var r,n;qt.init(e,t),e._zod.onattach.push(o=>{const s=o._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Ob=W("$ZodCheckRegex",(e,t)=>{ai.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Fb=W("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=$b),ai.init(e,t)}),Nb=W("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Tb),ai.init(e,t)}),Mb=W("$ZodCheckIncludes",(e,t)=>{qt.init(e,t);const r=uo(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),zb=W("$ZodCheckStartsWith",(e,t)=>{qt.init(e,t);const r=new RegExp(`^${uo(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),jb=W("$ZodCheckEndsWith",(e,t)=>{qt.init(e,t);const r=new RegExp(`.*${uo(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),qb=W("$ZodCheckOverwrite",(e,t)=>{qt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Lb{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(u=>u),o=Math.min(...n.map(u=>u.length-u.trimStart().length)),s=n.map(u=>u.slice(o)).map(u=>" ".repeat(this.indent*2)+u);for(const u of s)this.content.push(u)}compile(){const t=Function,r=this?.args,o=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,o.join(`
`))}}const Ub={major:4,minor:3,patch:6},Ke=W("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Ub;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const s of o._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(u,i,a)=>{let c=Hn(u),l;for(const f of i){if(f._zod.def.when){if(!f._zod.def.when(u))continue}else if(c)continue;const d=u.issues.length,h=f._zod.check(u);if(h instanceof Promise&&a?.async===!1)throw new to;if(l||h instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await h,u.issues.length!==d&&(c||(c=Hn(u,d)))});else{if(u.issues.length===d)continue;c||(c=Hn(u,d))}}return l?l.then(()=>u):u},s=(u,i,a)=>{if(Hn(u))return u.aborted=!0,u;const c=o(i,n,a);if(c instanceof Promise){if(a.async===!1)throw new to;return c.then(l=>e._zod.parse(l,a))}return e._zod.parse(c,a)};e._zod.run=(u,i)=>{if(i.skipChecks)return e._zod.parse(u,i);if(i.direction==="backward"){const c=e._zod.parse({value:u.value,issues:[]},{...i,skipChecks:!0});return c instanceof Promise?c.then(l=>s(l,u,i)):s(c,u,i)}const a=e._zod.parse(u,i);if(a instanceof Promise){if(i.async===!1)throw new to;return a.then(c=>o(c,n,i))}return o(a,n,i)}}Me(e,"~standard",()=>({validate:o=>{try{const s=Kh(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Jg(e,o).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),wc=W("$ZodString",(e,t)=>{Ke.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??kb(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ge=W("$ZodStringFormat",(e,t)=>{ai.init(e,t),wc.init(e,t)}),Vb=W("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=lb),Ge.init(e,t)}),Bb=W("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Jl(n))}else t.pattern??(t.pattern=Jl());Ge.init(e,t)}),Zb=W("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=fb),Ge.init(e,t)}),Hb=W("$ZodURL",(e,t)=>{Ge.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=o.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Kb=W("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=hb()),Ge.init(e,t)}),Jb=W("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ab),Ge.init(e,t)}),Wb=W("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=nb),Ge.init(e,t)}),Gb=W("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ob),Ge.init(e,t)}),Yb=W("$ZodULID",(e,t)=>{t.pattern??(t.pattern=sb),Ge.init(e,t)}),Qb=W("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ub),Ge.init(e,t)}),Xb=W("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=ib),Ge.init(e,t)}),e_=W("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=wb(t)),Ge.init(e,t)}),t_=W("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=xb),Ge.init(e,t)}),r_=W("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=vb(t)),Ge.init(e,t)}),n_=W("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=cb),Ge.init(e,t)}),o_=W("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=pb),Ge.init(e,t),e._zod.bag.format="ipv4"}),s_=W("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=mb),Ge.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),u_=W("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=gb),Ge.init(e,t)}),i_=W("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=bb),Ge.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[o,s]=n;if(!s)throw new Error;const u=Number(s);if(`${u}`!==s)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function tp(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const a_=W("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=_b),Ge.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{tp(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function c_(e){if(!Jh.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return tp(r)}const l_=W("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Jh),Ge.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{c_(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),f_=W("$ZodE164",(e,t)=>{t.pattern??(t.pattern=yb),Ge.init(e,t)});function d_(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const h_=W("$ZodJWT",(e,t)=>{Ge.init(e,t),e._zod.check=r=>{d_(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),rp=W("$ZodNumber",(e,t)=>{Ke.init(e,t),e._zod.pattern=e._zod.bag.pattern??Yh,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...s?{received:s}:{}}),r}}),p_=W("$ZodNumberFormat",(e,t)=>{Pb.init(e,t),rp.init(e,t)}),m_=W("$ZodBoolean",(e,t)=>{Ke.init(e,t),e._zod.pattern=Sb,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),g_=W("$ZodNull",(e,t)=>{Ke.init(e,t),e._zod.pattern=Cb,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}}),b_=W("$ZodAny",(e,t)=>{Ke.init(e,t),e._zod.parse=r=>r}),__=W("$ZodUnknown",(e,t)=>{Ke.init(e,t),e._zod.parse=r=>r}),y_=W("$ZodNever",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Wl(e,t,r){e.issues.length&&t.issues.push(...Kn(r,e.issues)),t.value[r]=e.value}const x_=W("$ZodArray",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);const s=[];for(let u=0;u<o.length;u++){const i=o[u],a=t.element._zod.run({value:i,issues:[]},n);a instanceof Promise?s.push(a.then(c=>Wl(c,r,u))):Wl(a,r,u)}return s.length?Promise.all(s).then(()=>r):r}});function Du(e,t,r,n,o){if(e.issues.length){if(o&&!(r in n))return;t.issues.push(...Kn(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function np(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Mg(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function op(e,t,r,n,o,s){const u=[],i=o.keySet,a=o.catchall._zod,c=a.def.type,l=a.optout==="optional";for(const f in t){if(i.has(f))continue;if(c==="never"){u.push(f);continue}const d=a.run({value:t[f],issues:[]},n);d instanceof Promise?e.push(d.then(h=>Du(h,r,f,t,l))):Du(d,r,f,t,l)}return u.length&&r.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const v_=W("$ZodObject",(e,t)=>{if(Ke.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const i=t.shape;Object.defineProperty(t,"shape",{get:()=>{const a={...i};return Object.defineProperty(t,"shape",{value:a}),a}})}const n=si(()=>np(t));Me(e._zod,"propValues",()=>{const i=t.shape,a={};for(const c in i){const l=i[c]._zod;if(l.values){a[c]??(a[c]=new Set);for(const f of l.values)a[c].add(f)}}return a});const o=Zo,s=t.catchall;let u;e._zod.parse=(i,a)=>{u??(u=n.value);const c=i.value;if(!o(c))return i.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),i;i.value={};const l=[],f=u.shape;for(const d of u.keys){const h=f[d],m=h._zod.optout==="optional",x=h._zod.run({value:c[d],issues:[]},a);x instanceof Promise?l.push(x.then(b=>Du(b,i,d,c,m))):Du(x,i,d,c,m)}return s?op(l,c,i,a,n.value,e):l.length?Promise.all(l).then(()=>i):i}}),w_=W("$ZodObjectJIT",(e,t)=>{v_.init(e,t);const r=e._zod.parse,n=si(()=>np(t)),o=d=>{const h=new Lb(["shape","payload","ctx"]),m=n.value,x=g=>{const v=Kl(g);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};h.write("const input = payload.value;");const b=Object.create(null);let k=0;for(const g of m.keys)b[g]=`key_${k++}`;h.write("const newResult = {};");for(const g of m.keys){const v=b[g],_=Kl(g),T=d[g]?._zod?.optout==="optional";h.write(`const ${v} = ${x(g)};`),T?h.write(`
        if (${v}.issues.length) {
          if (${_} in input) {
            payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${_}, ...iss.path] : [${_}]
            })));
          }
        }
        
        if (${v}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${v}.value;
        }
        
      `):h.write(`
        if (${v}.issues.length) {
          payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        if (${v}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${v}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const p=h.compile();return(g,v)=>p(d,g,v)};let s;const u=Zo,i=!qh.jitless,c=i&&Fg.value,l=t.catchall;let f;e._zod.parse=(d,h)=>{f??(f=n.value);const m=d.value;return u(m)?i&&c&&h?.async===!1&&h.jitless!==!0?(s||(s=o(t.shape)),d=s(d,h),l?op([],m,d,h,f,e):d):r(d,h):(d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d)}});function Gl(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Hn(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(u=>un(u,n,sn())))}),t)}const sp=W("$ZodUnion",(e,t)=>{Ke.init(e,t),Me(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Me(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Me(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Me(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>_c(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(r)return n(o,s);let u=!1;const i=[];for(const a of t.options){const c=a._zod.run({value:o.value,issues:[]},s);if(c instanceof Promise)i.push(c),u=!0;else{if(c.issues.length===0)return c;i.push(c)}}return u?Promise.all(i).then(a=>Gl(a,o,e,s)):Gl(i,o,e,s)}}),k_=W("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,sp.init(e,t);const r=e._zod.parse;Me(e._zod,"propValues",()=>{const o={};for(const s of t.options){const u=s._zod.propValues;if(!u||Object.keys(u).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const[i,a]of Object.entries(u)){o[i]||(o[i]=new Set);for(const c of a)o[i].add(c)}}return o});const n=si(()=>{const o=t.options,s=new Map;for(const u of o){const i=u._zod.propValues?.[t.discriminator];if(!i||i.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(u)}"`);for(const a of i){if(s.has(a))throw new Error(`Duplicate discriminator value "${String(a)}"`);s.set(a,u)}}return s});e._zod.parse=(o,s)=>{const u=o.value;if(!Zo(u))return o.issues.push({code:"invalid_type",expected:"object",input:u,inst:e}),o;const i=n.value.get(u?.[t.discriminator]);return i?i._zod.run(o,s):t.unionFallback?r(o,s):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:u,path:[t.discriminator],inst:e}),o)}}),E_=W("$ZodIntersection",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{const o=r.value,s=t.left._zod.run({value:o,issues:[]},n),u=t.right._zod.run({value:o,issues:[]},n);return s instanceof Promise||u instanceof Promise?Promise.all([s,u]).then(([a,c])=>Yl(r,a,c)):Yl(r,s,u)}});function Ca(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(so(e)&&so(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),o={...e,...t};for(const s of n){const u=Ca(e[s],t[s]);if(!u.valid)return{valid:!1,mergeErrorPath:[s,...u.mergeErrorPath]};o[s]=u.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const o=e[n],s=t[n],u=Ca(o,s);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Yl(e,t,r){const n=new Map;let o;for(const i of t.issues)if(i.code==="unrecognized_keys"){o??(o=i);for(const a of i.keys)n.has(a)||n.set(a,{}),n.get(a).l=!0}else e.issues.push(i);for(const i of r.issues)if(i.code==="unrecognized_keys")for(const a of i.keys)n.has(a)||n.set(a,{}),n.get(a).r=!0;else e.issues.push(i);const s=[...n].filter(([,i])=>i.l&&i.r).map(([i])=>i);if(s.length&&o&&e.issues.push({...o,keys:s}),Hn(e))return e;const u=Ca(t.value,r.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const S_=W("$ZodRecord",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{const o=r.value;if(!so(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;const s=[],u=t.keyType._zod.values;if(u){r.value={};const i=new Set;for(const c of u)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){i.add(typeof c=="number"?c.toString():c);const l=t.valueType._zod.run({value:o[c],issues:[]},n);l instanceof Promise?s.push(l.then(f=>{f.issues.length&&r.issues.push(...Kn(c,f.issues)),r.value[c]=f.value})):(l.issues.length&&r.issues.push(...Kn(c,l.issues)),r.value[c]=l.value)}let a;for(const c in o)i.has(c)||(a=a??[],a.push(c));a&&a.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:a})}else{r.value={};for(const i of Reflect.ownKeys(o)){if(i==="__proto__")continue;let a=t.keyType._zod.run({value:i,issues:[]},n);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof i=="string"&&Yh.test(i)&&a.issues.length){const f=t.keyType._zod.run({value:Number(i),issues:[]},n);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");f.issues.length===0&&(a=f)}if(a.issues.length){t.mode==="loose"?r.value[i]=o[i]:r.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(f=>un(f,n,sn())),input:i,path:[i],inst:e});continue}const l=t.valueType._zod.run({value:o[i],issues:[]},n);l instanceof Promise?s.push(l.then(f=>{f.issues.length&&r.issues.push(...Kn(i,f.issues)),r.value[a.value]=f.value})):(l.issues.length&&r.issues.push(...Kn(i,l.issues)),r.value[a.value]=l.value)}}return s.length?Promise.all(s).then(()=>r):r}}),C_=W("$ZodEnum",(e,t)=>{Ke.init(e,t);const r=Lh(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(o=>Ng.has(typeof o)).map(o=>typeof o=="string"?uo(o):o.toString()).join("|")})$`),e._zod.parse=(o,s)=>{const u=o.value;return n.has(u)||o.issues.push({code:"invalid_value",values:r,input:u,inst:e}),o}}),$_=W("$ZodLiteral",(e,t)=>{if(Ke.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?uo(n):n?uo(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{const s=n.value;return r.has(s)||n.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),n}}),T_=W("$ZodTransform",(e,t)=>{Ke.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new jh(e.constructor.name);const o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(u=>(r.value=u,r));if(o instanceof Promise)throw new to;return r.value=o,r}});function Ql(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const up=W("$ZodOptional",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Me(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Me(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${_c(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>Ql(s,r.value)):Ql(o,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),A_=W("$ZodExactOptional",(e,t)=>{up.init(e,t),Me(e._zod,"values",()=>t.innerType._zod.values),Me(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),P_=W("$ZodNullable",(e,t)=>{Ke.init(e,t),Me(e._zod,"optin",()=>t.innerType._zod.optin),Me(e._zod,"optout",()=>t.innerType._zod.optout),Me(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${_c(r.source)}|null)$`):void 0}),Me(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),D_=W("$ZodDefault",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",Me(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>Xl(s,t)):Xl(o,t)}});function Xl(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const R_=W("$ZodPrefault",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",Me(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),I_=W("$ZodNonOptional",(e,t)=>{Ke.init(e,t),Me(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>ef(s,e)):ef(o,e)}});function ef(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const O_=W("$ZodCatch",(e,t)=>{Ke.init(e,t),Me(e._zod,"optin",()=>t.innerType._zod.optin),Me(e._zod,"optout",()=>t.innerType._zod.optout),Me(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(u=>un(u,n,sn()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(s=>un(s,n,sn()))},input:r.value}),r.issues=[]),r)}}),F_=W("$ZodPipe",(e,t)=>{Ke.init(e,t),Me(e._zod,"values",()=>t.in._zod.values),Me(e._zod,"optin",()=>t.in._zod.optin),Me(e._zod,"optout",()=>t.out._zod.optout),Me(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(u=>ys(u,t.in,n)):ys(s,t.in,n)}const o=t.in._zod.run(r,n);return o instanceof Promise?o.then(s=>ys(s,t.out,n)):ys(o,t.out,n)}});function ys(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const N_=W("$ZodReadonly",(e,t)=>{Ke.init(e,t),Me(e._zod,"propValues",()=>t.innerType._zod.propValues),Me(e._zod,"values",()=>t.innerType._zod.values),Me(e._zod,"optin",()=>t.innerType?._zod?.optin),Me(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(tf):tf(o)}});function tf(e){return e.value=Object.freeze(e.value),e}const M_=W("$ZodCustom",(e,t)=>{qt.init(e,t),Ke.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(s=>rf(s,r,n,e));rf(o,r,n,e)}});function rf(e,t,r,n){if(!e){const o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Ho(o))}}var nf;class z_{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const o={...n,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function j_(){return new z_}(nf=globalThis).__zod_globalRegistry??(nf.__zod_globalRegistry=j_());const $o=globalThis.__zod_globalRegistry;function q_(e,t){return new e({type:"string",...be(t)})}function L_(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...be(t)})}function of(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...be(t)})}function U_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...be(t)})}function V_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...be(t)})}function B_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...be(t)})}function Z_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...be(t)})}function ip(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...be(t)})}function H_(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...be(t)})}function K_(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...be(t)})}function J_(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...be(t)})}function W_(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...be(t)})}function G_(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...be(t)})}function Y_(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...be(t)})}function Q_(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...be(t)})}function X_(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...be(t)})}function ey(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...be(t)})}function ty(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...be(t)})}function ry(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...be(t)})}function ny(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...be(t)})}function oy(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...be(t)})}function sy(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...be(t)})}function uy(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...be(t)})}function iy(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...be(t)})}function ay(e,t){return new e({type:"string",format:"date",check:"string_format",...be(t)})}function cy(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...be(t)})}function ly(e,t){return new e({type:"string",format:"duration",check:"string_format",...be(t)})}function fy(e,t){return new e({type:"number",checks:[],...be(t)})}function dy(e,t){return new e({type:"number",coerce:!0,checks:[],...be(t)})}function hy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...be(t)})}function py(e,t){return new e({type:"boolean",...be(t)})}function my(e,t){return new e({type:"null",...be(t)})}function gy(e){return new e({type:"any"})}function by(e){return new e({type:"unknown"})}function _y(e,t){return new e({type:"never",...be(t)})}function sf(e,t){return new Xh({check:"less_than",...be(t),value:e,inclusive:!1})}function Mi(e,t){return new Xh({check:"less_than",...be(t),value:e,inclusive:!0})}function uf(e,t){return new ep({check:"greater_than",...be(t),value:e,inclusive:!1})}function zi(e,t){return new ep({check:"greater_than",...be(t),value:e,inclusive:!0})}function af(e,t){return new Ab({check:"multiple_of",...be(t),value:e})}function ap(e,t){return new Db({check:"max_length",...be(t),maximum:e})}function Ru(e,t){return new Rb({check:"min_length",...be(t),minimum:e})}function cp(e,t){return new Ib({check:"length_equals",...be(t),length:e})}function yy(e,t){return new Ob({check:"string_format",format:"regex",...be(t),pattern:e})}function xy(e){return new Fb({check:"string_format",format:"lowercase",...be(e)})}function vy(e){return new Nb({check:"string_format",format:"uppercase",...be(e)})}function wy(e,t){return new Mb({check:"string_format",format:"includes",...be(t),includes:e})}function ky(e,t){return new zb({check:"string_format",format:"starts_with",...be(t),prefix:e})}function Ey(e,t){return new jb({check:"string_format",format:"ends_with",...be(t),suffix:e})}function po(e){return new qb({check:"overwrite",tx:e})}function Sy(e){return po(t=>t.normalize(e))}function Cy(){return po(e=>e.trim())}function $y(){return po(e=>e.toLowerCase())}function Ty(){return po(e=>e.toUpperCase())}function Ay(){return po(e=>Og(e))}function Py(e,t,r){return new e({type:"array",element:t,...be(r)})}function Dy(e,t,r){const n=be(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function Ry(e,t,r){return new e({type:"custom",check:"custom",fn:t,...be(r)})}function Iy(e){const t=Oy(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Ho(n,r.value,t._zod.def));else{const o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(Ho(o))}},e(r.value,r)));return t}function Oy(e,t){const r=new qt({check:"custom",...be(t)});return r._zod.check=e,r}function lp(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??$o,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function ut(e,t,r={path:[],schemaPath:[]}){var n;const o=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const u={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,u);const i=e._zod.toJSONSchema?.();if(i)u.schema=i;else{const l={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,u.schema,l);else{const d=u.schema,h=t.processors[o.type];if(!h)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);h(e,t,d,l)}const f=e._zod.parent;f&&(u.ref||(u.ref=f),ut(f,t,l),t.seen.get(f).isParent=!0)}const a=t.metadataRegistry.get(e);return a&&Object.assign(u.schema,a),t.io==="input"&&Pt(e)&&(delete u.schema.examples,delete u.schema.default),t.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,t.seen.get(e).schema}function fp(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const u of e.seen.entries()){const i=e.metadataRegistry.get(u[0])?.id;if(i){const a=n.get(i);if(a&&a!==u[0])throw new Error(`Duplicate schema id "${i}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(i,u[0])}}const o=u=>{const i=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const f=e.external.registry.get(u[0])?.id,d=e.external.uri??(m=>m);if(f)return{ref:d(f)};const h=u[1].defId??u[1].schema.id??`schema${e.counter++}`;return u[1].defId=h,{defId:h,ref:`${d("__shared")}#/${i}/${h}`}}if(u[1]===r)return{ref:"#"};const c=`#/${i}/`,l=u[1].schema.id??`__schema${e.counter++}`;return{defId:l,ref:c+l}},s=u=>{if(u[1].schema.$ref)return;const i=u[1],{ref:a,defId:c}=o(u);i.def={...i.schema},c&&(i.defId=c);const l=i.schema;for(const f in l)delete l[f];l.$ref=a};if(e.cycles==="throw")for(const u of e.seen.entries()){const i=u[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of e.seen.entries()){const i=u[1];if(t===u[0]){s(u);continue}if(e.external){const c=e.external.registry.get(u[0])?.id;if(t!==u[0]&&c){s(u);continue}}if(e.metadataRegistry.get(u[0])?.id){s(u);continue}if(i.cycle){s(u);continue}if(i.count>1&&e.reused==="ref"){s(u);continue}}}function dp(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=u=>{const i=e.seen.get(u);if(i.ref===null)return;const a=i.def??i.schema,c={...a},l=i.ref;if(i.ref=null,l){n(l);const d=e.seen.get(l),h=d.schema;if(h.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(a.allOf=a.allOf??[],a.allOf.push(h)):Object.assign(a,h),Object.assign(a,c),u._zod.parent===l)for(const x in a)x==="$ref"||x==="allOf"||x in c||delete a[x];if(h.$ref&&d.def)for(const x in a)x==="$ref"||x==="allOf"||x in d.def&&JSON.stringify(a[x])===JSON.stringify(d.def[x])&&delete a[x]}const f=u._zod.parent;if(f&&f!==l){n(f);const d=e.seen.get(f);if(d?.schema.$ref&&(a.$ref=d.schema.$ref,d.def))for(const h in a)h==="$ref"||h==="allOf"||h in d.def&&JSON.stringify(a[h])===JSON.stringify(d.def[h])&&delete a[h]}e.override({zodSchema:u,jsonSchema:a,path:i.path??[]})};for(const u of[...e.seen.entries()].reverse())n(u[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const u=e.external.registry.get(t)?.id;if(!u)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(u)}Object.assign(o,r.def??r.schema);const s=e.external?.defs??{};for(const u of e.seen.entries()){const i=u[1];i.def&&i.defId&&(s[i.defId]=i.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?o.$defs=s:o.definitions=s);try{const u=JSON.parse(JSON.stringify(o));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:Iu(t,"input",e.processors),output:Iu(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function Pt(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Pt(n.element,r);if(n.type==="set")return Pt(n.valueType,r);if(n.type==="lazy")return Pt(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Pt(n.innerType,r);if(n.type==="intersection")return Pt(n.left,r)||Pt(n.right,r);if(n.type==="record"||n.type==="map")return Pt(n.keyType,r)||Pt(n.valueType,r);if(n.type==="pipe")return Pt(n.in,r)||Pt(n.out,r);if(n.type==="object"){for(const o in n.shape)if(Pt(n.shape[o],r))return!0;return!1}if(n.type==="union"){for(const o of n.options)if(Pt(o,r))return!0;return!1}if(n.type==="tuple"){for(const o of n.items)if(Pt(o,r))return!0;return!!(n.rest&&Pt(n.rest,r))}return!1}const Fy=(e,t={})=>r=>{const n=lp({...r,processors:t});return ut(e,n),fp(n,e),dp(n,e)},Iu=(e,t,r={})=>n=>{const{libraryOptions:o,target:s}=n??{},u=lp({...o??{},target:s,io:t,processors:r});return ut(e,u),fp(u,e),dp(u,e)},Ny={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},My=(e,t,r,n)=>{const o=r;o.type="string";const{minimum:s,maximum:u,format:i,patterns:a,contentEncoding:c}=e._zod.bag;if(typeof s=="number"&&(o.minLength=s),typeof u=="number"&&(o.maxLength=u),i&&(o.format=Ny[i]??i,o.format===""&&delete o.format,i==="time"&&delete o.format),c&&(o.contentEncoding=c),a&&a.size>0){const l=[...a];l.length===1?o.pattern=l[0].source:l.length>1&&(o.allOf=[...l.map(f=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},zy=(e,t,r,n)=>{const o=r,{minimum:s,maximum:u,format:i,multipleOf:a,exclusiveMaximum:c,exclusiveMinimum:l}=e._zod.bag;typeof i=="string"&&i.includes("int")?o.type="integer":o.type="number",typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=l,o.exclusiveMinimum=!0):o.exclusiveMinimum=l),typeof s=="number"&&(o.minimum=s,typeof l=="number"&&t.target!=="draft-04"&&(l>=s?delete o.minimum:delete o.exclusiveMinimum)),typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=c,o.exclusiveMaximum=!0):o.exclusiveMaximum=c),typeof u=="number"&&(o.maximum=u,typeof c=="number"&&t.target!=="draft-04"&&(c<=u?delete o.maximum:delete o.exclusiveMaximum)),typeof a=="number"&&(o.multipleOf=a)},jy=(e,t,r,n)=>{r.type="boolean"},qy=(e,t,r,n)=>{t.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},Ly=(e,t,r,n)=>{r.not={}},Uy=(e,t,r,n)=>{},Vy=(e,t,r,n)=>{},By=(e,t,r,n)=>{const o=e._zod.def,s=Lh(o.entries);s.every(u=>typeof u=="number")&&(r.type="number"),s.every(u=>typeof u=="string")&&(r.type="string"),r.enum=s},Zy=(e,t,r,n)=>{const o=e._zod.def,s=[];for(const u of o.values)if(u===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(u))}else s.push(u);if(s.length!==0)if(s.length===1){const u=s[0];r.type=u===null?"null":typeof u,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[u]:r.const=u}else s.every(u=>typeof u=="number")&&(r.type="number"),s.every(u=>typeof u=="string")&&(r.type="string"),s.every(u=>typeof u=="boolean")&&(r.type="boolean"),s.every(u=>u===null)&&(r.type="null"),r.enum=s},Hy=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Ky=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Jy=(e,t,r,n)=>{const o=r,s=e._zod.def,{minimum:u,maximum:i}=e._zod.bag;typeof u=="number"&&(o.minItems=u),typeof i=="number"&&(o.maxItems=i),o.type="array",o.items=ut(s.element,t,{...n,path:[...n.path,"items"]})},Wy=(e,t,r,n)=>{const o=r,s=e._zod.def;o.type="object",o.properties={};const u=s.shape;for(const c in u)o.properties[c]=ut(u[c],t,{...n,path:[...n.path,"properties",c]});const i=new Set(Object.keys(u)),a=new Set([...i].filter(c=>{const l=s.shape[c]._zod;return t.io==="input"?l.optin===void 0:l.optout===void 0}));a.size>0&&(o.required=Array.from(a)),s.catchall?._zod.def.type==="never"?o.additionalProperties=!1:s.catchall?s.catchall&&(o.additionalProperties=ut(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},Gy=(e,t,r,n)=>{const o=e._zod.def,s=o.inclusive===!1,u=o.options.map((i,a)=>ut(i,t,{...n,path:[...n.path,s?"oneOf":"anyOf",a]}));s?r.oneOf=u:r.anyOf=u},Yy=(e,t,r,n)=>{const o=e._zod.def,s=ut(o.left,t,{...n,path:[...n.path,"allOf",0]}),u=ut(o.right,t,{...n,path:[...n.path,"allOf",1]}),i=c=>"allOf"in c&&Object.keys(c).length===1,a=[...i(s)?s.allOf:[s],...i(u)?u.allOf:[u]];r.allOf=a},Qy=(e,t,r,n)=>{const o=r,s=e._zod.def;o.type="object";const u=s.keyType,a=u._zod.bag?.patterns;if(s.mode==="loose"&&a&&a.size>0){const l=ut(s.valueType,t,{...n,path:[...n.path,"patternProperties","*"]});o.patternProperties={};for(const f of a)o.patternProperties[f.source]=l}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(o.propertyNames=ut(s.keyType,t,{...n,path:[...n.path,"propertyNames"]})),o.additionalProperties=ut(s.valueType,t,{...n,path:[...n.path,"additionalProperties"]});const c=u._zod.values;if(c){const l=[...c].filter(f=>typeof f=="string"||typeof f=="number");l.length>0&&(o.required=l)}},Xy=(e,t,r,n)=>{const o=e._zod.def,s=ut(o.innerType,t,n),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=o.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},ex=(e,t,r,n)=>{const o=e._zod.def;ut(o.innerType,t,n);const s=t.seen.get(e);s.ref=o.innerType},tx=(e,t,r,n)=>{const o=e._zod.def;ut(o.innerType,t,n);const s=t.seen.get(e);s.ref=o.innerType,r.default=JSON.parse(JSON.stringify(o.defaultValue))},rx=(e,t,r,n)=>{const o=e._zod.def;ut(o.innerType,t,n);const s=t.seen.get(e);s.ref=o.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},nx=(e,t,r,n)=>{const o=e._zod.def;ut(o.innerType,t,n);const s=t.seen.get(e);s.ref=o.innerType;let u;try{u=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=u},ox=(e,t,r,n)=>{const o=e._zod.def,s=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;ut(s,t,n);const u=t.seen.get(e);u.ref=s},sx=(e,t,r,n)=>{const o=e._zod.def;ut(o.innerType,t,n);const s=t.seen.get(e);s.ref=o.innerType,r.readOnly=!0},hp=(e,t,r,n)=>{const o=e._zod.def;ut(o.innerType,t,n);const s=t.seen.get(e);s.ref=o.innerType};function ci(e){return!!e._zod}function Qr(e,t){return ci(e)?Kh(e,t):e.safeParse(t)}function pp(e){if(!e)return;let t;if(ci(e)?t=e._zod?.def?.shape:t=e.shape,!!t){if(typeof t=="function")try{return t()}catch{return}return t}}function ux(e){if(ci(e)){const s=e._zod?.def;if(s){if(s.value!==void 0)return s.value;if(Array.isArray(s.values)&&s.values.length>0)return s.values[0]}}const r=e._def;if(r){if(r.value!==void 0)return r.value;if(Array.isArray(r.values)&&r.values.length>0)return r.values[0]}const n=e.value;if(n!==void 0)return n}const ix=W("ZodISODateTime",(e,t)=>{e_.init(e,t),Xe.init(e,t)});function mp(e){return iy(ix,e)}const ax=W("ZodISODate",(e,t)=>{t_.init(e,t),Xe.init(e,t)});function cx(e){return ay(ax,e)}const lx=W("ZodISOTime",(e,t)=>{r_.init(e,t),Xe.init(e,t)});function fx(e){return cy(lx,e)}const dx=W("ZodISODuration",(e,t)=>{n_.init(e,t),Xe.init(e,t)});function hx(e){return ly(dx,e)}const px=(e,t)=>{Zh.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Kg(e,r)},flatten:{value:r=>Hg(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Sa,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Sa,2)}},isEmpty:{get(){return e.issues.length===0}}})},tr=W("ZodError",px,{Parent:Error}),mx=xc(tr),gx=vc(tr),bx=ui(tr),_x=ii(tr),yx=Wg(tr),xx=Gg(tr),vx=Yg(tr),wx=Qg(tr),kx=Xg(tr),Ex=eb(tr),Sx=tb(tr),Cx=rb(tr),Je=W("ZodType",(e,t)=>(Ke.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Iu(e,"input"),output:Iu(e,"output")}}),e.toJSONSchema=Fy(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(ln(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>fn(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>mx(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>bx(e,r,n),e.parseAsync=async(r,n)=>gx(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>_x(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>yx(e,r,n),e.decode=(r,n)=>xx(e,r,n),e.encodeAsync=async(r,n)=>vx(e,r,n),e.decodeAsync=async(r,n)=>wx(e,r,n),e.safeEncode=(r,n)=>kx(e,r,n),e.safeDecode=(r,n)=>Ex(e,r,n),e.safeEncodeAsync=async(r,n)=>Sx(e,r,n),e.safeDecodeAsync=async(r,n)=>Cx(e,r,n),e.refine=(r,n)=>e.check(y3(r,n)),e.superRefine=r=>e.check(x3(r)),e.overwrite=r=>e.check(po(r)),e.optional=()=>rt(e),e.exactOptional=()=>u3(e),e.nullable=()=>ff(e),e.nullish=()=>rt(ff(e)),e.nonoptional=r=>d3(e,r),e.array=()=>fe(e),e.or=r=>We([e,r]),e.and=r=>Ec(e,r),e.transform=r=>Ta(e,wp(r)),e.default=r=>c3(e,r),e.prefault=r=>f3(e,r),e.catch=r=>p3(e,r),e.pipe=r=>Ta(e,r),e.readonly=()=>b3(e),e.describe=r=>{const n=e.clone();return $o.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return $o.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return $o.get(e);const n=e.clone();return $o.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),gp=W("_ZodString",(e,t)=>{wc.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(n,o,s)=>My(e,n,o);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(yy(...n)),e.includes=(...n)=>e.check(wy(...n)),e.startsWith=(...n)=>e.check(ky(...n)),e.endsWith=(...n)=>e.check(Ey(...n)),e.min=(...n)=>e.check(Ru(...n)),e.max=(...n)=>e.check(ap(...n)),e.length=(...n)=>e.check(cp(...n)),e.nonempty=(...n)=>e.check(Ru(1,...n)),e.lowercase=n=>e.check(xy(n)),e.uppercase=n=>e.check(vy(n)),e.trim=()=>e.check(Cy()),e.normalize=(...n)=>e.check(Sy(...n)),e.toLowerCase=()=>e.check($y()),e.toUpperCase=()=>e.check(Ty()),e.slugify=()=>e.check(Ay())}),$x=W("ZodString",(e,t)=>{wc.init(e,t),gp.init(e,t),e.email=r=>e.check(L_(Tx,r)),e.url=r=>e.check(ip(bp,r)),e.jwt=r=>e.check(uy(Bx,r)),e.emoji=r=>e.check(H_(Px,r)),e.guid=r=>e.check(of(cf,r)),e.uuid=r=>e.check(U_(xs,r)),e.uuidv4=r=>e.check(V_(xs,r)),e.uuidv6=r=>e.check(B_(xs,r)),e.uuidv7=r=>e.check(Z_(xs,r)),e.nanoid=r=>e.check(K_(Dx,r)),e.guid=r=>e.check(of(cf,r)),e.cuid=r=>e.check(J_(Rx,r)),e.cuid2=r=>e.check(W_(Ix,r)),e.ulid=r=>e.check(G_(Ox,r)),e.base64=r=>e.check(ny(Lx,r)),e.base64url=r=>e.check(oy(Ux,r)),e.xid=r=>e.check(Y_(Fx,r)),e.ksuid=r=>e.check(Q_(Nx,r)),e.ipv4=r=>e.check(X_(Mx,r)),e.ipv6=r=>e.check(ey(zx,r)),e.cidrv4=r=>e.check(ty(jx,r)),e.cidrv6=r=>e.check(ry(qx,r)),e.e164=r=>e.check(sy(Vx,r)),e.datetime=r=>e.check(mp(r)),e.date=r=>e.check(cx(r)),e.time=r=>e.check(fx(r)),e.duration=r=>e.check(hx(r))});function R(e){return q_($x,e)}const Xe=W("ZodStringFormat",(e,t)=>{Ge.init(e,t),gp.init(e,t)}),Tx=W("ZodEmail",(e,t)=>{Zb.init(e,t),Xe.init(e,t)}),cf=W("ZodGUID",(e,t)=>{Vb.init(e,t),Xe.init(e,t)}),xs=W("ZodUUID",(e,t)=>{Bb.init(e,t),Xe.init(e,t)}),bp=W("ZodURL",(e,t)=>{Hb.init(e,t),Xe.init(e,t)});function Ax(e){return ip(bp,e)}const Px=W("ZodEmoji",(e,t)=>{Kb.init(e,t),Xe.init(e,t)}),Dx=W("ZodNanoID",(e,t)=>{Jb.init(e,t),Xe.init(e,t)}),Rx=W("ZodCUID",(e,t)=>{Wb.init(e,t),Xe.init(e,t)}),Ix=W("ZodCUID2",(e,t)=>{Gb.init(e,t),Xe.init(e,t)}),Ox=W("ZodULID",(e,t)=>{Yb.init(e,t),Xe.init(e,t)}),Fx=W("ZodXID",(e,t)=>{Qb.init(e,t),Xe.init(e,t)}),Nx=W("ZodKSUID",(e,t)=>{Xb.init(e,t),Xe.init(e,t)}),Mx=W("ZodIPv4",(e,t)=>{o_.init(e,t),Xe.init(e,t)}),zx=W("ZodIPv6",(e,t)=>{s_.init(e,t),Xe.init(e,t)}),jx=W("ZodCIDRv4",(e,t)=>{u_.init(e,t),Xe.init(e,t)}),qx=W("ZodCIDRv6",(e,t)=>{i_.init(e,t),Xe.init(e,t)}),Lx=W("ZodBase64",(e,t)=>{a_.init(e,t),Xe.init(e,t)}),Ux=W("ZodBase64URL",(e,t)=>{l_.init(e,t),Xe.init(e,t)}),Vx=W("ZodE164",(e,t)=>{f_.init(e,t),Xe.init(e,t)}),Bx=W("ZodJWT",(e,t)=>{h_.init(e,t),Xe.init(e,t)}),kc=W("ZodNumber",(e,t)=>{rp.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(n,o,s)=>zy(e,n,o),e.gt=(n,o)=>e.check(uf(n,o)),e.gte=(n,o)=>e.check(zi(n,o)),e.min=(n,o)=>e.check(zi(n,o)),e.lt=(n,o)=>e.check(sf(n,o)),e.lte=(n,o)=>e.check(Mi(n,o)),e.max=(n,o)=>e.check(Mi(n,o)),e.int=n=>e.check(lf(n)),e.safe=n=>e.check(lf(n)),e.positive=n=>e.check(uf(0,n)),e.nonnegative=n=>e.check(zi(0,n)),e.negative=n=>e.check(sf(0,n)),e.nonpositive=n=>e.check(Mi(0,n)),e.multipleOf=(n,o)=>e.check(af(n,o)),e.step=(n,o)=>e.check(af(n,o)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function ze(e){return fy(kc,e)}const Zx=W("ZodNumberFormat",(e,t)=>{p_.init(e,t),kc.init(e,t)});function lf(e){return hy(Zx,e)}const Hx=W("ZodBoolean",(e,t)=>{m_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>jy(e,r,n)});function He(e){return py(Hx,e)}const Kx=W("ZodNull",(e,t)=>{g_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>qy(e,r,n)});function _p(e){return my(Kx,e)}const Jx=W("ZodAny",(e,t)=>{b_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Uy()});function Wx(){return gy(Jx)}const Gx=W("ZodUnknown",(e,t)=>{__.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Vy()});function Ye(){return by(Gx)}const Yx=W("ZodNever",(e,t)=>{y_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Ly(e,r,n)});function Qx(e){return _y(Yx,e)}const Xx=W("ZodArray",(e,t)=>{x_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Jy(e,r,n,o),e.element=t.element,e.min=(r,n)=>e.check(Ru(r,n)),e.nonempty=r=>e.check(Ru(1,r)),e.max=(r,n)=>e.check(ap(r,n)),e.length=(r,n)=>e.check(cp(r,n)),e.unwrap=()=>e.element});function fe(e,t){return Py(Xx,e,t)}const yp=W("ZodObject",(e,t)=>{w_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Wy(e,r,n,o),Me(e,"shape",()=>t.shape),e.keyof=()=>Kt(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ye()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ye()}),e.strict=()=>e.clone({...e._zod.def,catchall:Qx()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Lg(e,r),e.safeExtend=r=>Ug(e,r),e.merge=r=>Vg(e,r),e.pick=r=>jg(e,r),e.omit=r=>qg(e,r),e.partial=(...r)=>Bg(kp,e,r[0]),e.required=(...r)=>Zg(Ep,e,r[0])});function he(e,t){const r={type:"object",shape:e??{},...be(t)};return new yp(r)}function yt(e,t){return new yp({type:"object",shape:e,catchall:Ye(),...be(t)})}const xp=W("ZodUnion",(e,t)=>{sp.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Gy(e,r,n,o),e.options=t.options});function We(e,t){return new xp({type:"union",options:e,...be(t)})}const e3=W("ZodDiscriminatedUnion",(e,t)=>{xp.init(e,t),k_.init(e,t)});function vp(e,t,r){return new e3({type:"union",options:t,discriminator:e,...be(r)})}const t3=W("ZodIntersection",(e,t)=>{E_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Yy(e,r,n,o)});function Ec(e,t){return new t3({type:"intersection",left:e,right:t})}const r3=W("ZodRecord",(e,t)=>{S_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Qy(e,r,n,o),e.keyType=t.keyType,e.valueType=t.valueType});function Qe(e,t,r){return new r3({type:"record",keyType:e,valueType:t,...be(r)})}const $a=W("ZodEnum",(e,t)=>{C_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(n,o,s)=>By(e,n,o),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{const s={};for(const u of n)if(r.has(u))s[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new $a({...t,checks:[],...be(o),entries:s})},e.exclude=(n,o)=>{const s={...t.entries};for(const u of n)if(r.has(u))delete s[u];else throw new Error(`Key ${u} not found in enum`);return new $a({...t,checks:[],...be(o),entries:s})}});function Kt(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new $a({type:"enum",entries:r,...be(t)})}const n3=W("ZodLiteral",(e,t)=>{$_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Zy(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function xe(e,t){return new n3({type:"literal",values:Array.isArray(e)?e:[e],...be(t)})}const o3=W("ZodTransform",(e,t)=>{T_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Ky(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new jh(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(Ho(s,r.value,t));else{const u=s;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push(Ho(u))}};const o=t.transform(r.value,r);return o instanceof Promise?o.then(s=>(r.value=s,r)):(r.value=o,r)}});function wp(e){return new o3({type:"transform",transform:e})}const kp=W("ZodOptional",(e,t)=>{up.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>hp(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function rt(e){return new kp({type:"optional",innerType:e})}const s3=W("ZodExactOptional",(e,t)=>{A_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>hp(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function u3(e){return new s3({type:"optional",innerType:e})}const i3=W("ZodNullable",(e,t)=>{P_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Xy(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function ff(e){return new i3({type:"nullable",innerType:e})}const a3=W("ZodDefault",(e,t)=>{D_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>tx(e,r,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function c3(e,t){return new a3({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Vh(t)}})}const l3=W("ZodPrefault",(e,t)=>{R_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>rx(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function f3(e,t){return new l3({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Vh(t)}})}const Ep=W("ZodNonOptional",(e,t)=>{I_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>ex(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function d3(e,t){return new Ep({type:"nonoptional",innerType:e,...be(t)})}const h3=W("ZodCatch",(e,t)=>{O_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>nx(e,r,n,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function p3(e,t){return new h3({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const m3=W("ZodPipe",(e,t)=>{F_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>ox(e,r,n,o),e.in=t.in,e.out=t.out});function Ta(e,t){return new m3({type:"pipe",in:e,out:t})}const g3=W("ZodReadonly",(e,t)=>{N_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>sx(e,r,n,o),e.unwrap=()=>e._zod.def.innerType});function b3(e){return new g3({type:"readonly",innerType:e})}const Sp=W("ZodCustom",(e,t)=>{M_.init(e,t),Je.init(e,t),e._zod.processJSONSchema=(r,n,o)=>Hy(e,r)});function _3(e,t){return Dy(Sp,e??(()=>!0),t)}function y3(e,t={}){return Ry(Sp,e,t)}function x3(e){return Iy(e)}function Cp(e,t){return Ta(wp(e),t)}const v3={custom:"custom"};function w3(e){return dy(kc,e)}const li="2025-11-25",k3=[li,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],$n="io.modelcontextprotocol/related-task",fi="2.0",xt=_3(e=>e!==null&&(typeof e=="object"||typeof e=="function")),$p=We([R(),ze().int()]),Tp=R();yt({ttl:We([ze(),_p()]).optional(),pollInterval:ze().optional()});const E3=he({ttl:ze().optional()}),S3=he({taskId:R()}),Sc=yt({progressToken:$p.optional(),[$n]:S3.optional()}),Jt=he({_meta:Sc.optional()}),us=Jt.extend({task:E3.optional()}),C3=e=>us.safeParse(e).success,vt=he({method:R(),params:Jt.loose().optional()}),rr=he({_meta:Sc.optional()}),nr=he({method:R(),params:rr.loose().optional()}),wt=yt({_meta:Sc.optional()}),di=We([R(),ze().int()]),Ap=he({jsonrpc:xe(fi),id:di,...vt.shape}).strict(),Aa=e=>Ap.safeParse(e).success,Pp=he({jsonrpc:xe(fi),...nr.shape}).strict(),$3=e=>Pp.safeParse(e).success,Cc=he({jsonrpc:xe(fi),id:di,result:wt}).strict(),To=e=>Cc.safeParse(e).success;var Ce;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(Ce||(Ce={}));const $c=he({jsonrpc:xe(fi),id:di.optional(),error:he({code:ze().int(),message:R(),data:Ye().optional()})}).strict(),T3=e=>$c.safeParse(e).success,ji=We([Ap,Pp,Cc,$c]);We([Cc,$c]);const Jn=wt.strict(),A3=rr.extend({requestId:di.optional(),reason:R().optional()}),Tc=nr.extend({method:xe("notifications/cancelled"),params:A3}),P3=he({src:R(),mimeType:R().optional(),sizes:fe(R()).optional(),theme:Kt(["light","dark"]).optional()}),is=he({icons:fe(P3).optional()}),io=he({name:R(),title:R().optional()}),Dp=io.extend({...io.shape,...is.shape,version:R(),websiteUrl:R().optional(),description:R().optional()}),D3=Ec(he({applyDefaults:He().optional()}),Qe(R(),Ye())),R3=Cp(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,Ec(he({form:D3.optional(),url:xt.optional()}),Qe(R(),Ye()).optional())),I3=yt({list:xt.optional(),cancel:xt.optional(),requests:yt({sampling:yt({createMessage:xt.optional()}).optional(),elicitation:yt({create:xt.optional()}).optional()}).optional()}),O3=yt({list:xt.optional(),cancel:xt.optional(),requests:yt({tools:yt({call:xt.optional()}).optional()}).optional()}),F3=he({experimental:Qe(R(),xt).optional(),sampling:he({context:xt.optional(),tools:xt.optional()}).optional(),elicitation:R3.optional(),roots:he({listChanged:He().optional()}).optional(),tasks:I3.optional()}),N3=Jt.extend({protocolVersion:R(),capabilities:F3,clientInfo:Dp}),M3=vt.extend({method:xe("initialize"),params:N3}),z3=he({experimental:Qe(R(),xt).optional(),logging:xt.optional(),completions:xt.optional(),prompts:he({listChanged:He().optional()}).optional(),resources:he({subscribe:He().optional(),listChanged:He().optional()}).optional(),tools:he({listChanged:He().optional()}).optional(),tasks:O3.optional()}),Rp=wt.extend({protocolVersion:R(),capabilities:z3,serverInfo:Dp,instructions:R().optional()}),Ip=nr.extend({method:xe("notifications/initialized"),params:rr.optional()}),j3=e=>Ip.safeParse(e).success,Ac=vt.extend({method:xe("ping"),params:Jt.optional()}),q3=he({progress:ze(),total:rt(ze()),message:rt(R())}),L3=he({...rr.shape,...q3.shape,progressToken:$p}),Pc=nr.extend({method:xe("notifications/progress"),params:L3}),U3=Jt.extend({cursor:Tp.optional()}),as=vt.extend({params:U3.optional()}),cs=wt.extend({nextCursor:Tp.optional()}),V3=Kt(["working","input_required","completed","failed","cancelled"]),ls=he({taskId:R(),status:V3,ttl:We([ze(),_p()]),createdAt:R(),lastUpdatedAt:R(),pollInterval:rt(ze()),statusMessage:rt(R())}),Ko=wt.extend({task:ls}),B3=rr.merge(ls),Ou=nr.extend({method:xe("notifications/tasks/status"),params:B3}),Dc=vt.extend({method:xe("tasks/get"),params:Jt.extend({taskId:R()})}),Rc=wt.merge(ls),Ic=vt.extend({method:xe("tasks/result"),params:Jt.extend({taskId:R()})});wt.loose();const Oc=as.extend({method:xe("tasks/list")}),Fc=cs.extend({tasks:fe(ls)}),Nc=vt.extend({method:xe("tasks/cancel"),params:Jt.extend({taskId:R()})}),Z3=wt.merge(ls),Op=he({uri:R(),mimeType:rt(R()),_meta:Qe(R(),Ye()).optional()}),Fp=Op.extend({text:R()}),Mc=R().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),Np=Op.extend({blob:Mc}),fs=Kt(["user","assistant"]),mo=he({audience:fe(fs).optional(),priority:ze().min(0).max(1).optional(),lastModified:mp({offset:!0}).optional()}),Mp=he({...io.shape,...is.shape,uri:R(),description:rt(R()),mimeType:rt(R()),annotations:mo.optional(),_meta:rt(yt({}))}),H3=he({...io.shape,...is.shape,uriTemplate:R(),description:rt(R()),mimeType:rt(R()),annotations:mo.optional(),_meta:rt(yt({}))}),K3=as.extend({method:xe("resources/list")}),zp=cs.extend({resources:fe(Mp)}),J3=as.extend({method:xe("resources/templates/list")}),jp=cs.extend({resourceTemplates:fe(H3)}),zc=Jt.extend({uri:R()}),W3=zc,G3=vt.extend({method:xe("resources/read"),params:W3}),qp=wt.extend({contents:fe(We([Fp,Np]))}),Lp=nr.extend({method:xe("notifications/resources/list_changed"),params:rr.optional()}),Y3=zc,Q3=vt.extend({method:xe("resources/subscribe"),params:Y3}),X3=zc,ev=vt.extend({method:xe("resources/unsubscribe"),params:X3}),tv=rr.extend({uri:R()}),rv=nr.extend({method:xe("notifications/resources/updated"),params:tv}),nv=he({name:R(),description:rt(R()),required:rt(He())}),ov=he({...io.shape,...is.shape,description:rt(R()),arguments:rt(fe(nv)),_meta:rt(yt({}))}),sv=as.extend({method:xe("prompts/list")}),Up=cs.extend({prompts:fe(ov)}),uv=Jt.extend({name:R(),arguments:Qe(R(),R()).optional()}),iv=vt.extend({method:xe("prompts/get"),params:uv}),jc=he({type:xe("text"),text:R(),annotations:mo.optional(),_meta:Qe(R(),Ye()).optional()}),qc=he({type:xe("image"),data:Mc,mimeType:R(),annotations:mo.optional(),_meta:Qe(R(),Ye()).optional()}),Lc=he({type:xe("audio"),data:Mc,mimeType:R(),annotations:mo.optional(),_meta:Qe(R(),Ye()).optional()}),av=he({type:xe("tool_use"),name:R(),id:R(),input:Qe(R(),Ye()),_meta:Qe(R(),Ye()).optional()}),cv=he({type:xe("resource"),resource:We([Fp,Np]),annotations:mo.optional(),_meta:Qe(R(),Ye()).optional()}),lv=Mp.extend({type:xe("resource_link")}),Uc=We([jc,qc,Lc,lv,cv]),fv=he({role:fs,content:Uc}),Vp=wt.extend({description:R().optional(),messages:fe(fv)}),Bp=nr.extend({method:xe("notifications/prompts/list_changed"),params:rr.optional()}),dv=he({title:R().optional(),readOnlyHint:He().optional(),destructiveHint:He().optional(),idempotentHint:He().optional(),openWorldHint:He().optional()}),hv=he({taskSupport:Kt(["required","optional","forbidden"]).optional()}),Zp=he({...io.shape,...is.shape,description:R().optional(),inputSchema:he({type:xe("object"),properties:Qe(R(),xt).optional(),required:fe(R()).optional()}).catchall(Ye()),outputSchema:he({type:xe("object"),properties:Qe(R(),xt).optional(),required:fe(R()).optional()}).catchall(Ye()).optional(),annotations:dv.optional(),execution:hv.optional(),_meta:Qe(R(),Ye()).optional()}),pv=as.extend({method:xe("tools/list")}),Hp=cs.extend({tools:fe(Zp)}),hi=wt.extend({content:fe(Uc).default([]),structuredContent:Qe(R(),Ye()).optional(),isError:He().optional()});hi.or(wt.extend({toolResult:Ye()}));const mv=us.extend({name:R(),arguments:Qe(R(),Ye()).optional()}),gv=vt.extend({method:xe("tools/call"),params:mv}),Kp=nr.extend({method:xe("notifications/tools/list_changed"),params:rr.optional()}),bv=he({autoRefresh:He().default(!0),debounceMs:ze().int().nonnegative().default(300)}),Jp=Kt(["debug","info","notice","warning","error","critical","alert","emergency"]),_v=Jt.extend({level:Jp}),yv=vt.extend({method:xe("logging/setLevel"),params:_v}),xv=rr.extend({level:Jp,logger:R().optional(),data:Ye()}),vv=nr.extend({method:xe("notifications/message"),params:xv}),wv=he({name:R().optional()}),kv=he({hints:fe(wv).optional(),costPriority:ze().min(0).max(1).optional(),speedPriority:ze().min(0).max(1).optional(),intelligencePriority:ze().min(0).max(1).optional()}),Ev=he({mode:Kt(["auto","required","none"]).optional()}),Sv=he({type:xe("tool_result"),toolUseId:R().describe("The unique identifier for the corresponding tool call."),content:fe(Uc).default([]),structuredContent:he({}).loose().optional(),isError:He().optional(),_meta:Qe(R(),Ye()).optional()}),Cv=vp("type",[jc,qc,Lc]),Fu=vp("type",[jc,qc,Lc,av,Sv]),$v=he({role:fs,content:We([Fu,fe(Fu)]),_meta:Qe(R(),Ye()).optional()}),Tv=us.extend({messages:fe($v),modelPreferences:kv.optional(),systemPrompt:R().optional(),includeContext:Kt(["none","thisServer","allServers"]).optional(),temperature:ze().optional(),maxTokens:ze().int(),stopSequences:fe(R()).optional(),metadata:xt.optional(),tools:fe(Zp).optional(),toolChoice:Ev.optional()}),Wp=vt.extend({method:xe("sampling/createMessage"),params:Tv}),Gp=wt.extend({model:R(),stopReason:rt(Kt(["endTurn","stopSequence","maxTokens"]).or(R())),role:fs,content:Cv}),Yp=wt.extend({model:R(),stopReason:rt(Kt(["endTurn","stopSequence","maxTokens","toolUse"]).or(R())),role:fs,content:We([Fu,fe(Fu)])}),Av=he({type:xe("boolean"),title:R().optional(),description:R().optional(),default:He().optional()}),Pv=he({type:xe("string"),title:R().optional(),description:R().optional(),minLength:ze().optional(),maxLength:ze().optional(),format:Kt(["email","uri","date","date-time"]).optional(),default:R().optional()}),Dv=he({type:Kt(["number","integer"]),title:R().optional(),description:R().optional(),minimum:ze().optional(),maximum:ze().optional(),default:ze().optional()}),Rv=he({type:xe("string"),title:R().optional(),description:R().optional(),enum:fe(R()),default:R().optional()}),Iv=he({type:xe("string"),title:R().optional(),description:R().optional(),oneOf:fe(he({const:R(),title:R()})),default:R().optional()}),Ov=he({type:xe("string"),title:R().optional(),description:R().optional(),enum:fe(R()),enumNames:fe(R()).optional(),default:R().optional()}),Fv=We([Rv,Iv]),Nv=he({type:xe("array"),title:R().optional(),description:R().optional(),minItems:ze().optional(),maxItems:ze().optional(),items:he({type:xe("string"),enum:fe(R())}),default:fe(R()).optional()}),Mv=he({type:xe("array"),title:R().optional(),description:R().optional(),minItems:ze().optional(),maxItems:ze().optional(),items:he({anyOf:fe(he({const:R(),title:R()}))}),default:fe(R()).optional()}),zv=We([Nv,Mv]),jv=We([Ov,Fv,zv]),qv=We([jv,Av,Pv,Dv]),Lv=us.extend({mode:xe("form").optional(),message:R(),requestedSchema:he({type:xe("object"),properties:Qe(R(),qv),required:fe(R()).optional()})}),Uv=us.extend({mode:xe("url"),message:R(),elicitationId:R(),url:R().url()}),Vv=We([Lv,Uv]),Qp=vt.extend({method:xe("elicitation/create"),params:Vv}),Bv=rr.extend({elicitationId:R()}),Zv=nr.extend({method:xe("notifications/elicitation/complete"),params:Bv}),Xp=wt.extend({action:Kt(["accept","decline","cancel"]),content:Cp(e=>e===null?void 0:e,Qe(R(),We([R(),ze(),He(),fe(R())])).optional())}),Hv=he({type:xe("ref/resource"),uri:R()}),Kv=he({type:xe("ref/prompt"),name:R()}),Jv=Jt.extend({ref:We([Kv,Hv]),argument:he({name:R(),value:R()}),context:he({arguments:Qe(R(),R()).optional()}).optional()}),Wv=vt.extend({method:xe("completion/complete"),params:Jv}),em=wt.extend({completion:yt({values:fe(R()).max(100),total:rt(ze().int()),hasMore:rt(He())})}),Gv=he({uri:R().startsWith("file://"),name:R().optional(),_meta:Qe(R(),Ye()).optional()}),Yv=vt.extend({method:xe("roots/list"),params:Jt.optional()}),Qv=wt.extend({roots:fe(Gv)}),Xv=nr.extend({method:xe("notifications/roots/list_changed"),params:rr.optional()});We([Ac,M3,Wv,yv,iv,sv,K3,J3,G3,Q3,ev,gv,pv,Dc,Ic,Oc,Nc]);We([Tc,Pc,Ip,Xv,Ou]);We([Jn,Gp,Yp,Xp,Qv,Rc,Fc,Ko]);We([Ac,Wp,Qp,Yv,Dc,Ic,Oc,Nc]);We([Tc,Pc,vv,rv,Lp,Kp,Bp,Ou,Zv]);We([Jn,Rp,em,Vp,Up,zp,jp,qp,hi,Hp,Rc,Fc,Ko]);class Ee extends Error{constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}static fromError(t,r,n){if(t===Ce.UrlElicitationRequired&&n){const o=n;if(o.elicitations)return new e6(o.elicitations,r)}return new Ee(t,r,n)}}class e6 extends Ee{constructor(t,r=`URL elicitation${t.length>1?"s":""} required`){super(Ce.UrlElicitationRequired,r,{elicitations:t})}get elicitations(){return this.data?.elicitations??[]}}function yn(e){return e==="completed"||e==="failed"||e==="cancelled"}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function df(e){const r=pp(e)?.method;if(!r)throw new Error("Schema is missing a method literal");const n=ux(r);if(typeof n!="string")throw new Error("Schema method literal must be a string");return n}function hf(e,t){const r=Qr(e,t);if(!r.success)throw r.error;return r.data}const t6=6e4;class r6{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Tc,r=>{this._oncancel(r)}),this.setNotificationHandler(Pc,r=>{this._onprogress(r)}),this.setRequestHandler(Ac,r=>({})),this._taskStore=t?.taskStore,this._taskMessageQueue=t?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Dc,async(r,n)=>{const o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new Ee(Ce.InvalidParams,"Failed to retrieve task: Task not found");return{...o}}),this.setRequestHandler(Ic,async(r,n)=>{const o=async()=>{const s=r.params.taskId;if(this._taskMessageQueue){let i;for(;i=await this._taskMessageQueue.dequeue(s,n.sessionId);){if(i.type==="response"||i.type==="error"){const a=i.message,c=a.id,l=this._requestResolvers.get(c);if(l)if(this._requestResolvers.delete(c),i.type==="response")l(a);else{const f=a,d=new Ee(f.error.code,f.error.message,f.error.data);l(d)}else{const f=i.type==="response"?"Response":"Error";this._onerror(new Error(`${f} handler missing for request ${c}`))}continue}await this._transport?.send(i.message,{relatedRequestId:n.requestId})}}const u=await this._taskStore.getTask(s,n.sessionId);if(!u)throw new Ee(Ce.InvalidParams,`Task not found: ${s}`);if(!yn(u.status))return await this._waitForTaskUpdate(s,n.signal),await o();if(yn(u.status)){const i=await this._taskStore.getTaskResult(s,n.sessionId);return this._clearTaskQueue(s),{...i,_meta:{...i._meta,[$n]:{taskId:s}}}}return await o()};return await o()}),this.setRequestHandler(Oc,async(r,n)=>{try{const{tasks:o,nextCursor:s}=await this._taskStore.listTasks(r.params?.cursor,n.sessionId);return{tasks:o,nextCursor:s,_meta:{}}}catch(o){throw new Ee(Ce.InvalidParams,`Failed to list tasks: ${o instanceof Error?o.message:String(o)}`)}}),this.setRequestHandler(Nc,async(r,n)=>{try{const o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new Ee(Ce.InvalidParams,`Task not found: ${r.params.taskId}`);if(yn(o.status))throw new Ee(Ce.InvalidParams,`Cannot cancel task in terminal status: ${o.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(r.params.taskId);const s=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!s)throw new Ee(Ce.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...s}}catch(o){throw o instanceof Ee?o:new Ee(Ce.InvalidRequest,`Failed to cancel task: ${o instanceof Error?o.message:String(o)}`)}}))}async _oncancel(t){if(!t.params.requestId)return;this._requestHandlerAbortControllers.get(t.params.requestId)?.abort(t.params.reason)}_setupTimeout(t,r,n,o,s=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(o,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:s,onTimeout:o})}_resetTimeout(t){const r=this._timeoutInfo.get(t);if(!r)return!1;const n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),Ee.fromError(Ce.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){const r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){if(this._transport)throw new Error("Already connected to a transport. Call close() before connecting to a new transport, or use a separate Protocol instance per connection.");this._transport=t;const r=this.transport?.onclose;this._transport.onclose=()=>{r?.(),this._onclose()};const n=this.transport?.onerror;this._transport.onerror=s=>{n?.(s),this._onerror(s)};const o=this._transport?.onmessage;this._transport.onmessage=(s,u)=>{o?.(s,u),To(s)||T3(s)?this._onresponse(s):Aa(s)?this._onrequest(s,u):$3(s)?this._onnotification(s):this._onerror(new Error(`Unknown message type: ${JSON.stringify(s)}`))},await this._transport.start()}_onclose(){const t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();for(const n of this._requestHandlerAbortControllers.values())n.abort();this._requestHandlerAbortControllers.clear();const r=Ee.fromError(Ce.ConnectionClosed,"Connection closed");this._transport=void 0,this.onclose?.();for(const n of t.values())n(r)}_onerror(t){this.onerror?.(t)}_onnotification(t){const r=this._notificationHandlers.get(t.method)??this.fallbackNotificationHandler;r!==void 0&&Promise.resolve().then(()=>r(t)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(t,r){const n=this._requestHandlers.get(t.method)??this.fallbackRequestHandler,o=this._transport,s=t.params?._meta?.[$n]?.taskId;if(n===void 0){const l={jsonrpc:"2.0",id:t.id,error:{code:Ce.MethodNotFound,message:"Method not found"}};s&&this._taskMessageQueue?this._enqueueTaskMessage(s,{type:"error",message:l,timestamp:Date.now()},o?.sessionId).catch(f=>this._onerror(new Error(`Failed to enqueue error response: ${f}`))):o?.send(l).catch(f=>this._onerror(new Error(`Failed to send an error response: ${f}`)));return}const u=new AbortController;this._requestHandlerAbortControllers.set(t.id,u);const i=C3(t.params)?t.params.task:void 0,a=this._taskStore?this.requestTaskStore(t,o?.sessionId):void 0,c={signal:u.signal,sessionId:o?.sessionId,_meta:t.params?._meta,sendNotification:async l=>{if(u.signal.aborted)return;const f={relatedRequestId:t.id};s&&(f.relatedTask={taskId:s}),await this.notification(l,f)},sendRequest:async(l,f,d)=>{if(u.signal.aborted)throw new Ee(Ce.ConnectionClosed,"Request was cancelled");const h={...d,relatedRequestId:t.id};s&&!h.relatedTask&&(h.relatedTask={taskId:s});const m=h.relatedTask?.taskId??s;return m&&a&&await a.updateTaskStatus(m,"input_required"),await this.request(l,f,h)},authInfo:r?.authInfo,requestId:t.id,requestInfo:r?.requestInfo,taskId:s,taskStore:a,taskRequestedTtl:i?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{i&&this.assertTaskHandlerCapability(t.method)}).then(()=>n(t,c)).then(async l=>{if(u.signal.aborted)return;const f={result:l,jsonrpc:"2.0",id:t.id};s&&this._taskMessageQueue?await this._enqueueTaskMessage(s,{type:"response",message:f,timestamp:Date.now()},o?.sessionId):await o?.send(f)},async l=>{if(u.signal.aborted)return;const f={jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(l.code)?l.code:Ce.InternalError,message:l.message??"Internal error",...l.data!==void 0&&{data:l.data}}};s&&this._taskMessageQueue?await this._enqueueTaskMessage(s,{type:"error",message:f,timestamp:Date.now()},o?.sessionId):await o?.send(f)}).catch(l=>this._onerror(new Error(`Failed to send response: ${l}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){const{progressToken:r,...n}=t.params,o=Number(r),s=this._progressHandlers.get(o);if(!s){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}const u=this._responseHandlers.get(o),i=this._timeoutInfo.get(o);if(i&&u&&i.resetTimeoutOnProgress)try{this._resetTimeout(o)}catch(a){this._responseHandlers.delete(o),this._progressHandlers.delete(o),this._cleanupTimeout(o),u(a);return}s(n)}_onresponse(t){const r=Number(t.id),n=this._requestResolvers.get(r);if(n){if(this._requestResolvers.delete(r),To(t))n(t);else{const u=new Ee(t.error.code,t.error.message,t.error.data);n(u)}return}const o=this._responseHandlers.get(r);if(o===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let s=!1;if(To(t)&&t.result&&typeof t.result=="object"){const u=t.result;if(u.task&&typeof u.task=="object"){const i=u.task;typeof i.taskId=="string"&&(s=!0,this._taskProgressTokens.set(i.taskId,r))}}if(s||this._progressHandlers.delete(r),To(t))o(t);else{const u=Ee.fromError(t.error.code,t.error.message,t.error.data);o(u)}}get transport(){return this._transport}async close(){await this._transport?.close()}async*requestStream(t,r,n){const{task:o}=n??{};if(!o){try{yield{type:"result",result:await this.request(t,r,n)}}catch(u){yield{type:"error",error:u instanceof Ee?u:new Ee(Ce.InternalError,String(u))}}return}let s;try{const u=await this.request(t,Ko,n);if(u.task)s=u.task.taskId,yield{type:"taskCreated",task:u.task};else throw new Ee(Ce.InternalError,"Task creation did not return a task");for(;;){const i=await this.getTask({taskId:s},n);if(yield{type:"taskStatus",task:i},yn(i.status)){i.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:s},r,n)}:i.status==="failed"?yield{type:"error",error:new Ee(Ce.InternalError,`Task ${s} failed`)}:i.status==="cancelled"&&(yield{type:"error",error:new Ee(Ce.InternalError,`Task ${s} was cancelled`)});return}if(i.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:s},r,n)};return}const a=i.pollInterval??this._options?.defaultTaskPollInterval??1e3;await new Promise(c=>setTimeout(c,a)),n?.signal?.throwIfAborted()}}catch(u){yield{type:"error",error:u instanceof Ee?u:new Ee(Ce.InternalError,String(u))}}}request(t,r,n){const{relatedRequestId:o,resumptionToken:s,onresumptiontoken:u,task:i,relatedTask:a}=n??{};return new Promise((c,l)=>{const f=p=>{l(p)};if(!this._transport){f(new Error("Not connected"));return}if(this._options?.enforceStrictCapabilities===!0)try{this.assertCapabilityForMethod(t.method),i&&this.assertTaskCapability(t.method)}catch(p){f(p);return}n?.signal?.throwIfAborted();const d=this._requestMessageId++,h={...t,jsonrpc:"2.0",id:d};n?.onprogress&&(this._progressHandlers.set(d,n.onprogress),h.params={...t.params,_meta:{...t.params?._meta||{},progressToken:d}}),i&&(h.params={...h.params,task:i}),a&&(h.params={...h.params,_meta:{...h.params?._meta||{},[$n]:a}});const m=p=>{this._responseHandlers.delete(d),this._progressHandlers.delete(d),this._cleanupTimeout(d),this._transport?.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:d,reason:String(p)}},{relatedRequestId:o,resumptionToken:s,onresumptiontoken:u}).catch(v=>this._onerror(new Error(`Failed to send cancellation: ${v}`)));const g=p instanceof Ee?p:new Ee(Ce.RequestTimeout,String(p));l(g)};this._responseHandlers.set(d,p=>{if(!n?.signal?.aborted){if(p instanceof Error)return l(p);try{const g=Qr(r,p.result);g.success?c(g.data):l(g.error)}catch(g){l(g)}}}),n?.signal?.addEventListener("abort",()=>{m(n?.signal?.reason)});const x=n?.timeout??t6,b=()=>m(Ee.fromError(Ce.RequestTimeout,"Request timed out",{timeout:x}));this._setupTimeout(d,x,n?.maxTotalTimeout,b,n?.resetTimeoutOnProgress??!1);const k=a?.taskId;if(k){const p=g=>{const v=this._responseHandlers.get(d);v?v(g):this._onerror(new Error(`Response handler missing for side-channeled request ${d}`))};this._requestResolvers.set(d,p),this._enqueueTaskMessage(k,{type:"request",message:h,timestamp:Date.now()}).catch(g=>{this._cleanupTimeout(d),l(g)})}else this._transport.send(h,{relatedRequestId:o,resumptionToken:s,onresumptiontoken:u}).catch(p=>{this._cleanupTimeout(d),l(p)})})}async getTask(t,r){return this.request({method:"tasks/get",params:t},Rc,r)}async getTaskResult(t,r,n){return this.request({method:"tasks/result",params:t},r,n)}async listTasks(t,r){return this.request({method:"tasks/list",params:t},Fc,r)}async cancelTask(t,r){return this.request({method:"tasks/cancel",params:t},Z3,r)}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);const n=r?.relatedTask?.taskId;if(n){const i={...t,jsonrpc:"2.0",params:{...t.params,_meta:{...t.params?._meta||{},[$n]:r.relatedTask}}};await this._enqueueTaskMessage(n,{type:"notification",message:i,timestamp:Date.now()});return}if((this._options?.debouncedNotificationMethods??[]).includes(t.method)&&!t.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let i={...t,jsonrpc:"2.0"};r?.relatedTask&&(i={...i,params:{...i.params,_meta:{...i.params?._meta||{},[$n]:r.relatedTask}}}),this._transport?.send(i,r).catch(a=>this._onerror(a))});return}let u={...t,jsonrpc:"2.0"};r?.relatedTask&&(u={...u,params:{...u.params,_meta:{...u.params?._meta||{},[$n]:r.relatedTask}}}),await this._transport.send(u,r)}setRequestHandler(t,r){const n=df(t);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(o,s)=>{const u=hf(t,o);return Promise.resolve(r(u,s))})}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){const n=df(t);this._notificationHandlers.set(n,o=>{const s=hf(t,o);return Promise.resolve(r(s))})}removeNotificationHandler(t){this._notificationHandlers.delete(t)}_cleanupTaskProgressHandler(t){const r=this._taskProgressTokens.get(t);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(t))}async _enqueueTaskMessage(t,r,n){if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const o=this._options?.maxTaskQueueSize;await this._taskMessageQueue.enqueue(t,r,n,o)}async _clearTaskQueue(t,r){if(this._taskMessageQueue){const n=await this._taskMessageQueue.dequeueAll(t,r);for(const o of n)if(o.type==="request"&&Aa(o.message)){const s=o.message.id,u=this._requestResolvers.get(s);u?(u(new Ee(Ce.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(s)):this._onerror(new Error(`Resolver missing for request ${s} during task ${t} cleanup`))}}}async _waitForTaskUpdate(t,r){let n=this._options?.defaultTaskPollInterval??1e3;try{const o=await this._taskStore?.getTask(t);o?.pollInterval&&(n=o.pollInterval)}catch{}return new Promise((o,s)=>{if(r.aborted){s(new Ee(Ce.InvalidRequest,"Request cancelled"));return}const u=setTimeout(o,n);r.addEventListener("abort",()=>{clearTimeout(u),s(new Ee(Ce.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(t,r){const n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async o=>{if(!t)throw new Error("No request provided");return await n.createTask(o,t.id,{method:t.method,params:t.params},r)},getTask:async o=>{const s=await n.getTask(o,r);if(!s)throw new Ee(Ce.InvalidParams,"Failed to retrieve task: Task not found");return s},storeTaskResult:async(o,s,u)=>{await n.storeTaskResult(o,s,u,r);const i=await n.getTask(o,r);if(i){const a=Ou.parse({method:"notifications/tasks/status",params:i});await this.notification(a),yn(i.status)&&this._cleanupTaskProgressHandler(o)}},getTaskResult:o=>n.getTaskResult(o,r),updateTaskStatus:async(o,s,u)=>{const i=await n.getTask(o,r);if(!i)throw new Ee(Ce.InvalidParams,`Task "${o}" not found - it may have been cleaned up`);if(yn(i.status))throw new Ee(Ce.InvalidParams,`Cannot update task "${o}" from terminal status "${i.status}" to "${s}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(o,s,u,r);const a=await n.getTask(o,r);if(a){const c=Ou.parse({method:"notifications/tasks/status",params:a});await this.notification(c),yn(a.status)&&this._cleanupTaskProgressHandler(o)}},listTasks:o=>n.listTasks(o,r)}}}function pf(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function n6(e,t){const r={...e};for(const n in t){const o=n,s=t[o];if(s===void 0)continue;const u=r[o];pf(u)&&pf(s)?r[o]={...u,...s}:r[o]=s}return r}function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vs={exports:{}},qi={},Ar={},xn={},Li={},Ui={},Vi={},mf;function Nu(){return mf||(mf=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((g,v)=>`${g}${v}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((g,v)=>(v instanceof r&&(g[v.str]=(g[v.str]||0)+1),g),{})}}e._Code=n,e.nil=new n("");function o(k,...p){const g=[k[0]];let v=0;for(;v<p.length;)i(g,p[v]),g.push(k[++v]);return new n(g)}e._=o;const s=new n("+");function u(k,...p){const g=[h(k[0])];let v=0;for(;v<p.length;)g.push(s),i(g,p[v]),g.push(s,h(k[++v]));return a(g),new n(g)}e.str=u;function i(k,p){p instanceof n?k.push(...p._items):p instanceof r?k.push(p):k.push(f(p))}e.addCodeArg=i;function a(k){let p=1;for(;p<k.length-1;){if(k[p]===s){const g=c(k[p-1],k[p+1]);if(g!==void 0){k.splice(p-1,3,g);continue}k[p++]="+"}p++}}function c(k,p){if(p==='""')return k;if(k==='""')return p;if(typeof k=="string")return p instanceof r||k[k.length-1]!=='"'?void 0:typeof p!="string"?`${k.slice(0,-1)}${p}"`:p[0]==='"'?k.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(k instanceof r))return`"${k}${p.slice(1)}`}function l(k,p){return p.emptyStr()?k:k.emptyStr()?p:u`${k}${p}`}e.strConcat=l;function f(k){return typeof k=="number"||typeof k=="boolean"||k===null?k:h(Array.isArray(k)?k.join(","):k)}function d(k){return new n(h(k))}e.stringify=d;function h(k){return JSON.stringify(k).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function m(k){return typeof k=="string"&&e.IDENTIFIER.test(k)?new n(`.${k}`):o`[${k}]`}e.getProperty=m;function x(k){if(typeof k=="string"&&e.IDENTIFIER.test(k))return new n(`${k}`);throw new Error(`CodeGen: invalid export name: ${k}, use explicit $id name mapping`)}e.getEsmExportName=x;function b(k){return new n(k.toString())}e.regexpCode=b})(Vi)),Vi}var Bi={},gf;function bf(){return gf||(gf=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Nu();class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:c,parent:l}={}){this._names={},this._prefixes=c,this._parent=l}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const l=this._names[c]||this._nameGroup(c);return`${c}${l.index++}`}_nameGroup(c){var l,f;if(!((f=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=o;class s extends t.Name{constructor(c,l){super(l),this.prefix=c}setValue(c,{property:l,itemIndex:f}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(l)}[${f}]`}}e.ValueScopeName=s;const u=(0,t._)`\n`;class i extends o{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?u:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,l){var f;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(c),{prefix:h}=d,m=(f=l.key)!==null&&f!==void 0?f:l.ref;let x=this._values[h];if(x){const p=x.get(m);if(p)return p}else x=this._values[h]=new Map;x.set(m,d);const b=this._scope[h]||(this._scope[h]=[]),k=b.length;return b[k]=l.ref,d.setValue(l,{property:h,itemIndex:k}),d}getValue(c,l){const f=this._values[c];if(f)return f.get(l)}scopeRefs(c,l=this._values){return this._reduceValues(l,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${c}${f.scopePath}`})}scopeCode(c=this._values,l,f){return this._reduceValues(c,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},l,f)}_reduceValues(c,l,f={},d){let h=t.nil;for(const m in c){const x=c[m];if(!x)continue;const b=f[m]=f[m]||new Map;x.forEach(k=>{if(b.has(k))return;b.set(k,n.Started);let p=l(k);if(p){const g=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${g} ${k} = ${p};${this.opts._n}`}else if(p=d?.(k))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(k);b.set(k,n.Completed)})}return h}}e.ValueScope=i})(Bi)),Bi}var _f;function Pe(){return _f||(_f=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Nu(),r=bf();var n=Nu();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var o=bf();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(y,C){return this}}class u extends s{constructor(y,C,z){super(),this.varKind=y,this.name=C,this.rhs=z}render({es5:y,_n:C}){const z=y?r.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${z} ${this.name}${H};`+C}optimizeNames(y,C){if(y[this.name.str])return this.rhs&&(this.rhs=oe(this.rhs,y,C)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends s{constructor(y,C,z){super(),this.lhs=y,this.rhs=C,this.sideEffects=z}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,C){if(!(this.lhs instanceof t.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=oe(this.rhs,y,C),this}get names(){const y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return re(y,this.rhs)}}class a extends i{constructor(y,C,z,H){super(y,z,H),this.op=C}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class c extends s{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class l extends s{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class f extends s{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class d extends s{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,C){return this.code=oe(this.code,y,C),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((C,z)=>C+z.render(y),"")}optimizeNodes(){const{nodes:y}=this;let C=y.length;for(;C--;){const z=y[C].optimizeNodes();Array.isArray(z)?y.splice(C,1,...z):z?y[C]=z:y.splice(C,1)}return y.length>0?this:void 0}optimizeNames(y,C){const{nodes:z}=this;let H=z.length;for(;H--;){const Q=z[H];Q.optimizeNames(y,C)||(_e(y,Q.names),z.splice(H,1))}return z.length>0?this:void 0}get names(){return this.nodes.reduce((y,C)=>U(y,C.names),{})}}class m extends h{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class x extends h{}class b extends m{}b.kind="else";class k extends m{constructor(y,C){super(C),this.condition=y}render(y){let C=`if(${this.condition})`+super.render(y);return this.else&&(C+="else "+this.else.render(y)),C}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let C=this.else;if(C){const z=C.optimizeNodes();C=this.else=Array.isArray(z)?new b(z):z}if(C)return y===!1?C instanceof k?C:C.nodes:this.nodes.length?this:new k(ve(y),C instanceof k?[C]:C.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,C){var z;if(this.else=(z=this.else)===null||z===void 0?void 0:z.optimizeNames(y,C),!!(super.optimizeNames(y,C)||this.else))return this.condition=oe(this.condition,y,C),this}get names(){const y=super.names;return re(y,this.condition),this.else&&U(y,this.else.names),y}}k.kind="if";class p extends m{}p.kind="for";class g extends p{constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,C){if(super.optimizeNames(y,C))return this.iteration=oe(this.iteration,y,C),this}get names(){return U(super.names,this.iteration.names)}}class v extends p{constructor(y,C,z,H){super(),this.varKind=y,this.name=C,this.from=z,this.to=H}render(y){const C=y.es5?r.varKinds.var:this.varKind,{name:z,from:H,to:Q}=this;return`for(${C} ${z}=${H}; ${z}<${Q}; ${z}++)`+super.render(y)}get names(){const y=re(super.names,this.from);return re(y,this.to)}}class _ extends p{constructor(y,C,z,H){super(),this.loop=y,this.varKind=C,this.name=z,this.iterable=H}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,C){if(super.optimizeNames(y,C))return this.iterable=oe(this.iterable,y,C),this}get names(){return U(super.names,this.iterable.names)}}class E extends m{constructor(y,C,z){super(),this.name=y,this.args=C,this.async=z}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}E.kind="func";class T extends h{render(y){return"return "+super.render(y)}}T.kind="return";class q extends m{render(y){let C="try"+super.render(y);return this.catch&&(C+=this.catch.render(y)),this.finally&&(C+=this.finally.render(y)),C}optimizeNodes(){var y,C;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(y,C){var z,H;return super.optimizeNames(y,C),(z=this.catch)===null||z===void 0||z.optimizeNames(y,C),(H=this.finally)===null||H===void 0||H.optimizeNames(y,C),this}get names(){const y=super.names;return this.catch&&U(y,this.catch.names),this.finally&&U(y,this.finally.names),y}}class Z extends m{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}Z.kind="catch";class G extends m{render(y){return"finally"+super.render(y)}}G.kind="finally";class V{constructor(y,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=y,this._scope=new r.Scope({parent:y}),this._nodes=[new x]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,C){const z=this._extScope.value(y,C);return(this._values[z.prefix]||(this._values[z.prefix]=new Set)).add(z),z}getScopeValue(y,C){return this._extScope.getValue(y,C)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,C,z,H){const Q=this._scope.toName(C);return z!==void 0&&H&&(this._constants[Q.str]=z),this._leafNode(new u(y,Q,z)),Q}const(y,C,z){return this._def(r.varKinds.const,y,C,z)}let(y,C,z){return this._def(r.varKinds.let,y,C,z)}var(y,C,z){return this._def(r.varKinds.var,y,C,z)}assign(y,C,z){return this._leafNode(new i(y,C,z))}add(y,C){return this._leafNode(new a(y,e.operators.ADD,C))}code(y){return typeof y=="function"?y():y!==t.nil&&this._leafNode(new d(y)),this}object(...y){const C=["{"];for(const[z,H]of y)C.length>1&&C.push(","),C.push(z),(z!==H||this.opts.es5)&&(C.push(":"),(0,t.addCodeArg)(C,H));return C.push("}"),new t._Code(C)}if(y,C,z){if(this._blockNode(new k(y)),C&&z)this.code(C).else().code(z).endIf();else if(C)this.code(C).endIf();else if(z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new k(y))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(k,b)}_for(y,C){return this._blockNode(y),C&&this.code(C).endFor(),this}for(y,C){return this._for(new g(y),C)}forRange(y,C,z,H,Q=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(y);return this._for(new v(Q,ie,C,z),()=>H(ie))}forOf(y,C,z,H=r.varKinds.const){const Q=this._scope.toName(y);if(this.opts.es5){const ie=C instanceof t.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,t._)`${ie}.length`,ne=>{this.var(Q,(0,t._)`${ie}[${ne}]`),z(Q)})}return this._for(new _("of",H,Q,C),()=>z(Q))}forIn(y,C,z,H=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,t._)`Object.keys(${C})`,z);const Q=this._scope.toName(y);return this._for(new _("in",H,Q,C),()=>z(Q))}endFor(){return this._endBlockNode(p)}label(y){return this._leafNode(new c(y))}break(y){return this._leafNode(new l(y))}return(y){const C=new T;if(this._blockNode(C),this.code(y),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(y,C,z){if(!C&&!z)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new q;if(this._blockNode(H),this.code(y),C){const Q=this.name("e");this._currNode=H.catch=new Z(Q),C(Q)}return z&&(this._currNode=H.finally=new G,this.code(z)),this._endBlockNode(Z,G)}throw(y){return this._leafNode(new f(y))}block(y,C){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(C),this}endBlock(y){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const z=this._nodes.length-C;if(z<0||y!==void 0&&z!==y)throw new Error(`CodeGen: wrong number of nodes: ${z} vs ${y} expected`);return this._nodes.length=C,this}func(y,C=t.nil,z,H){return this._blockNode(new E(y,C,z)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,C){const z=this._currNode;if(z instanceof y||C&&z instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${y.kind}/${C.kind}`:y.kind}"`)}_elseNode(y){const C=this._currNode;if(!(C instanceof k))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const C=this._nodes;C[C.length-1]=y}}e.CodeGen=V;function U(P,y){for(const C in y)P[C]=(P[C]||0)+(y[C]||0);return P}function re(P,y){return y instanceof t._CodeOrName?U(P,y.names):P}function oe(P,y,C){if(P instanceof t.Name)return z(P);if(!H(P))return P;return new t._Code(P._items.reduce((Q,ie)=>(ie instanceof t.Name&&(ie=z(ie)),ie instanceof t._Code?Q.push(...ie._items):Q.push(ie),Q),[]));function z(Q){const ie=C[Q.str];return ie===void 0||y[Q.str]!==1?Q:(delete y[Q.str],ie)}function H(Q){return Q instanceof t._Code&&Q._items.some(ie=>ie instanceof t.Name&&y[ie.str]===1&&C[ie.str]!==void 0)}}function _e(P,y){for(const C in y)P[C]=(P[C]||0)-(y[C]||0)}function ve(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${A(P)}`}e.not=ve;const J=F(e.operators.AND);function Y(...P){return P.reduce(J)}e.and=Y;const De=F(e.operators.OR);function X(...P){return P.reduce(De)}e.or=X;function F(P){return(y,C)=>y===t.nil?C:C===t.nil?y:(0,t._)`${A(y)} ${P} ${A(C)}`}function A(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(Ui)),Ui}var Ae={},yf;function Oe(){if(yf)return Ae;yf=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.checkStrictMode=Ae.getErrorPath=Ae.Type=Ae.useFunc=Ae.setEvaluated=Ae.evaluatedPropsToName=Ae.mergeEvaluated=Ae.eachItem=Ae.unescapeJsonPointer=Ae.escapeJsonPointer=Ae.escapeFragment=Ae.unescapeFragment=Ae.schemaRefOrVal=Ae.schemaHasRulesButRef=Ae.schemaHasRules=Ae.checkUnknownRules=Ae.alwaysValidSchema=Ae.toHash=void 0;const e=Pe(),t=Nu();function r(_){const E={};for(const T of _)E[T]=!0;return E}Ae.toHash=r;function n(_,E){return typeof E=="boolean"?E:Object.keys(E).length===0?!0:(o(_,E),!s(E,_.self.RULES.all))}Ae.alwaysValidSchema=n;function o(_,E=_.schema){const{opts:T,self:q}=_;if(!T.strictSchema||typeof E=="boolean")return;const Z=q.RULES.keywords;for(const G in E)Z[G]||v(_,`unknown keyword: "${G}"`)}Ae.checkUnknownRules=o;function s(_,E){if(typeof _=="boolean")return!_;for(const T in _)if(E[T])return!0;return!1}Ae.schemaHasRules=s;function u(_,E){if(typeof _=="boolean")return!_;for(const T in _)if(T!=="$ref"&&E.all[T])return!0;return!1}Ae.schemaHasRulesButRef=u;function i({topSchemaRef:_,schemaPath:E},T,q,Z){if(!Z){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${_}${E}${(0,e.getProperty)(q)}`}Ae.schemaRefOrVal=i;function a(_){return f(decodeURIComponent(_))}Ae.unescapeFragment=a;function c(_){return encodeURIComponent(l(_))}Ae.escapeFragment=c;function l(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}Ae.escapeJsonPointer=l;function f(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}Ae.unescapeJsonPointer=f;function d(_,E){if(Array.isArray(_))for(const T of _)E(T);else E(_)}Ae.eachItem=d;function h({mergeNames:_,mergeToName:E,mergeValues:T,resultToName:q}){return(Z,G,V,U)=>{const re=V===void 0?G:V instanceof e.Name?(G instanceof e.Name?_(Z,G,V):E(Z,G,V),V):G instanceof e.Name?(E(Z,V,G),G):T(G,V);return U===e.Name&&!(re instanceof e.Name)?q(Z,re):re}}Ae.mergeEvaluated={props:h({mergeNames:(_,E,T)=>_.if((0,e._)`${T} !== true && ${E} !== undefined`,()=>{_.if((0,e._)`${E} === true`,()=>_.assign(T,!0),()=>_.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${E})`))}),mergeToName:(_,E,T)=>_.if((0,e._)`${T} !== true`,()=>{E===!0?_.assign(T,!0):(_.assign(T,(0,e._)`${T} || {}`),x(_,T,E))}),mergeValues:(_,E)=>_===!0?!0:{..._,...E},resultToName:m}),items:h({mergeNames:(_,E,T)=>_.if((0,e._)`${T} !== true && ${E} !== undefined`,()=>_.assign(T,(0,e._)`${E} === true ? true : ${T} > ${E} ? ${T} : ${E}`)),mergeToName:(_,E,T)=>_.if((0,e._)`${T} !== true`,()=>_.assign(T,E===!0?!0:(0,e._)`${T} > ${E} ? ${T} : ${E}`)),mergeValues:(_,E)=>_===!0?!0:Math.max(_,E),resultToName:(_,E)=>_.var("items",E)})};function m(_,E){if(E===!0)return _.var("props",!0);const T=_.var("props",(0,e._)`{}`);return E!==void 0&&x(_,T,E),T}Ae.evaluatedPropsToName=m;function x(_,E,T){Object.keys(T).forEach(q=>_.assign((0,e._)`${E}${(0,e.getProperty)(q)}`,!0))}Ae.setEvaluated=x;const b={};function k(_,E){return _.scopeValue("func",{ref:E,code:b[E.code]||(b[E.code]=new t._Code(E.code))})}Ae.useFunc=k;var p;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(p||(Ae.Type=p={}));function g(_,E,T){if(_ instanceof e.Name){const q=E===p.Num;return T?q?(0,e._)`"[" + ${_} + "]"`:(0,e._)`"['" + ${_} + "']"`:q?(0,e._)`"/" + ${_}`:(0,e._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(_).toString():"/"+l(_)}Ae.getErrorPath=g;function v(_,E,T=_.opts.strictSchema){if(T){if(E=`strict mode: ${E}`,T===!0)throw new Error(E);_.self.logger.warn(E)}}return Ae.checkStrictMode=v,Ae}var ws={},xf;function dn(){if(xf)return ws;xf=1,Object.defineProperty(ws,"__esModule",{value:!0});const e=Pe(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return ws.default=t,ws}var vf;function pi(){return vf||(vf=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Pe(),r=Oe(),n=dn();e.keywordError={message:({keyword:b})=>(0,t.str)`must pass "${b}" keyword validation`},e.keyword$DataError={message:({keyword:b,schemaType:k})=>k?(0,t.str)`"${b}" keyword must be ${k} ($data)`:(0,t.str)`"${b}" keyword is invalid ($data)`};function o(b,k=e.keywordError,p,g){const{it:v}=b,{gen:_,compositeRule:E,allErrors:T}=v,q=f(b,k,p);g??(E||T)?a(_,q):c(v,(0,t._)`[${q}]`)}e.reportError=o;function s(b,k=e.keywordError,p){const{it:g}=b,{gen:v,compositeRule:_,allErrors:E}=g,T=f(b,k,p);a(v,T),_||E||c(g,n.default.vErrors)}e.reportExtraError=s;function u(b,k){b.assign(n.default.errors,k),b.if((0,t._)`${n.default.vErrors} !== null`,()=>b.if(k,()=>b.assign((0,t._)`${n.default.vErrors}.length`,k),()=>b.assign(n.default.vErrors,null)))}e.resetErrorsCount=u;function i({gen:b,keyword:k,schemaValue:p,data:g,errsCount:v,it:_}){if(v===void 0)throw new Error("ajv implementation error");const E=b.name("err");b.forRange("i",v,n.default.errors,T=>{b.const(E,(0,t._)`${n.default.vErrors}[${T}]`),b.if((0,t._)`${E}.instancePath === undefined`,()=>b.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(n.default.instancePath,_.errorPath))),b.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${_.errSchemaPath}/${k}`),_.opts.verbose&&(b.assign((0,t._)`${E}.schema`,p),b.assign((0,t._)`${E}.data`,g))})}e.extendErrors=i;function a(b,k){const p=b.const("err",k);b.if((0,t._)`${n.default.vErrors} === null`,()=>b.assign(n.default.vErrors,(0,t._)`[${p}]`),(0,t._)`${n.default.vErrors}.push(${p})`),b.code((0,t._)`${n.default.errors}++`)}function c(b,k){const{gen:p,validateName:g,schemaEnv:v}=b;v.$async?p.throw((0,t._)`new ${b.ValidationError}(${k})`):(p.assign((0,t._)`${g}.errors`,k),p.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(b,k,p){const{createErrors:g}=b.it;return g===!1?(0,t._)`{}`:d(b,k,p)}function d(b,k,p={}){const{gen:g,it:v}=b,_=[h(v,p),m(b,p)];return x(b,k,_),g.object(..._)}function h({errorPath:b},{instancePath:k}){const p=k?(0,t.str)`${b}${(0,r.getErrorPath)(k,r.Type.Str)}`:b;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,p)]}function m({keyword:b,it:{errSchemaPath:k}},{schemaPath:p,parentSchema:g}){let v=g?k:(0,t.str)`${k}/${b}`;return p&&(v=(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`),[l.schemaPath,v]}function x(b,{params:k,message:p},g){const{keyword:v,data:_,schemaValue:E,it:T}=b,{opts:q,propertyName:Z,topSchemaRef:G,schemaPath:V}=T;g.push([l.keyword,v],[l.params,typeof k=="function"?k(b):k||(0,t._)`{}`]),q.messages&&g.push([l.message,typeof p=="function"?p(b):p]),q.verbose&&g.push([l.schema,E],[l.parentSchema,(0,t._)`${G}${V}`],[n.default.data,_]),Z&&g.push([l.propertyName,Z])}})(Li)),Li}var wf;function o6(){if(wf)return xn;wf=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.boolOrEmptySchema=xn.topBoolOrEmptySchema=void 0;const e=pi(),t=Pe(),r=dn(),n={message:"boolean schema is false"};function o(i){const{gen:a,schema:c,validateName:l}=i;c===!1?u(i,!1):typeof c=="object"&&c.$async===!0?a.return(r.default.data):(a.assign((0,t._)`${l}.errors`,null),a.return(!0))}xn.topBoolOrEmptySchema=o;function s(i,a){const{gen:c,schema:l}=i;l===!1?(c.var(a,!1),u(i)):c.var(a,!0)}xn.boolOrEmptySchema=s;function u(i,a){const{gen:c,data:l}=i,f={gen:c,keyword:"false schema",data:l,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,e.reportError)(f,n,void 0,a)}return xn}var bt={},vn={},kf;function rm(){if(kf)return vn;kf=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.getRules=vn.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(o){return typeof o=="string"&&t.has(o)}vn.isJSONType=r;function n(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}return vn.getRules=n,vn}var Pr={},Ef;function nm(){if(Ef)return Pr;Ef=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.shouldUseRule=Pr.shouldUseGroup=Pr.schemaHasRulesForType=void 0;function e({schema:n,self:o},s){const u=o.RULES.types[s];return u&&u!==!0&&t(n,u)}Pr.schemaHasRulesForType=e;function t(n,o){return o.rules.some(s=>r(n,s))}Pr.shouldUseGroup=t;function r(n,o){var s;return n[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(u=>n[u]!==void 0))}return Pr.shouldUseRule=r,Pr}var Sf;function Mu(){if(Sf)return bt;Sf=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.reportTypeError=bt.checkDataTypes=bt.checkDataType=bt.coerceAndCheckDataType=bt.getJSONTypes=bt.getSchemaTypes=bt.DataType=void 0;const e=rm(),t=nm(),r=pi(),n=Pe(),o=Oe();var s;(function(p){p[p.Correct=0]="Correct",p[p.Wrong=1]="Wrong"})(s||(bt.DataType=s={}));function u(p){const g=i(p.type);if(g.includes("null")){if(p.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!g.length&&p.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');p.nullable===!0&&g.push("null")}return g}bt.getSchemaTypes=u;function i(p){const g=Array.isArray(p)?p:p?[p]:[];if(g.every(e.isJSONType))return g;throw new Error("type must be JSONType or JSONType[]: "+g.join(","))}bt.getJSONTypes=i;function a(p,g){const{gen:v,data:_,opts:E}=p,T=l(g,E.coerceTypes),q=g.length>0&&!(T.length===0&&g.length===1&&(0,t.schemaHasRulesForType)(p,g[0]));if(q){const Z=m(g,_,E.strictNumbers,s.Wrong);v.if(Z,()=>{T.length?f(p,g,T):b(p)})}return q}bt.coerceAndCheckDataType=a;const c=new Set(["string","number","integer","boolean","null"]);function l(p,g){return g?p.filter(v=>c.has(v)||g==="array"&&v==="array"):[]}function f(p,g,v){const{gen:_,data:E,opts:T}=p,q=_.let("dataType",(0,n._)`typeof ${E}`),Z=_.let("coerced",(0,n._)`undefined`);T.coerceTypes==="array"&&_.if((0,n._)`${q} == 'object' && Array.isArray(${E}) && ${E}.length == 1`,()=>_.assign(E,(0,n._)`${E}[0]`).assign(q,(0,n._)`typeof ${E}`).if(m(g,E,T.strictNumbers),()=>_.assign(Z,E))),_.if((0,n._)`${Z} !== undefined`);for(const V of v)(c.has(V)||V==="array"&&T.coerceTypes==="array")&&G(V);_.else(),b(p),_.endIf(),_.if((0,n._)`${Z} !== undefined`,()=>{_.assign(E,Z),d(p,Z)});function G(V){switch(V){case"string":_.elseIf((0,n._)`${q} == "number" || ${q} == "boolean"`).assign(Z,(0,n._)`"" + ${E}`).elseIf((0,n._)`${E} === null`).assign(Z,(0,n._)`""`);return;case"number":_.elseIf((0,n._)`${q} == "boolean" || ${E} === null
              || (${q} == "string" && ${E} && ${E} == +${E})`).assign(Z,(0,n._)`+${E}`);return;case"integer":_.elseIf((0,n._)`${q} === "boolean" || ${E} === null
              || (${q} === "string" && ${E} && ${E} == +${E} && !(${E} % 1))`).assign(Z,(0,n._)`+${E}`);return;case"boolean":_.elseIf((0,n._)`${E} === "false" || ${E} === 0 || ${E} === null`).assign(Z,!1).elseIf((0,n._)`${E} === "true" || ${E} === 1`).assign(Z,!0);return;case"null":_.elseIf((0,n._)`${E} === "" || ${E} === 0 || ${E} === false`),_.assign(Z,null);return;case"array":_.elseIf((0,n._)`${q} === "string" || ${q} === "number"
              || ${q} === "boolean" || ${E} === null`).assign(Z,(0,n._)`[${E}]`)}}}function d({gen:p,parentData:g,parentDataProperty:v},_){p.if((0,n._)`${g} !== undefined`,()=>p.assign((0,n._)`${g}[${v}]`,_))}function h(p,g,v,_=s.Correct){const E=_===s.Correct?n.operators.EQ:n.operators.NEQ;let T;switch(p){case"null":return(0,n._)`${g} ${E} null`;case"array":T=(0,n._)`Array.isArray(${g})`;break;case"object":T=(0,n._)`${g} && typeof ${g} == "object" && !Array.isArray(${g})`;break;case"integer":T=q((0,n._)`!(${g} % 1) && !isNaN(${g})`);break;case"number":T=q();break;default:return(0,n._)`typeof ${g} ${E} ${p}`}return _===s.Correct?T:(0,n.not)(T);function q(Z=n.nil){return(0,n.and)((0,n._)`typeof ${g} == "number"`,Z,v?(0,n._)`isFinite(${g})`:n.nil)}}bt.checkDataType=h;function m(p,g,v,_){if(p.length===1)return h(p[0],g,v,_);let E;const T=(0,o.toHash)(p);if(T.array&&T.object){const q=(0,n._)`typeof ${g} != "object"`;E=T.null?q:(0,n._)`!${g} || ${q}`,delete T.null,delete T.array,delete T.object}else E=n.nil;T.number&&delete T.integer;for(const q in T)E=(0,n.and)(E,h(q,g,v,_));return E}bt.checkDataTypes=m;const x={message:({schema:p})=>`must be ${p}`,params:({schema:p,schemaValue:g})=>typeof p=="string"?(0,n._)`{type: ${p}}`:(0,n._)`{type: ${g}}`};function b(p){const g=k(p);(0,r.reportError)(g,x)}bt.reportTypeError=b;function k(p){const{gen:g,data:v,schema:_}=p,E=(0,o.schemaRefOrVal)(p,_,"type");return{gen:g,keyword:"type",data:v,schema:_.type,schemaCode:E,schemaValue:E,parentSchema:_,params:{},it:p}}return bt}var vo={},Cf;function s6(){if(Cf)return vo;Cf=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.assignDefaults=void 0;const e=Pe(),t=Oe();function r(o,s){const{properties:u,items:i}=o.schema;if(s==="object"&&u)for(const a in u)n(o,a,u[a].default);else s==="array"&&Array.isArray(i)&&i.forEach((a,c)=>n(o,c,a.default))}vo.assignDefaults=r;function n(o,s,u){const{gen:i,compositeRule:a,data:c,opts:l}=o;if(u===void 0)return;const f=(0,e._)`${c}${(0,e.getProperty)(s)}`;if(a){(0,t.checkStrictMode)(o,`default is ignored for: ${f}`);return}let d=(0,e._)`${f} === undefined`;l.useDefaults==="empty"&&(d=(0,e._)`${d} || ${f} === null || ${f} === ""`),i.if(d,(0,e._)`${f} = ${(0,e.stringify)(u)}`)}return vo}var or={},Le={},$f;function dr(){if($f)return Le;$f=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.validateUnion=Le.validateArray=Le.usePattern=Le.callValidateCode=Le.schemaProperties=Le.allSchemaProperties=Le.noPropertyInData=Le.propertyInData=Le.isOwnProperty=Le.hasPropFunc=Le.reportMissingProp=Le.checkMissingProp=Le.checkReportMissingProp=void 0;const e=Pe(),t=Oe(),r=dn(),n=Oe();function o(p,g){const{gen:v,data:_,it:E}=p;v.if(l(v,_,g,E.opts.ownProperties),()=>{p.setParams({missingProperty:(0,e._)`${g}`},!0),p.error()})}Le.checkReportMissingProp=o;function s({gen:p,data:g,it:{opts:v}},_,E){return(0,e.or)(..._.map(T=>(0,e.and)(l(p,g,T,v.ownProperties),(0,e._)`${E} = ${T}`)))}Le.checkMissingProp=s;function u(p,g){p.setParams({missingProperty:g},!0),p.error()}Le.reportMissingProp=u;function i(p){return p.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Le.hasPropFunc=i;function a(p,g,v){return(0,e._)`${i(p)}.call(${g}, ${v})`}Le.isOwnProperty=a;function c(p,g,v,_){const E=(0,e._)`${g}${(0,e.getProperty)(v)} !== undefined`;return _?(0,e._)`${E} && ${a(p,g,v)}`:E}Le.propertyInData=c;function l(p,g,v,_){const E=(0,e._)`${g}${(0,e.getProperty)(v)} === undefined`;return _?(0,e.or)(E,(0,e.not)(a(p,g,v))):E}Le.noPropertyInData=l;function f(p){return p?Object.keys(p).filter(g=>g!=="__proto__"):[]}Le.allSchemaProperties=f;function d(p,g){return f(g).filter(v=>!(0,t.alwaysValidSchema)(p,g[v]))}Le.schemaProperties=d;function h({schemaCode:p,data:g,it:{gen:v,topSchemaRef:_,schemaPath:E,errorPath:T},it:q},Z,G,V){const U=V?(0,e._)`${p}, ${g}, ${_}${E}`:g,re=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,T)],[r.default.parentData,q.parentData],[r.default.parentDataProperty,q.parentDataProperty],[r.default.rootData,r.default.rootData]];q.opts.dynamicRef&&re.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const oe=(0,e._)`${U}, ${v.object(...re)}`;return G!==e.nil?(0,e._)`${Z}.call(${G}, ${oe})`:(0,e._)`${Z}(${oe})`}Le.callValidateCode=h;const m=(0,e._)`new RegExp`;function x({gen:p,it:{opts:g}},v){const _=g.unicodeRegExp?"u":"",{regExp:E}=g.code,T=E(v,_);return p.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${E.code==="new RegExp"?m:(0,n.useFunc)(p,E)}(${v}, ${_})`})}Le.usePattern=x;function b(p){const{gen:g,data:v,keyword:_,it:E}=p,T=g.name("valid");if(E.allErrors){const Z=g.let("valid",!0);return q(()=>g.assign(Z,!1)),Z}return g.var(T,!0),q(()=>g.break()),T;function q(Z){const G=g.const("len",(0,e._)`${v}.length`);g.forRange("i",0,G,V=>{p.subschema({keyword:_,dataProp:V,dataPropType:t.Type.Num},T),g.if((0,e.not)(T),Z)})}}Le.validateArray=b;function k(p){const{gen:g,schema:v,keyword:_,it:E}=p;if(!Array.isArray(v))throw new Error("ajv implementation error");if(v.some(G=>(0,t.alwaysValidSchema)(E,G))&&!E.opts.unevaluated)return;const q=g.let("valid",!1),Z=g.name("_valid");g.block(()=>v.forEach((G,V)=>{const U=p.subschema({keyword:_,schemaProp:V,compositeRule:!0},Z);g.assign(q,(0,e._)`${q} || ${Z}`),p.mergeValidEvaluated(U,Z)||g.if((0,e.not)(q))})),p.result(q,()=>p.reset(),()=>p.error(!0))}return Le.validateUnion=k,Le}var Tf;function u6(){if(Tf)return or;Tf=1,Object.defineProperty(or,"__esModule",{value:!0}),or.validateKeywordUsage=or.validSchemaType=or.funcKeywordCode=or.macroKeywordCode=void 0;const e=Pe(),t=dn(),r=dr(),n=pi();function o(d,h){const{gen:m,keyword:x,schema:b,parentSchema:k,it:p}=d,g=h.macro.call(p.self,b,k,p),v=c(m,x,g);p.opts.validateSchema!==!1&&p.self.validateSchema(g,!0);const _=m.name("valid");d.subschema({schema:g,schemaPath:e.nil,errSchemaPath:`${p.errSchemaPath}/${x}`,topSchemaRef:v,compositeRule:!0},_),d.pass(_,()=>d.error(!0))}or.macroKeywordCode=o;function s(d,h){var m;const{gen:x,keyword:b,schema:k,parentSchema:p,$data:g,it:v}=d;a(v,h);const _=!g&&h.compile?h.compile.call(v.self,k,p,v):h.validate,E=c(x,b,_),T=x.let("valid");d.block$data(T,q),d.ok((m=h.valid)!==null&&m!==void 0?m:T);function q(){if(h.errors===!1)V(),h.modifying&&u(d),U(()=>d.error());else{const re=h.async?Z():G();h.modifying&&u(d),U(()=>i(d,re))}}function Z(){const re=x.let("ruleErrs",null);return x.try(()=>V((0,e._)`await `),oe=>x.assign(T,!1).if((0,e._)`${oe} instanceof ${v.ValidationError}`,()=>x.assign(re,(0,e._)`${oe}.errors`),()=>x.throw(oe))),re}function G(){const re=(0,e._)`${E}.errors`;return x.assign(re,null),V(e.nil),re}function V(re=h.async?(0,e._)`await `:e.nil){const oe=v.opts.passContext?t.default.this:t.default.self,_e=!("compile"in h&&!g||h.schema===!1);x.assign(T,(0,e._)`${re}${(0,r.callValidateCode)(d,E,oe,_e)}`,h.modifying)}function U(re){var oe;x.if((0,e.not)((oe=h.valid)!==null&&oe!==void 0?oe:T),re)}}or.funcKeywordCode=s;function u(d){const{gen:h,data:m,it:x}=d;h.if(x.parentData,()=>h.assign(m,(0,e._)`${x.parentData}[${x.parentDataProperty}]`))}function i(d,h){const{gen:m}=d;m.if((0,e._)`Array.isArray(${h})`,()=>{m.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(d)},()=>d.error())}function a({schemaEnv:d},h){if(h.async&&!d.$async)throw new Error("async keyword in sync schema")}function c(d,h,m){if(m===void 0)throw new Error(`keyword "${h}" failed to compile`);return d.scopeValue("keyword",typeof m=="function"?{ref:m}:{ref:m,code:(0,e.stringify)(m)})}function l(d,h,m=!1){return!h.length||h.some(x=>x==="array"?Array.isArray(d):x==="object"?d&&typeof d=="object"&&!Array.isArray(d):typeof d==x||m&&typeof d>"u")}or.validSchemaType=l;function f({schema:d,opts:h,self:m,errSchemaPath:x},b,k){if(Array.isArray(b.keyword)?!b.keyword.includes(k):b.keyword!==k)throw new Error("ajv implementation error");const p=b.dependencies;if(p?.some(g=>!Object.prototype.hasOwnProperty.call(d,g)))throw new Error(`parent schema must have dependencies of ${k}: ${p.join(",")}`);if(b.validateSchema&&!b.validateSchema(d[k])){const v=`keyword "${k}" value is invalid at path "${x}": `+m.errorsText(b.validateSchema.errors);if(h.validateSchema==="log")m.logger.error(v);else throw new Error(v)}}return or.validateKeywordUsage=f,or}var Dr={},Af;function i6(){if(Af)return Dr;Af=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.extendSubschemaMode=Dr.extendSubschemaData=Dr.getSubschema=void 0;const e=Pe(),t=Oe();function r(s,{keyword:u,schemaProp:i,schema:a,schemaPath:c,errSchemaPath:l,topSchemaRef:f}){if(u!==void 0&&a!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const d=s.schema[u];return i===void 0?{schema:d,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(u)}`,errSchemaPath:`${s.errSchemaPath}/${u}`}:{schema:d[i],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(u)}${(0,e.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${u}/${(0,t.escapeFragment)(i)}`}}if(a!==void 0){if(c===void 0||l===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:c,topSchemaRef:f,errSchemaPath:l}}throw new Error('either "keyword" or "schema" must be passed')}Dr.getSubschema=r;function n(s,u,{dataProp:i,dataPropType:a,data:c,dataTypes:l,propertyName:f}){if(c!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=u;if(i!==void 0){const{errorPath:m,dataPathArr:x,opts:b}=u,k=d.let("data",(0,e._)`${u.data}${(0,e.getProperty)(i)}`,!0);h(k),s.errorPath=(0,e.str)`${m}${(0,t.getErrorPath)(i,a,b.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${i}`,s.dataPathArr=[...x,s.parentDataProperty]}if(c!==void 0){const m=c instanceof e.Name?c:d.let("data",c,!0);h(m),f!==void 0&&(s.propertyName=f)}l&&(s.dataTypes=l);function h(m){s.data=m,s.dataLevel=u.dataLevel+1,s.dataTypes=[],u.definedProperties=new Set,s.parentData=u.data,s.dataNames=[...u.dataNames,m]}}Dr.extendSubschemaData=n;function o(s,{jtdDiscriminator:u,jtdMetadata:i,compositeRule:a,createErrors:c,allErrors:l}){a!==void 0&&(s.compositeRule=a),c!==void 0&&(s.createErrors=c),l!==void 0&&(s.allErrors=l),s.jtdDiscriminator=u,s.jtdMetadata=i}return Dr.extendSubschemaMode=o,Dr}var $t={},Zi,Pf;function om(){return Pf||(Pf=1,Zi=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){var u=s[o];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r}),Zi}var Hi={exports:{}},Df;function a6(){if(Df)return Hi.exports;Df=1;var e=Hi.exports=function(n,o,s){typeof o=="function"&&(s=o,o={}),s=o.cb||s;var u=typeof s=="function"?s:s.pre||function(){},i=s.post||function(){};t(o,u,i,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,o,s,u,i,a,c,l,f,d){if(u&&typeof u=="object"&&!Array.isArray(u)){o(u,i,a,c,l,f,d);for(var h in u){var m=u[h];if(Array.isArray(m)){if(h in e.arrayKeywords)for(var x=0;x<m.length;x++)t(n,o,s,m[x],i+"/"+h+"/"+x,a,i,h,u,x)}else if(h in e.propsKeywords){if(m&&typeof m=="object")for(var b in m)t(n,o,s,m[b],i+"/"+h+"/"+r(b),a,i,h,u,b)}else(h in e.keywords||n.allKeys&&!(h in e.skipKeywords))&&t(n,o,s,m,i+"/"+h,a,i,h,u)}s(u,i,a,c,l,f,d)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Hi.exports}var Rf;function mi(){if(Rf)return $t;Rf=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.getSchemaRefs=$t.resolveUrl=$t.normalizeId=$t._getFullPath=$t.getFullPath=$t.inlineRef=void 0;const e=Oe(),t=om(),r=a6(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(x,b=!0){return typeof x=="boolean"?!0:b===!0?!u(x):b?i(x)<=b:!1}$t.inlineRef=o;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(x){for(const b in x){if(s.has(b))return!0;const k=x[b];if(Array.isArray(k)&&k.some(u)||typeof k=="object"&&u(k))return!0}return!1}function i(x){let b=0;for(const k in x){if(k==="$ref")return 1/0;if(b++,!n.has(k)&&(typeof x[k]=="object"&&(0,e.eachItem)(x[k],p=>b+=i(p)),b===1/0))return 1/0}return b}function a(x,b="",k){k!==!1&&(b=f(b));const p=x.parse(b);return c(x,p)}$t.getFullPath=a;function c(x,b){return x.serialize(b).split("#")[0]+"#"}$t._getFullPath=c;const l=/#\/?$/;function f(x){return x?x.replace(l,""):""}$t.normalizeId=f;function d(x,b,k){return k=f(k),x.resolve(b,k)}$t.resolveUrl=d;const h=/^[a-z_][-a-z0-9._]*$/i;function m(x,b){if(typeof x=="boolean")return{};const{schemaId:k,uriResolver:p}=this.opts,g=f(x[k]||b),v={"":g},_=a(p,g,!1),E={},T=new Set;return r(x,{allKeys:!0},(G,V,U,re)=>{if(re===void 0)return;const oe=_+V;let _e=v[re];typeof G[k]=="string"&&(_e=ve.call(this,G[k])),J.call(this,G.$anchor),J.call(this,G.$dynamicAnchor),v[V]=_e;function ve(Y){const De=this.opts.uriResolver.resolve;if(Y=f(_e?De(_e,Y):Y),T.has(Y))throw Z(Y);T.add(Y);let X=this.refs[Y];return typeof X=="string"&&(X=this.refs[X]),typeof X=="object"?q(G,X.schema,Y):Y!==f(oe)&&(Y[0]==="#"?(q(G,E[Y],Y),E[Y]=G):this.refs[Y]=oe),Y}function J(Y){if(typeof Y=="string"){if(!h.test(Y))throw new Error(`invalid anchor "${Y}"`);ve.call(this,`#${Y}`)}}}),E;function q(G,V,U){if(V!==void 0&&!t(G,V))throw Z(U)}function Z(G){return new Error(`reference "${G}" resolves to more than one schema`)}}return $t.getSchemaRefs=m,$t}var If;function gi(){if(If)return Ar;If=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.getData=Ar.KeywordCxt=Ar.validateFunctionCode=void 0;const e=o6(),t=Mu(),r=nm(),n=Mu(),o=s6(),s=u6(),u=i6(),i=Pe(),a=dn(),c=mi(),l=Oe(),f=pi();function d(I){if(_(I)&&(T(I),v(I))){b(I);return}h(I,()=>(0,e.topBoolOrEmptySchema)(I))}Ar.validateFunctionCode=d;function h({gen:I,validateName:w,schema:S,schemaEnv:D,opts:L},$){L.code.es5?I.func(w,(0,i._)`${a.default.data}, ${a.default.valCxt}`,D.$async,()=>{I.code((0,i._)`"use strict"; ${p(S,L)}`),x(I,L),I.code($)}):I.func(w,(0,i._)`${a.default.data}, ${m(L)}`,D.$async,()=>I.code(p(S,L)).code($))}function m(I){return(0,i._)`{${a.default.instancePath}="", ${a.default.parentData}, ${a.default.parentDataProperty}, ${a.default.rootData}=${a.default.data}${I.dynamicRef?(0,i._)`, ${a.default.dynamicAnchors}={}`:i.nil}}={}`}function x(I,w){I.if(a.default.valCxt,()=>{I.var(a.default.instancePath,(0,i._)`${a.default.valCxt}.${a.default.instancePath}`),I.var(a.default.parentData,(0,i._)`${a.default.valCxt}.${a.default.parentData}`),I.var(a.default.parentDataProperty,(0,i._)`${a.default.valCxt}.${a.default.parentDataProperty}`),I.var(a.default.rootData,(0,i._)`${a.default.valCxt}.${a.default.rootData}`),w.dynamicRef&&I.var(a.default.dynamicAnchors,(0,i._)`${a.default.valCxt}.${a.default.dynamicAnchors}`)},()=>{I.var(a.default.instancePath,(0,i._)`""`),I.var(a.default.parentData,(0,i._)`undefined`),I.var(a.default.parentDataProperty,(0,i._)`undefined`),I.var(a.default.rootData,a.default.data),w.dynamicRef&&I.var(a.default.dynamicAnchors,(0,i._)`{}`)})}function b(I){const{schema:w,opts:S,gen:D}=I;h(I,()=>{S.$comment&&w.$comment&&re(I),G(I),D.let(a.default.vErrors,null),D.let(a.default.errors,0),S.unevaluated&&k(I),q(I),oe(I)})}function k(I){const{gen:w,validateName:S}=I;I.evaluated=w.const("evaluated",(0,i._)`${S}.evaluated`),w.if((0,i._)`${I.evaluated}.dynamicProps`,()=>w.assign((0,i._)`${I.evaluated}.props`,(0,i._)`undefined`)),w.if((0,i._)`${I.evaluated}.dynamicItems`,()=>w.assign((0,i._)`${I.evaluated}.items`,(0,i._)`undefined`))}function p(I,w){const S=typeof I=="object"&&I[w.schemaId];return S&&(w.code.source||w.code.process)?(0,i._)`/*# sourceURL=${S} */`:i.nil}function g(I,w){if(_(I)&&(T(I),v(I))){E(I,w);return}(0,e.boolOrEmptySchema)(I,w)}function v({schema:I,self:w}){if(typeof I=="boolean")return!I;for(const S in I)if(w.RULES.all[S])return!0;return!1}function _(I){return typeof I.schema!="boolean"}function E(I,w){const{schema:S,gen:D,opts:L}=I;L.$comment&&S.$comment&&re(I),V(I),U(I);const $=D.const("_errs",a.default.errors);q(I,$),D.var(w,(0,i._)`${$} === ${a.default.errors}`)}function T(I){(0,l.checkUnknownRules)(I),Z(I)}function q(I,w){if(I.opts.jtd)return ve(I,[],!1,w);const S=(0,t.getSchemaTypes)(I.schema),D=(0,t.coerceAndCheckDataType)(I,S);ve(I,S,!D,w)}function Z(I){const{schema:w,errSchemaPath:S,opts:D,self:L}=I;w.$ref&&D.ignoreKeywordsWithRef&&(0,l.schemaHasRulesButRef)(w,L.RULES)&&L.logger.warn(`$ref: keywords ignored in schema at path "${S}"`)}function G(I){const{schema:w,opts:S}=I;w.default!==void 0&&S.useDefaults&&S.strictSchema&&(0,l.checkStrictMode)(I,"default is ignored in the schema root")}function V(I){const w=I.schema[I.opts.schemaId];w&&(I.baseId=(0,c.resolveUrl)(I.opts.uriResolver,I.baseId,w))}function U(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}function re({gen:I,schemaEnv:w,schema:S,errSchemaPath:D,opts:L}){const $=S.$comment;if(L.$comment===!0)I.code((0,i._)`${a.default.self}.logger.log(${$})`);else if(typeof L.$comment=="function"){const O=(0,i.str)`${D}/$comment`,B=I.scopeValue("root",{ref:w.root});I.code((0,i._)`${a.default.self}.opts.$comment(${$}, ${O}, ${B}.schema)`)}}function oe(I){const{gen:w,schemaEnv:S,validateName:D,ValidationError:L,opts:$}=I;S.$async?w.if((0,i._)`${a.default.errors} === 0`,()=>w.return(a.default.data),()=>w.throw((0,i._)`new ${L}(${a.default.vErrors})`)):(w.assign((0,i._)`${D}.errors`,a.default.vErrors),$.unevaluated&&_e(I),w.return((0,i._)`${a.default.errors} === 0`))}function _e({gen:I,evaluated:w,props:S,items:D}){S instanceof i.Name&&I.assign((0,i._)`${w}.props`,S),D instanceof i.Name&&I.assign((0,i._)`${w}.items`,D)}function ve(I,w,S,D){const{gen:L,schema:$,data:O,allErrors:B,opts:N,self:K}=I,{RULES:M}=K;if($.$ref&&(N.ignoreKeywordsWithRef||!(0,l.schemaHasRulesButRef)($,M))){L.block(()=>H(I,"$ref",M.all.$ref.definition));return}N.jtd||Y(I,w),L.block(()=>{for(const ee of M.rules)se(ee);se(M.post)});function se(ee){(0,r.shouldUseGroup)($,ee)&&(ee.type?(L.if((0,n.checkDataType)(ee.type,O,N.strictNumbers)),J(I,ee),w.length===1&&w[0]===ee.type&&S&&(L.else(),(0,n.reportTypeError)(I)),L.endIf()):J(I,ee),B||L.if((0,i._)`${a.default.errors} === ${D||0}`))}}function J(I,w){const{gen:S,schema:D,opts:{useDefaults:L}}=I;L&&(0,o.assignDefaults)(I,w.type),S.block(()=>{for(const $ of w.rules)(0,r.shouldUseRule)(D,$)&&H(I,$.keyword,$.definition,w.type)})}function Y(I,w){I.schemaEnv.meta||!I.opts.strictTypes||(De(I,w),I.opts.allowUnionTypes||X(I,w),F(I,I.dataTypes))}function De(I,w){if(w.length){if(!I.dataTypes.length){I.dataTypes=w;return}w.forEach(S=>{P(I.dataTypes,S)||C(I,`type "${S}" not allowed by context "${I.dataTypes.join(",")}"`)}),y(I,w)}}function X(I,w){w.length>1&&!(w.length===2&&w.includes("null"))&&C(I,"use allowUnionTypes to allow union type keyword")}function F(I,w){const S=I.self.RULES.all;for(const D in S){const L=S[D];if(typeof L=="object"&&(0,r.shouldUseRule)(I.schema,L)){const{type:$}=L.definition;$.length&&!$.some(O=>A(w,O))&&C(I,`missing type "${$.join(",")}" for keyword "${D}"`)}}}function A(I,w){return I.includes(w)||w==="number"&&I.includes("integer")}function P(I,w){return I.includes(w)||w==="integer"&&I.includes("number")}function y(I,w){const S=[];for(const D of I.dataTypes)P(w,D)?S.push(D):w.includes("integer")&&D==="number"&&S.push("integer");I.dataTypes=S}function C(I,w){const S=I.schemaEnv.baseId+I.errSchemaPath;w+=` at "${S}" (strictTypes)`,(0,l.checkStrictMode)(I,w,I.opts.strictTypes)}class z{constructor(w,S,D){if((0,s.validateKeywordUsage)(w,S,D),this.gen=w.gen,this.allErrors=w.allErrors,this.keyword=D,this.data=w.data,this.schema=w.schema[D],this.$data=S.$data&&w.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,l.schemaRefOrVal)(w,this.schema,D,this.$data),this.schemaType=S.schemaType,this.parentSchema=w.schema,this.params={},this.it=w,this.def=S,this.$data)this.schemaCode=w.gen.const("vSchema",ne(this.$data,w));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,S.schemaType,S.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(S.schemaType)}`);("code"in S?S.trackErrors:S.errors!==!1)&&(this.errsCount=w.gen.const("_errs",a.default.errors))}result(w,S,D){this.failResult((0,i.not)(w),S,D)}failResult(w,S,D){this.gen.if(w),D?D():this.error(),S?(this.gen.else(),S(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(w,S){this.failResult((0,i.not)(w),void 0,S)}fail(w){if(w===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(w),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(w){if(!this.$data)return this.fail(w);const{schemaCode:S}=this;this.fail((0,i._)`${S} !== undefined && (${(0,i.or)(this.invalid$data(),w)})`)}error(w,S,D){if(S){this.setParams(S),this._error(w,D),this.setParams({});return}this._error(w,D)}_error(w,S){(w?f.reportExtraError:f.reportError)(this,this.def.error,S)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(w){this.allErrors||this.gen.if(w)}setParams(w,S){S?Object.assign(this.params,w):this.params=w}block$data(w,S,D=i.nil){this.gen.block(()=>{this.check$data(w,D),S()})}check$data(w=i.nil,S=i.nil){if(!this.$data)return;const{gen:D,schemaCode:L,schemaType:$,def:O}=this;D.if((0,i.or)((0,i._)`${L} === undefined`,S)),w!==i.nil&&D.assign(w,!0),($.length||O.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),w!==i.nil&&D.assign(w,!1)),D.else()}invalid$data(){const{gen:w,schemaCode:S,schemaType:D,def:L,it:$}=this;return(0,i.or)(O(),B());function O(){if(D.length){if(!(S instanceof i.Name))throw new Error("ajv implementation error");const N=Array.isArray(D)?D:[D];return(0,i._)`${(0,n.checkDataTypes)(N,S,$.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function B(){if(L.validateSchema){const N=w.scopeValue("validate$data",{ref:L.validateSchema});return(0,i._)`!${N}(${S})`}return i.nil}}subschema(w,S){const D=(0,u.getSubschema)(this.it,w);(0,u.extendSubschemaData)(D,this.it,w),(0,u.extendSubschemaMode)(D,w);const L={...this.it,...D,items:void 0,props:void 0};return g(L,S),L}mergeEvaluated(w,S){const{it:D,gen:L}=this;D.opts.unevaluated&&(D.props!==!0&&w.props!==void 0&&(D.props=l.mergeEvaluated.props(L,w.props,D.props,S)),D.items!==!0&&w.items!==void 0&&(D.items=l.mergeEvaluated.items(L,w.items,D.items,S)))}mergeValidEvaluated(w,S){const{it:D,gen:L}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return L.if(S,()=>this.mergeEvaluated(w,i.Name)),!0}}Ar.KeywordCxt=z;function H(I,w,S,D){const L=new z(I,S,w);"code"in S?S.code(L,D):L.$data&&S.validate?(0,s.funcKeywordCode)(L,S):"macro"in S?(0,s.macroKeywordCode)(L,S):(S.compile||S.validate)&&(0,s.funcKeywordCode)(L,S)}const Q=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ne(I,{dataLevel:w,dataNames:S,dataPathArr:D}){let L,$;if(I==="")return a.default.rootData;if(I[0]==="/"){if(!Q.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);L=I,$=a.default.rootData}else{const K=ie.exec(I);if(!K)throw new Error(`Invalid JSON-pointer: ${I}`);const M=+K[1];if(L=K[2],L==="#"){if(M>=w)throw new Error(N("property/index",M));return D[w-M]}if(M>w)throw new Error(N("data",M));if($=S[w-M],!L)return $}let O=$;const B=L.split("/");for(const K of B)K&&($=(0,i._)`${$}${(0,i.getProperty)((0,l.unescapeJsonPointer)(K))}`,O=(0,i._)`${O} && ${$}`);return O;function N(K,M){return`Cannot access ${K} ${M} levels up, current level is ${w}`}}return Ar.getData=ne,Ar}var ks={},Of;function Vc(){if(Of)return ks;Of=1,Object.defineProperty(ks,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return ks.default=e,ks}var Es={},Ff;function bi(){if(Ff)return Es;Ff=1,Object.defineProperty(Es,"__esModule",{value:!0});const e=mi();class t extends Error{constructor(n,o,s,u){super(u||`can't resolve reference ${s} from id ${o}`),this.missingRef=(0,e.resolveUrl)(n,o,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Es.default=t,Es}var Vt={},Nf;function Bc(){if(Nf)return Vt;Nf=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.resolveSchema=Vt.getCompilingSchema=Vt.resolveRef=Vt.compileSchema=Vt.SchemaEnv=void 0;const e=Pe(),t=Vc(),r=dn(),n=mi(),o=Oe(),s=gi();class u{constructor(k){var p;this.refs={},this.dynamicAnchors={};let g;typeof k.schema=="object"&&(g=k.schema),this.schema=k.schema,this.schemaId=k.schemaId,this.root=k.root||this,this.baseId=(p=k.baseId)!==null&&p!==void 0?p:(0,n.normalizeId)(g?.[k.schemaId||"$id"]),this.schemaPath=k.schemaPath,this.localRefs=k.localRefs,this.meta=k.meta,this.$async=g?.$async,this.refs={}}}Vt.SchemaEnv=u;function i(b){const k=l.call(this,b);if(k)return k;const p=(0,n.getFullPath)(this.opts.uriResolver,b.root.baseId),{es5:g,lines:v}=this.opts.code,{ownProperties:_}=this.opts,E=new e.CodeGen(this.scope,{es5:g,lines:v,ownProperties:_});let T;b.$async&&(T=E.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const q=E.scopeName("validate");b.validateName=q;const Z={gen:E,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:E.scopeValue("schema",this.opts.code.source===!0?{ref:b.schema,code:(0,e.stringify)(b.schema)}:{ref:b.schema}),validateName:q,ValidationError:T,schema:b.schema,schemaEnv:b,rootId:p,baseId:b.baseId||p,schemaPath:e.nil,errSchemaPath:b.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let G;try{this._compilations.add(b),(0,s.validateFunctionCode)(Z),E.optimize(this.opts.code.optimize);const V=E.toString();G=`${E.scopeRefs(r.default.scope)}return ${V}`,this.opts.code.process&&(G=this.opts.code.process(G,b));const re=new Function(`${r.default.self}`,`${r.default.scope}`,G)(this,this.scope.get());if(this.scope.value(q,{ref:re}),re.errors=null,re.schema=b.schema,re.schemaEnv=b,b.$async&&(re.$async=!0),this.opts.code.source===!0&&(re.source={validateName:q,validateCode:V,scopeValues:E._values}),this.opts.unevaluated){const{props:oe,items:_e}=Z;re.evaluated={props:oe instanceof e.Name?void 0:oe,items:_e instanceof e.Name?void 0:_e,dynamicProps:oe instanceof e.Name,dynamicItems:_e instanceof e.Name},re.source&&(re.source.evaluated=(0,e.stringify)(re.evaluated))}return b.validate=re,b}catch(V){throw delete b.validate,delete b.validateName,G&&this.logger.error("Error compiling schema, function code:",G),V}finally{this._compilations.delete(b)}}Vt.compileSchema=i;function a(b,k,p){var g;p=(0,n.resolveUrl)(this.opts.uriResolver,k,p);const v=b.refs[p];if(v)return v;let _=d.call(this,b,p);if(_===void 0){const E=(g=b.localRefs)===null||g===void 0?void 0:g[p],{schemaId:T}=this.opts;E&&(_=new u({schema:E,schemaId:T,root:b,baseId:k}))}if(_!==void 0)return b.refs[p]=c.call(this,_)}Vt.resolveRef=a;function c(b){return(0,n.inlineRef)(b.schema,this.opts.inlineRefs)?b.schema:b.validate?b:i.call(this,b)}function l(b){for(const k of this._compilations)if(f(k,b))return k}Vt.getCompilingSchema=l;function f(b,k){return b.schema===k.schema&&b.root===k.root&&b.baseId===k.baseId}function d(b,k){let p;for(;typeof(p=this.refs[k])=="string";)k=p;return p||this.schemas[k]||h.call(this,b,k)}function h(b,k){const p=this.opts.uriResolver.parse(k),g=(0,n._getFullPath)(this.opts.uriResolver,p);let v=(0,n.getFullPath)(this.opts.uriResolver,b.baseId,void 0);if(Object.keys(b.schema).length>0&&g===v)return x.call(this,p,b);const _=(0,n.normalizeId)(g),E=this.refs[_]||this.schemas[_];if(typeof E=="string"){const T=h.call(this,b,E);return typeof T?.schema!="object"?void 0:x.call(this,p,T)}if(typeof E?.schema=="object"){if(E.validate||i.call(this,E),_===(0,n.normalizeId)(k)){const{schema:T}=E,{schemaId:q}=this.opts,Z=T[q];return Z&&(v=(0,n.resolveUrl)(this.opts.uriResolver,v,Z)),new u({schema:T,schemaId:q,root:b,baseId:v})}return x.call(this,p,E)}}Vt.resolveSchema=h;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function x(b,{baseId:k,schema:p,root:g}){var v;if(((v=b.fragment)===null||v===void 0?void 0:v[0])!=="/")return;for(const T of b.fragment.slice(1).split("/")){if(typeof p=="boolean")return;const q=p[(0,o.unescapeFragment)(T)];if(q===void 0)return;p=q;const Z=typeof p=="object"&&p[this.opts.schemaId];!m.has(T)&&Z&&(k=(0,n.resolveUrl)(this.opts.uriResolver,k,Z))}let _;if(typeof p!="boolean"&&p.$ref&&!(0,o.schemaHasRulesButRef)(p,this.RULES)){const T=(0,n.resolveUrl)(this.opts.uriResolver,k,p.$ref);_=h.call(this,g,T)}const{schemaId:E}=this.opts;if(_=_||new u({schema:p,schemaId:E,root:g,baseId:k}),_.schema!==_.root.schema)return _}return Vt}const c6="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",l6="Meta-schema for $data reference (JSON AnySchema extension proposal)",f6="object",d6=["$data"],h6={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},p6=!1,m6={$id:c6,description:l6,type:f6,required:d6,properties:h6,additionalProperties:p6};var Ss={},wo={exports:{}},Ki,Mf;function sm(){if(Mf)return Ki;Mf=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(d){let h="",m=0,x=0;for(x=0;x<d.length;x++)if(m=d[x].charCodeAt(0),m!==48){if(!(m>=48&&m<=57||m>=65&&m<=70||m>=97&&m<=102))return"";h+=d[x];break}for(x+=1;x<d.length;x++){if(m=d[x].charCodeAt(0),!(m>=48&&m<=57||m>=65&&m<=70||m>=97&&m<=102))return"";h+=d[x]}return h}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function o(d){return d.length=0,!0}function s(d,h,m){if(d.length){const x=r(d);if(x!=="")h.push(x);else return m.error=!0,!1;d.length=0}return!0}function u(d){let h=0;const m={error:!1,address:"",zone:""},x=[],b=[];let k=!1,p=!1,g=s;for(let v=0;v<d.length;v++){const _=d[v];if(!(_==="["||_==="]"))if(_===":"){if(k===!0&&(p=!0),!g(b,x,m))break;if(++h>7){m.error=!0;break}v>0&&d[v-1]===":"&&(k=!0),x.push(":");continue}else if(_==="%"){if(!g(b,x,m))break;g=o}else{b.push(_);continue}}return b.length&&(g===o?m.zone=b.join(""):p?x.push(b.join("")):x.push(r(b))),m.address=x.join(""),m}function i(d){if(a(d,":")<2)return{host:d,isIPV6:!1};const h=u(d);if(h.error)return{host:d,isIPV6:!1};{let m=h.address,x=h.address;return h.zone&&(m+="%"+h.zone,x+="%25"+h.zone),{host:m,isIPV6:!0,escapedHost:x}}}function a(d,h){let m=0;for(let x=0;x<d.length;x++)d[x]===h&&m++;return m}function c(d){let h=d;const m=[];let x=-1,b=0;for(;b=h.length;){if(b===1){if(h===".")break;if(h==="/"){m.push("/");break}else{m.push(h);break}}else if(b===2){if(h[0]==="."){if(h[1]===".")break;if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&(h[1]==="."||h[1]==="/")){m.push("/");break}}else if(b===3&&h==="/.."){m.length!==0&&m.pop(),m.push("/");break}if(h[0]==="."){if(h[1]==="."){if(h[2]==="/"){h=h.slice(3);continue}}else if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&h[1]==="."){if(h[2]==="/"){h=h.slice(2);continue}else if(h[2]==="."&&h[3]==="/"){h=h.slice(3),m.length!==0&&m.pop();continue}}if((x=h.indexOf("/",1))===-1){m.push(h);break}else m.push(h.slice(0,x)),h=h.slice(x)}return m.join("")}function l(d,h){const m=h!==!0?escape:unescape;return d.scheme!==void 0&&(d.scheme=m(d.scheme)),d.userinfo!==void 0&&(d.userinfo=m(d.userinfo)),d.host!==void 0&&(d.host=m(d.host)),d.path!==void 0&&(d.path=m(d.path)),d.query!==void 0&&(d.query=m(d.query)),d.fragment!==void 0&&(d.fragment=m(d.fragment)),d}function f(d){const h=[];if(d.userinfo!==void 0&&(h.push(d.userinfo),h.push("@")),d.host!==void 0){let m=unescape(d.host);if(!t(m)){const x=i(m);x.isIPV6===!0?m=`[${x.escapedHost}]`:m=d.host}h.push(m)}return(typeof d.port=="number"||typeof d.port=="string")&&(h.push(":"),h.push(String(d.port))),h.length?h.join(""):void 0}return Ki={nonSimpleDomain:n,recomposeAuthority:f,normalizeComponentEncoding:l,removeDotSegments:c,isIPv4:t,isUUID:e,normalizeIPv6:i,stringArrayToHexStripped:r},Ki}var Ji,zf;function g6(){if(zf)return Ji;zf=1;const{isUUID:e}=sm(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(_){return r.indexOf(_)!==-1}function o(_){return _.secure===!0?!0:_.secure===!1?!1:_.scheme?_.scheme.length===3&&(_.scheme[0]==="w"||_.scheme[0]==="W")&&(_.scheme[1]==="s"||_.scheme[1]==="S")&&(_.scheme[2]==="s"||_.scheme[2]==="S"):!1}function s(_){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_}function u(_){const E=String(_.scheme).toLowerCase()==="https";return(_.port===(E?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}function i(_){return _.secure=o(_),_.resourceName=(_.path||"/")+(_.query?"?"+_.query:""),_.path=void 0,_.query=void 0,_}function a(_){if((_.port===(o(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){const[E,T]=_.resourceName.split("?");_.path=E&&E!=="/"?E:void 0,_.query=T,_.resourceName=void 0}return _.fragment=void 0,_}function c(_,E){if(!_.path)return _.error="URN can not be parsed",_;const T=_.path.match(t);if(T){const q=E.scheme||_.scheme||"urn";_.nid=T[1].toLowerCase(),_.nss=T[2];const Z=`${q}:${E.nid||_.nid}`,G=v(Z);_.path=void 0,G&&(_=G.parse(_,E))}else _.error=_.error||"URN can not be parsed.";return _}function l(_,E){if(_.nid===void 0)throw new Error("URN without nid cannot be serialized");const T=E.scheme||_.scheme||"urn",q=_.nid.toLowerCase(),Z=`${T}:${E.nid||q}`,G=v(Z);G&&(_=G.serialize(_,E));const V=_,U=_.nss;return V.path=`${q||E.nid}:${U}`,E.skipEscape=!0,V}function f(_,E){const T=_;return T.uuid=T.nss,T.nss=void 0,!E.tolerant&&(!T.uuid||!e(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function d(_){const E=_;return E.nss=(_.uuid||"").toLowerCase(),E}const h={scheme:"http",domainHost:!0,parse:s,serialize:u},m={scheme:"https",domainHost:h.domainHost,parse:s,serialize:u},x={scheme:"ws",domainHost:!0,parse:i,serialize:a},b={scheme:"wss",domainHost:x.domainHost,parse:x.parse,serialize:x.serialize},g={http:h,https:m,ws:x,wss:b,urn:{scheme:"urn",parse:c,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:f,serialize:d,skipNormalize:!0}};Object.setPrototypeOf(g,null);function v(_){return _&&(g[_]||g[_.toLowerCase()])||void 0}return Ji={wsIsSecure:o,SCHEMES:g,isValidSchemeName:n,getSchemeHandler:v},Ji}var jf;function b6(){if(jf)return wo.exports;jf=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:o,nonSimpleDomain:s}=sm(),{SCHEMES:u,getSchemeHandler:i}=g6();function a(b,k){return typeof b=="string"?b=d(m(b,k),k):typeof b=="object"&&(b=m(d(b,k),k)),b}function c(b,k,p){const g=p?Object.assign({scheme:"null"},p):{scheme:"null"},v=l(m(b,g),m(k,g),g,!0);return g.skipEscape=!0,d(v,g)}function l(b,k,p,g){const v={};return g||(b=m(d(b,p),p),k=m(d(k,p),p)),p=p||{},!p.tolerant&&k.scheme?(v.scheme=k.scheme,v.userinfo=k.userinfo,v.host=k.host,v.port=k.port,v.path=t(k.path||""),v.query=k.query):(k.userinfo!==void 0||k.host!==void 0||k.port!==void 0?(v.userinfo=k.userinfo,v.host=k.host,v.port=k.port,v.path=t(k.path||""),v.query=k.query):(k.path?(k.path[0]==="/"?v.path=t(k.path):((b.userinfo!==void 0||b.host!==void 0||b.port!==void 0)&&!b.path?v.path="/"+k.path:b.path?v.path=b.path.slice(0,b.path.lastIndexOf("/")+1)+k.path:v.path=k.path,v.path=t(v.path)),v.query=k.query):(v.path=b.path,k.query!==void 0?v.query=k.query:v.query=b.query),v.userinfo=b.userinfo,v.host=b.host,v.port=b.port),v.scheme=b.scheme),v.fragment=k.fragment,v}function f(b,k,p){return typeof b=="string"?(b=unescape(b),b=d(n(m(b,p),!0),{...p,skipEscape:!0})):typeof b=="object"&&(b=d(n(b,!0),{...p,skipEscape:!0})),typeof k=="string"?(k=unescape(k),k=d(n(m(k,p),!0),{...p,skipEscape:!0})):typeof k=="object"&&(k=d(n(k,!0),{...p,skipEscape:!0})),b.toLowerCase()===k.toLowerCase()}function d(b,k){const p={host:b.host,scheme:b.scheme,userinfo:b.userinfo,port:b.port,path:b.path,query:b.query,nid:b.nid,nss:b.nss,uuid:b.uuid,fragment:b.fragment,reference:b.reference,resourceName:b.resourceName,secure:b.secure,error:""},g=Object.assign({},k),v=[],_=i(g.scheme||p.scheme);_&&_.serialize&&_.serialize(p,g),p.path!==void 0&&(g.skipEscape?p.path=unescape(p.path):(p.path=escape(p.path),p.scheme!==void 0&&(p.path=p.path.split("%3A").join(":")))),g.reference!=="suffix"&&p.scheme&&v.push(p.scheme,":");const E=r(p);if(E!==void 0&&(g.reference!=="suffix"&&v.push("//"),v.push(E),p.path&&p.path[0]!=="/"&&v.push("/")),p.path!==void 0){let T=p.path;!g.absolutePath&&(!_||!_.absolutePath)&&(T=t(T)),E===void 0&&T[0]==="/"&&T[1]==="/"&&(T="/%2F"+T.slice(2)),v.push(T)}return p.query!==void 0&&v.push("?",p.query),p.fragment!==void 0&&v.push("#",p.fragment),v.join("")}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function m(b,k){const p=Object.assign({},k),g={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let v=!1;p.reference==="suffix"&&(p.scheme?b=p.scheme+":"+b:b="//"+b);const _=b.match(h);if(_){if(g.scheme=_[1],g.userinfo=_[3],g.host=_[4],g.port=parseInt(_[5],10),g.path=_[6]||"",g.query=_[7],g.fragment=_[8],isNaN(g.port)&&(g.port=_[5]),g.host)if(o(g.host)===!1){const q=e(g.host);g.host=q.host.toLowerCase(),v=q.isIPV6}else v=!0;g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&g.query===void 0&&!g.path?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",p.reference&&p.reference!=="suffix"&&p.reference!==g.reference&&(g.error=g.error||"URI is not a "+p.reference+" reference.");const E=i(p.scheme||g.scheme);if(!p.unicodeSupport&&(!E||!E.unicodeSupport)&&g.host&&(p.domainHost||E&&E.domainHost)&&v===!1&&s(g.host))try{g.host=URL.domainToASCII(g.host.toLowerCase())}catch(T){g.error=g.error||"Host's domain name can not be converted to ASCII: "+T}(!E||E&&!E.skipNormalize)&&(b.indexOf("%")!==-1&&(g.scheme!==void 0&&(g.scheme=unescape(g.scheme)),g.host!==void 0&&(g.host=unescape(g.host))),g.path&&(g.path=escape(unescape(g.path))),g.fragment&&(g.fragment=encodeURI(decodeURIComponent(g.fragment)))),E&&E.parse&&E.parse(g,p)}else g.error=g.error||"URI can not be parsed.";return g}const x={SCHEMES:u,normalize:a,resolve:c,resolveComponent:l,equal:f,serialize:d,parse:m};return wo.exports=x,wo.exports.default=x,wo.exports.fastUri=x,wo.exports}var qf;function _6(){if(qf)return Ss;qf=1,Object.defineProperty(Ss,"__esModule",{value:!0});const e=b6();return e.code='require("ajv/dist/runtime/uri").default',Ss.default=e,Ss}var Lf;function y6(){return Lf||(Lf=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=gi();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Pe();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Vc(),o=bi(),s=rm(),u=Bc(),i=Pe(),a=mi(),c=Mu(),l=Oe(),f=m6,d=_6(),h=(X,F)=>new RegExp(X,F);h.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},k={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function g(X){var F,A,P,y,C,z,H,Q,ie,ne,I,w,S,D,L,$,O,B,N,K,M,se,ee,ue,le;const me=X.strict,de=(F=X.code)===null||F===void 0?void 0:F.optimize,ye=de===!0||de===void 0?1:de||0,qe=(P=(A=X.code)===null||A===void 0?void 0:A.regExp)!==null&&P!==void 0?P:h,Te=(y=X.uriResolver)!==null&&y!==void 0?y:d.default;return{strictSchema:(z=(C=X.strictSchema)!==null&&C!==void 0?C:me)!==null&&z!==void 0?z:!0,strictNumbers:(Q=(H=X.strictNumbers)!==null&&H!==void 0?H:me)!==null&&Q!==void 0?Q:!0,strictTypes:(ne=(ie=X.strictTypes)!==null&&ie!==void 0?ie:me)!==null&&ne!==void 0?ne:"log",strictTuples:(w=(I=X.strictTuples)!==null&&I!==void 0?I:me)!==null&&w!==void 0?w:"log",strictRequired:(D=(S=X.strictRequired)!==null&&S!==void 0?S:me)!==null&&D!==void 0?D:!1,code:X.code?{...X.code,optimize:ye,regExp:qe}:{optimize:ye,regExp:qe},loopRequired:(L=X.loopRequired)!==null&&L!==void 0?L:p,loopEnum:($=X.loopEnum)!==null&&$!==void 0?$:p,meta:(O=X.meta)!==null&&O!==void 0?O:!0,messages:(B=X.messages)!==null&&B!==void 0?B:!0,inlineRefs:(N=X.inlineRefs)!==null&&N!==void 0?N:!0,schemaId:(K=X.schemaId)!==null&&K!==void 0?K:"$id",addUsedSchema:(M=X.addUsedSchema)!==null&&M!==void 0?M:!0,validateSchema:(se=X.validateSchema)!==null&&se!==void 0?se:!0,validateFormats:(ee=X.validateFormats)!==null&&ee!==void 0?ee:!0,unicodeRegExp:(ue=X.unicodeRegExp)!==null&&ue!==void 0?ue:!0,int32range:(le=X.int32range)!==null&&le!==void 0?le:!0,uriResolver:Te}}class v{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...g(F)};const{es5:A,lines:P}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:x,es5:A,lines:P}),this.logger=U(F.logger);const y=F.validateFormats;F.validateFormats=!1,this.RULES=(0,s.getRules)(),_.call(this,b,F,"NOT SUPPORTED"),_.call(this,k,F,"DEPRECATED","warn"),this._metaOpts=G.call(this),F.formats&&q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&Z.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),T.call(this),F.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:A,schemaId:P}=this.opts;let y=f;P==="id"&&(y={...f},y.id=y.$id,delete y.$id),A&&F&&this.addMetaSchema(y,y[P],!1)}defaultMeta(){const{meta:F,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[A]||F:void 0}validate(F,A){let P;if(typeof F=="string"){if(P=this.getSchema(F),!P)throw new Error(`no schema with key or ref "${F}"`)}else P=this.compile(F);const y=P(A);return"$async"in P||(this.errors=P.errors),y}compile(F,A){const P=this._addSchema(F,A);return P.validate||this._compileSchemaEnv(P)}compileAsync(F,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return y.call(this,F,A);async function y(ne,I){await C.call(this,ne.$schema);const w=this._addSchema(ne,I);return w.validate||z.call(this,w)}async function C(ne){ne&&!this.getSchema(ne)&&await y.call(this,{$ref:ne},!0)}async function z(ne){try{return this._compileSchemaEnv(ne)}catch(I){if(!(I instanceof o.default))throw I;return H.call(this,I),await Q.call(this,I.missingSchema),z.call(this,ne)}}function H({missingSchema:ne,missingRef:I}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${I} cannot be resolved`)}async function Q(ne){const I=await ie.call(this,ne);this.refs[ne]||await C.call(this,I.$schema),this.refs[ne]||this.addSchema(I,ne,A)}async function ie(ne){const I=this._loading[ne];if(I)return I;try{return await(this._loading[ne]=P(ne))}finally{delete this._loading[ne]}}}addSchema(F,A,P,y=this.opts.validateSchema){if(Array.isArray(F)){for(const z of F)this.addSchema(z,void 0,P,y);return this}let C;if(typeof F=="object"){const{schemaId:z}=this.opts;if(C=F[z],C!==void 0&&typeof C!="string")throw new Error(`schema ${z} must be string`)}return A=(0,a.normalizeId)(A||C),this._checkUnique(A),this.schemas[A]=this._addSchema(F,P,A,y,!0),this}addMetaSchema(F,A,P=this.opts.validateSchema){return this.addSchema(F,A,!0,P),this}validateSchema(F,A){if(typeof F=="boolean")return!0;let P;if(P=F.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(P,F);if(!y&&A){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return y}getSchema(F){let A;for(;typeof(A=E.call(this,F))=="string";)F=A;if(A===void 0){const{schemaId:P}=this.opts,y=new u.SchemaEnv({schema:{},schemaId:P});if(A=u.resolveSchema.call(this,y,F),!A)return;this.refs[F]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=E.call(this,F);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const A=F;this._cache.delete(A);let P=F[this.opts.schemaId];return P&&(P=(0,a.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const A of F)this.addKeyword(A);return this}addKeyword(F,A){let P;if(typeof F=="string")P=F,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=P);else if(typeof F=="object"&&A===void 0){if(A=F,P=A.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(oe.call(this,P,A),!A)return(0,l.eachItem)(P,C=>_e.call(this,C)),this;J.call(this,A);const y={...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)};return(0,l.eachItem)(P,y.type.length===0?C=>_e.call(this,C,y):C=>y.type.forEach(z=>_e.call(this,C,y,z))),this}getKeyword(F){const A=this.RULES.all[F];return typeof A=="object"?A.definition:!!A}removeKeyword(F){const{RULES:A}=this;delete A.keywords[F],delete A.all[F];for(const P of A.rules){const y=P.rules.findIndex(C=>C.keyword===F);y>=0&&P.rules.splice(y,1)}return this}addFormat(F,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[F]=A,this}errorsText(F=this.errors,{separator:A=", ",dataVar:P="data"}={}){return!F||F.length===0?"No errors":F.map(y=>`${P}${y.instancePath} ${y.message}`).reduce((y,C)=>y+A+C)}$dataMetaSchema(F,A){const P=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const y of A){const C=y.split("/").slice(1);let z=F;for(const H of C)z=z[H];for(const H in P){const Q=P[H];if(typeof Q!="object")continue;const{$data:ie}=Q.definition,ne=z[H];ie&&ne&&(z[H]=De(ne))}}return F}_removeAllSchemas(F,A){for(const P in F){const y=F[P];(!A||A.test(P))&&(typeof y=="string"?delete F[P]:y&&!y.meta&&(this._cache.delete(y.schema),delete F[P]))}}_addSchema(F,A,P,y=this.opts.validateSchema,C=this.opts.addUsedSchema){let z;const{schemaId:H}=this.opts;if(typeof F=="object")z=F[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let Q=this._cache.get(F);if(Q!==void 0)return Q;P=(0,a.normalizeId)(z||P);const ie=a.getSchemaRefs.call(this,F,P);return Q=new u.SchemaEnv({schema:F,schemaId:H,meta:A,baseId:P,localRefs:ie}),this._cache.set(Q.schema,Q),C&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=Q),y&&this.validateSchema(F,!0),Q}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):u.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const A=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,F)}finally{this.opts=A}}}v.ValidationError=n.default,v.MissingRefError=o.default,e.default=v;function _(X,F,A,P="error"){for(const y in X){const C=y;C in F&&this.logger[P](`${A}: option ${y}. ${X[C]}`)}}function E(X){return X=(0,a.normalizeId)(X),this.schemas[X]||this.refs[X]}function T(){const X=this.opts.schemas;if(X)if(Array.isArray(X))this.addSchema(X);else for(const F in X)this.addSchema(X[F],F)}function q(){for(const X in this.opts.formats){const F=this.opts.formats[X];F&&this.addFormat(X,F)}}function Z(X){if(Array.isArray(X)){this.addVocabulary(X);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const F in X){const A=X[F];A.keyword||(A.keyword=F),this.addKeyword(A)}}function G(){const X={...this.opts};for(const F of m)delete X[F];return X}const V={log(){},warn(){},error(){}};function U(X){if(X===!1)return V;if(X===void 0)return console;if(X.log&&X.warn&&X.error)return X;throw new Error("logger must implement log, warn and error methods")}const re=/^[a-z_$][a-z0-9_$:-]*$/i;function oe(X,F){const{RULES:A}=this;if((0,l.eachItem)(X,P=>{if(A.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!re.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!F&&F.$data&&!("code"in F||"validate"in F))throw new Error('$data keyword must have "code" or "validate" function')}function _e(X,F,A){var P;const y=F?.post;if(A&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let z=y?C.post:C.rules.find(({type:Q})=>Q===A);if(z||(z={type:A,rules:[]},C.rules.push(z)),C.keywords[X]=!0,!F)return;const H={keyword:X,definition:{...F,type:(0,c.getJSONTypes)(F.type),schemaType:(0,c.getJSONTypes)(F.schemaType)}};F.before?ve.call(this,z,H,F.before):z.rules.push(H),C.all[X]=H,(P=F.implements)===null||P===void 0||P.forEach(Q=>this.addKeyword(Q))}function ve(X,F,A){const P=X.rules.findIndex(y=>y.keyword===A);P>=0?X.rules.splice(P,0,F):(X.rules.push(F),this.logger.warn(`rule ${A} is not defined`))}function J(X){let{metaSchema:F}=X;F!==void 0&&(X.$data&&this.opts.$data&&(F=De(F)),X.validateSchema=this.compile(F,!0))}const Y={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function De(X){return{anyOf:[X,Y]}}})(qi)),qi}var Cs={},$s={},Ts={},Uf;function x6(){if(Uf)return Ts;Uf=1,Object.defineProperty(Ts,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ts.default=e,Ts}var Zr={},Vf;function v6(){if(Vf)return Zr;Vf=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.callRef=Zr.getValidate=void 0;const e=bi(),t=dr(),r=Pe(),n=dn(),o=Bc(),s=Oe(),u={keyword:"$ref",schemaType:"string",code(c){const{gen:l,schema:f,it:d}=c,{baseId:h,schemaEnv:m,validateName:x,opts:b,self:k}=d,{root:p}=m;if((f==="#"||f==="#/")&&h===p.baseId)return v();const g=o.resolveRef.call(k,p,h,f);if(g===void 0)throw new e.default(d.opts.uriResolver,h,f);if(g instanceof o.SchemaEnv)return _(g);return E(g);function v(){if(m===p)return a(c,x,m,m.$async);const T=l.scopeValue("root",{ref:p});return a(c,(0,r._)`${T}.validate`,p,p.$async)}function _(T){const q=i(c,T);a(c,q,T,T.$async)}function E(T){const q=l.scopeValue("schema",b.code.source===!0?{ref:T,code:(0,r.stringify)(T)}:{ref:T}),Z=l.name("valid"),G=c.subschema({schema:T,dataTypes:[],schemaPath:r.nil,topSchemaRef:q,errSchemaPath:f},Z);c.mergeEvaluated(G),c.ok(Z)}}};function i(c,l){const{gen:f}=c;return l.validate?f.scopeValue("validate",{ref:l.validate}):(0,r._)`${f.scopeValue("wrapper",{ref:l})}.validate`}Zr.getValidate=i;function a(c,l,f,d){const{gen:h,it:m}=c,{allErrors:x,schemaEnv:b,opts:k}=m,p=k.passContext?n.default.this:r.nil;d?g():v();function g(){if(!b.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,r._)`await ${(0,t.callValidateCode)(c,l,p)}`),E(l),x||h.assign(T,!0)},q=>{h.if((0,r._)`!(${q} instanceof ${m.ValidationError})`,()=>h.throw(q)),_(q),x||h.assign(T,!1)}),c.ok(T)}function v(){c.result((0,t.callValidateCode)(c,l,p),()=>E(l),()=>_(l))}function _(T){const q=(0,r._)`${T}.errors`;h.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${q} : ${n.default.vErrors}.concat(${q})`),h.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function E(T){var q;if(!m.opts.unevaluated)return;const Z=(q=f?.validate)===null||q===void 0?void 0:q.evaluated;if(m.props!==!0)if(Z&&!Z.dynamicProps)Z.props!==void 0&&(m.props=s.mergeEvaluated.props(h,Z.props,m.props));else{const G=h.var("props",(0,r._)`${T}.evaluated.props`);m.props=s.mergeEvaluated.props(h,G,m.props,r.Name)}if(m.items!==!0)if(Z&&!Z.dynamicItems)Z.items!==void 0&&(m.items=s.mergeEvaluated.items(h,Z.items,m.items));else{const G=h.var("items",(0,r._)`${T}.evaluated.items`);m.items=s.mergeEvaluated.items(h,G,m.items,r.Name)}}}return Zr.callRef=a,Zr.default=u,Zr}var Bf;function w6(){if(Bf)return $s;Bf=1,Object.defineProperty($s,"__esModule",{value:!0});const e=x6(),t=v6(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return $s.default=r,$s}var As={},Ps={},Zf;function k6(){if(Zf)return Ps;Zf=1,Object.defineProperty(Ps,"__esModule",{value:!0});const e=Pe(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:s,schemaCode:u})=>(0,e.str)`must be ${r[s].okStr} ${u}`,params:({keyword:s,schemaCode:u})=>(0,e._)`{comparison: ${r[s].okStr}, limit: ${u}}`},o={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:u,data:i,schemaCode:a}=s;s.fail$data((0,e._)`${i} ${r[u].fail} ${a} || isNaN(${i})`)}};return Ps.default=o,Ps}var Ds={},Hf;function E6(){if(Hf)return Ds;Hf=1,Object.defineProperty(Ds,"__esModule",{value:!0});const e=Pe(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:o,data:s,schemaCode:u,it:i}=n,a=i.opts.multipleOfPrecision,c=o.let("res"),l=a?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${a}`:(0,e._)`${c} !== parseInt(${c})`;n.fail$data((0,e._)`(${u} === 0 || (${c} = ${s}/${u}, ${l}))`)}};return Ds.default=r,Ds}var Rs={},Is={},Kf;function S6(){if(Kf)return Is;Kf=1,Object.defineProperty(Is,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,o=0,s;for(;o<r;)n++,s=t.charCodeAt(o++),s>=55296&&s<=56319&&o<r&&(s=t.charCodeAt(o),(s&64512)===56320&&o++);return n}return Is.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Is}var Jf;function C6(){if(Jf)return Rs;Jf=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=Pe(),t=Oe(),r=S6(),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:u}){const i=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${u} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:u,data:i,schemaCode:a,it:c}=s,l=u==="maxLength"?e.operators.GT:e.operators.LT,f=c.opts.unicode===!1?(0,e._)`${i}.length`:(0,e._)`${(0,t.useFunc)(s.gen,r.default)}(${i})`;s.fail$data((0,e._)`${f} ${l} ${a}`)}};return Rs.default=o,Rs}var Os={},Wf;function $6(){if(Wf)return Os;Wf=1,Object.defineProperty(Os,"__esModule",{value:!0});const e=dr(),t=Pe(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,t.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,t._)`{pattern: ${o}}`},code(o){const{data:s,$data:u,schema:i,schemaCode:a,it:c}=o,l=c.opts.unicodeRegExp?"u":"",f=u?(0,t._)`(new RegExp(${a}, ${l}))`:(0,e.usePattern)(o,i);o.fail$data((0,t._)`!${f}.test(${s})`)}};return Os.default=n,Os}var Fs={},Gf;function T6(){if(Gf)return Fs;Gf=1,Object.defineProperty(Fs,"__esModule",{value:!0});const e=Pe(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:o}){const s=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:o,data:s,schemaCode:u}=n,i=o==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${s}).length ${i} ${u}`)}};return Fs.default=r,Fs}var Ns={},Yf;function A6(){if(Yf)return Ns;Yf=1,Object.defineProperty(Ns,"__esModule",{value:!0});const e=dr(),t=Pe(),r=Oe(),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:u,schema:i,schemaCode:a,data:c,$data:l,it:f}=s,{opts:d}=f;if(!l&&i.length===0)return;const h=i.length>=d.loopRequired;if(f.allErrors?m():x(),d.strictRequired){const p=s.parentSchema.properties,{definedProperties:g}=s.it;for(const v of i)if(p?.[v]===void 0&&!g.has(v)){const _=f.schemaEnv.baseId+f.errSchemaPath,E=`required property "${v}" is not defined at "${_}" (strictRequired)`;(0,r.checkStrictMode)(f,E,f.opts.strictRequired)}}function m(){if(h||l)s.block$data(t.nil,b);else for(const p of i)(0,e.checkReportMissingProp)(s,p)}function x(){const p=u.let("missing");if(h||l){const g=u.let("valid",!0);s.block$data(g,()=>k(p,g)),s.ok(g)}else u.if((0,e.checkMissingProp)(s,i,p)),(0,e.reportMissingProp)(s,p),u.else()}function b(){u.forOf("prop",a,p=>{s.setParams({missingProperty:p}),u.if((0,e.noPropertyInData)(u,c,p,d.ownProperties),()=>s.error())})}function k(p,g){s.setParams({missingProperty:p}),u.forOf(p,a,()=>{u.assign(g,(0,e.propertyInData)(u,c,p,d.ownProperties)),u.if((0,t.not)(g),()=>{s.error(),u.break()})},t.nil)}}};return Ns.default=o,Ns}var Ms={},Qf;function P6(){if(Qf)return Ms;Qf=1,Object.defineProperty(Ms,"__esModule",{value:!0});const e=Pe(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:o}){const s=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:o,data:s,schemaCode:u}=n,i=o==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${s}.length ${i} ${u}`)}};return Ms.default=r,Ms}var zs={},js={},Xf;function Zc(){if(Xf)return js;Xf=1,Object.defineProperty(js,"__esModule",{value:!0});const e=om();return e.code='require("ajv/dist/runtime/equal").default',js.default=e,js}var ed;function D6(){if(ed)return zs;ed=1,Object.defineProperty(zs,"__esModule",{value:!0});const e=Mu(),t=Pe(),r=Oe(),n=Zc(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:i}})=>(0,t.str)`must NOT have duplicate items (items ## ${i} and ${u} are identical)`,params:({params:{i:u,j:i}})=>(0,t._)`{i: ${u}, j: ${i}}`},code(u){const{gen:i,data:a,$data:c,schema:l,parentSchema:f,schemaCode:d,it:h}=u;if(!c&&!l)return;const m=i.let("valid"),x=f.items?(0,e.getSchemaTypes)(f.items):[];u.block$data(m,b,(0,t._)`${d} === false`),u.ok(m);function b(){const v=i.let("i",(0,t._)`${a}.length`),_=i.let("j");u.setParams({i:v,j:_}),i.assign(m,!0),i.if((0,t._)`${v} > 1`,()=>(k()?p:g)(v,_))}function k(){return x.length>0&&!x.some(v=>v==="object"||v==="array")}function p(v,_){const E=i.name("item"),T=(0,e.checkDataTypes)(x,E,h.opts.strictNumbers,e.DataType.Wrong),q=i.const("indices",(0,t._)`{}`);i.for((0,t._)`;${v}--;`,()=>{i.let(E,(0,t._)`${a}[${v}]`),i.if(T,(0,t._)`continue`),x.length>1&&i.if((0,t._)`typeof ${E} == "string"`,(0,t._)`${E} += "_"`),i.if((0,t._)`typeof ${q}[${E}] == "number"`,()=>{i.assign(_,(0,t._)`${q}[${E}]`),u.error(),i.assign(m,!1).break()}).code((0,t._)`${q}[${E}] = ${v}`)})}function g(v,_){const E=(0,r.useFunc)(i,n.default),T=i.name("outer");i.label(T).for((0,t._)`;${v}--;`,()=>i.for((0,t._)`${_} = ${v}; ${_}--;`,()=>i.if((0,t._)`${E}(${a}[${v}], ${a}[${_}])`,()=>{u.error(),i.assign(m,!1).break(T)})))}}};return zs.default=s,zs}var qs={},td;function R6(){if(td)return qs;td=1,Object.defineProperty(qs,"__esModule",{value:!0});const e=Pe(),t=Oe(),r=Zc(),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:u,data:i,$data:a,schemaCode:c,schema:l}=s;a||l&&typeof l=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(u,r.default)}(${i}, ${c})`):s.fail((0,e._)`${l} !== ${i}`)}};return qs.default=o,qs}var Ls={},rd;function I6(){if(rd)return Ls;rd=1,Object.defineProperty(Ls,"__esModule",{value:!0});const e=Pe(),t=Oe(),r=Zc(),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:u,data:i,$data:a,schema:c,schemaCode:l,it:f}=s;if(!a&&c.length===0)throw new Error("enum must have non-empty array");const d=c.length>=f.opts.loopEnum;let h;const m=()=>h??(h=(0,t.useFunc)(u,r.default));let x;if(d||a)x=u.let("valid"),s.block$data(x,b);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const p=u.const("vSchema",l);x=(0,e.or)(...c.map((g,v)=>k(p,v)))}s.pass(x);function b(){u.assign(x,!1),u.forOf("v",l,p=>u.if((0,e._)`${m()}(${i}, ${p})`,()=>u.assign(x,!0).break()))}function k(p,g){const v=c[g];return typeof v=="object"&&v!==null?(0,e._)`${m()}(${i}, ${p}[${g}])`:(0,e._)`${i} === ${v}`}}};return Ls.default=o,Ls}var nd;function O6(){if(nd)return As;nd=1,Object.defineProperty(As,"__esModule",{value:!0});const e=k6(),t=E6(),r=C6(),n=$6(),o=T6(),s=A6(),u=P6(),i=D6(),a=R6(),c=I6(),l=[e.default,t.default,r.default,n.default,o.default,s.default,u.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},a.default,c.default];return As.default=l,As}var Us={},Fn={},od;function um(){if(od)return Fn;od=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.validateAdditionalItems=void 0;const e=Pe(),t=Oe(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:u,it:i}=s,{items:a}=u;if(!Array.isArray(a)){(0,t.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,a)}};function o(s,u){const{gen:i,schema:a,data:c,keyword:l,it:f}=s;f.items=!0;const d=i.const("len",(0,e._)`${c}.length`);if(a===!1)s.setParams({len:u.length}),s.pass((0,e._)`${d} <= ${u.length}`);else if(typeof a=="object"&&!(0,t.alwaysValidSchema)(f,a)){const m=i.var("valid",(0,e._)`${d} <= ${u.length}`);i.if((0,e.not)(m),()=>h(m)),s.ok(m)}function h(m){i.forRange("i",u.length,d,x=>{s.subschema({keyword:l,dataProp:x,dataPropType:t.Type.Num},m),f.allErrors||i.if((0,e.not)(m),()=>i.break())})}}return Fn.validateAdditionalItems=o,Fn.default=n,Fn}var Vs={},Nn={},sd;function im(){if(sd)return Nn;sd=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.validateTuple=void 0;const e=Pe(),t=Oe(),r=dr(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:u,it:i}=s;if(Array.isArray(u))return o(s,"additionalItems",u);i.items=!0,!(0,t.alwaysValidSchema)(i,u)&&s.ok((0,r.validateArray)(s))}};function o(s,u,i=s.schema){const{gen:a,parentSchema:c,data:l,keyword:f,it:d}=s;x(c),d.opts.unevaluated&&i.length&&d.items!==!0&&(d.items=t.mergeEvaluated.items(a,i.length,d.items));const h=a.name("valid"),m=a.const("len",(0,e._)`${l}.length`);i.forEach((b,k)=>{(0,t.alwaysValidSchema)(d,b)||(a.if((0,e._)`${m} > ${k}`,()=>s.subschema({keyword:f,schemaProp:k,dataProp:k},h)),s.ok(h))});function x(b){const{opts:k,errSchemaPath:p}=d,g=i.length,v=g===b.minItems&&(g===b.maxItems||b[u]===!1);if(k.strictTuples&&!v){const _=`"${f}" is ${g}-tuple, but minItems or maxItems/${u} are not specified or different at path "${p}"`;(0,t.checkStrictMode)(d,_,k.strictTuples)}}}return Nn.validateTuple=o,Nn.default=n,Nn}var ud;function F6(){if(ud)return Vs;ud=1,Object.defineProperty(Vs,"__esModule",{value:!0});const e=im(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return Vs.default=t,Vs}var Bs={},id;function N6(){if(id)return Bs;id=1,Object.defineProperty(Bs,"__esModule",{value:!0});const e=Pe(),t=Oe(),r=dr(),n=um(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>(0,e.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,e._)`{limit: ${u}}`},code(u){const{schema:i,parentSchema:a,it:c}=u,{prefixItems:l}=a;c.items=!0,!(0,t.alwaysValidSchema)(c,i)&&(l?(0,n.validateAdditionalItems)(u,l):u.ok((0,r.validateArray)(u)))}};return Bs.default=s,Bs}var Zs={},ad;function M6(){if(ad)return Zs;ad=1,Object.defineProperty(Zs,"__esModule",{value:!0});const e=Pe(),t=Oe(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:o,max:s}})=>s===void 0?(0,e.str)`must contain at least ${o} valid item(s)`:(0,e.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,e._)`{minContains: ${o}}`:(0,e._)`{minContains: ${o}, maxContains: ${s}}`},code(o){const{gen:s,schema:u,parentSchema:i,data:a,it:c}=o;let l,f;const{minContains:d,maxContains:h}=i;c.opts.next?(l=d===void 0?1:d,f=h):l=1;const m=s.const("len",(0,e._)`${a}.length`);if(o.setParams({min:l,max:f}),f===void 0&&l===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&l>f){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,t.alwaysValidSchema)(c,u)){let g=(0,e._)`${m} >= ${l}`;f!==void 0&&(g=(0,e._)`${g} && ${m} <= ${f}`),o.pass(g);return}c.items=!0;const x=s.name("valid");f===void 0&&l===1?k(x,()=>s.if(x,()=>s.break())):l===0?(s.let(x,!0),f!==void 0&&s.if((0,e._)`${a}.length > 0`,b)):(s.let(x,!1),b()),o.result(x,()=>o.reset());function b(){const g=s.name("_valid"),v=s.let("count",0);k(g,()=>s.if(g,()=>p(v)))}function k(g,v){s.forRange("i",0,m,_=>{o.subschema({keyword:"contains",dataProp:_,dataPropType:t.Type.Num,compositeRule:!0},g),v()})}function p(g){s.code((0,e._)`${g}++`),f===void 0?s.if((0,e._)`${g} >= ${l}`,()=>s.assign(x,!0).break()):(s.if((0,e._)`${g} > ${f}`,()=>s.assign(x,!1).break()),l===1?s.assign(x,!0):s.if((0,e._)`${g} >= ${l}`,()=>s.assign(x,!0)))}}};return Zs.default=n,Zs}var Wi={},cd;function z6(){return cd||(cd=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Pe(),r=Oe(),n=dr();e.error={message:({params:{property:a,depsCount:c,deps:l}})=>{const f=c===1?"property":"properties";return(0,t.str)`must have ${f} ${l} when property ${a} is present`},params:({params:{property:a,depsCount:c,deps:l,missingProperty:f}})=>(0,t._)`{property: ${a},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${l}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(a){const[c,l]=s(a);u(a,c),i(a,l)}};function s({schema:a}){const c={},l={};for(const f in a){if(f==="__proto__")continue;const d=Array.isArray(a[f])?c:l;d[f]=a[f]}return[c,l]}function u(a,c=a.schema){const{gen:l,data:f,it:d}=a;if(Object.keys(c).length===0)return;const h=l.let("missing");for(const m in c){const x=c[m];if(x.length===0)continue;const b=(0,n.propertyInData)(l,f,m,d.opts.ownProperties);a.setParams({property:m,depsCount:x.length,deps:x.join(", ")}),d.allErrors?l.if(b,()=>{for(const k of x)(0,n.checkReportMissingProp)(a,k)}):(l.if((0,t._)`${b} && (${(0,n.checkMissingProp)(a,x,h)})`),(0,n.reportMissingProp)(a,h),l.else())}}e.validatePropertyDeps=u;function i(a,c=a.schema){const{gen:l,data:f,keyword:d,it:h}=a,m=l.name("valid");for(const x in c)(0,r.alwaysValidSchema)(h,c[x])||(l.if((0,n.propertyInData)(l,f,x,h.opts.ownProperties),()=>{const b=a.subschema({keyword:d,schemaProp:x},m);a.mergeValidEvaluated(b,m)},()=>l.var(m,!0)),a.ok(m))}e.validateSchemaDeps=i,e.default=o})(Wi)),Wi}var Hs={},ld;function j6(){if(ld)return Hs;ld=1,Object.defineProperty(Hs,"__esModule",{value:!0});const e=Pe(),t=Oe(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:o})=>(0,e._)`{propertyName: ${o.propertyName}}`},code(o){const{gen:s,schema:u,data:i,it:a}=o;if((0,t.alwaysValidSchema)(a,u))return;const c=s.name("valid");s.forIn("key",i,l=>{o.setParams({propertyName:l}),o.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},c),s.if((0,e.not)(c),()=>{o.error(!0),a.allErrors||s.break()})}),o.ok(c)}};return Hs.default=n,Hs}var Ks={},fd;function am(){if(fd)return Ks;fd=1,Object.defineProperty(Ks,"__esModule",{value:!0});const e=dr(),t=Pe(),r=dn(),n=Oe(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>(0,t._)`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:i,schema:a,parentSchema:c,data:l,errsCount:f,it:d}=u;if(!f)throw new Error("ajv implementation error");const{allErrors:h,opts:m}=d;if(d.props=!0,m.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(d,a))return;const x=(0,e.allSchemaProperties)(c.properties),b=(0,e.allSchemaProperties)(c.patternProperties);k(),u.ok((0,t._)`${f} === ${r.default.errors}`);function k(){i.forIn("key",l,E=>{!x.length&&!b.length?v(E):i.if(p(E),()=>v(E))})}function p(E){let T;if(x.length>8){const q=(0,n.schemaRefOrVal)(d,c.properties,"properties");T=(0,e.isOwnProperty)(i,q,E)}else x.length?T=(0,t.or)(...x.map(q=>(0,t._)`${E} === ${q}`)):T=t.nil;return b.length&&(T=(0,t.or)(T,...b.map(q=>(0,t._)`${(0,e.usePattern)(u,q)}.test(${E})`))),(0,t.not)(T)}function g(E){i.code((0,t._)`delete ${l}[${E}]`)}function v(E){if(m.removeAdditional==="all"||m.removeAdditional&&a===!1){g(E);return}if(a===!1){u.setParams({additionalProperty:E}),u.error(),h||i.break();return}if(typeof a=="object"&&!(0,n.alwaysValidSchema)(d,a)){const T=i.name("valid");m.removeAdditional==="failing"?(_(E,T,!1),i.if((0,t.not)(T),()=>{u.reset(),g(E)})):(_(E,T),h||i.if((0,t.not)(T),()=>i.break()))}}function _(E,T,q){const Z={keyword:"additionalProperties",dataProp:E,dataPropType:n.Type.Str};q===!1&&Object.assign(Z,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(Z,T)}}};return Ks.default=s,Ks}var Js={},dd;function q6(){if(dd)return Js;dd=1,Object.defineProperty(Js,"__esModule",{value:!0});const e=gi(),t=dr(),r=Oe(),n=am(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:u,schema:i,parentSchema:a,data:c,it:l}=s;l.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(l,n.default,"additionalProperties"));const f=(0,t.allSchemaProperties)(i);for(const b of f)l.definedProperties.add(b);l.opts.unevaluated&&f.length&&l.props!==!0&&(l.props=r.mergeEvaluated.props(u,(0,r.toHash)(f),l.props));const d=f.filter(b=>!(0,r.alwaysValidSchema)(l,i[b]));if(d.length===0)return;const h=u.name("valid");for(const b of d)m(b)?x(b):(u.if((0,t.propertyInData)(u,c,b,l.opts.ownProperties)),x(b),l.allErrors||u.else().var(h,!0),u.endIf()),s.it.definedProperties.add(b),s.ok(h);function m(b){return l.opts.useDefaults&&!l.compositeRule&&i[b].default!==void 0}function x(b){s.subschema({keyword:"properties",schemaProp:b,dataProp:b},h)}}};return Js.default=o,Js}var Ws={},hd;function L6(){if(hd)return Ws;hd=1,Object.defineProperty(Ws,"__esModule",{value:!0});const e=dr(),t=Pe(),r=Oe(),n=Oe(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:u,schema:i,data:a,parentSchema:c,it:l}=s,{opts:f}=l,d=(0,e.allSchemaProperties)(i),h=d.filter(v=>(0,r.alwaysValidSchema)(l,i[v]));if(d.length===0||h.length===d.length&&(!l.opts.unevaluated||l.props===!0))return;const m=f.strictSchema&&!f.allowMatchingProperties&&c.properties,x=u.name("valid");l.props!==!0&&!(l.props instanceof t.Name)&&(l.props=(0,n.evaluatedPropsToName)(u,l.props));const{props:b}=l;k();function k(){for(const v of d)m&&p(v),l.allErrors?g(v):(u.var(x,!0),g(v),u.if(x))}function p(v){for(const _ in m)new RegExp(v).test(_)&&(0,r.checkStrictMode)(l,`property ${_} matches pattern ${v} (use allowMatchingProperties)`)}function g(v){u.forIn("key",a,_=>{u.if((0,t._)`${(0,e.usePattern)(s,v)}.test(${_})`,()=>{const E=h.includes(v);E||s.subschema({keyword:"patternProperties",schemaProp:v,dataProp:_,dataPropType:n.Type.Str},x),l.opts.unevaluated&&b!==!0?u.assign((0,t._)`${b}[${_}]`,!0):!E&&!l.allErrors&&u.if((0,t.not)(x),()=>u.break())})})}}};return Ws.default=o,Ws}var Gs={},pd;function U6(){if(pd)return Gs;pd=1,Object.defineProperty(Gs,"__esModule",{value:!0});const e=Oe(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:o,it:s}=r;if((0,e.alwaysValidSchema)(s,o)){r.fail();return}const u=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),r.failResult(u,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Gs.default=t,Gs}var Ys={},md;function V6(){if(md)return Ys;md=1,Object.defineProperty(Ys,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:dr().validateUnion,error:{message:"must match a schema in anyOf"}};return Ys.default=t,Ys}var Qs={},gd;function B6(){if(gd)return Qs;gd=1,Object.defineProperty(Qs,"__esModule",{value:!0});const e=Pe(),t=Oe(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:o})=>(0,e._)`{passingSchemas: ${o.passing}}`},code(o){const{gen:s,schema:u,parentSchema:i,it:a}=o;if(!Array.isArray(u))throw new Error("ajv implementation error");if(a.opts.discriminator&&i.discriminator)return;const c=u,l=s.let("valid",!1),f=s.let("passing",null),d=s.name("_valid");o.setParams({passing:f}),s.block(h),o.result(l,()=>o.reset(),()=>o.error(!0));function h(){c.forEach((m,x)=>{let b;(0,t.alwaysValidSchema)(a,m)?s.var(d,!0):b=o.subschema({keyword:"oneOf",schemaProp:x,compositeRule:!0},d),x>0&&s.if((0,e._)`${d} && ${l}`).assign(l,!1).assign(f,(0,e._)`[${f}, ${x}]`).else(),s.if(d,()=>{s.assign(l,!0),s.assign(f,x),b&&o.mergeEvaluated(b,e.Name)})})}}};return Qs.default=n,Qs}var Xs={},bd;function Z6(){if(bd)return Xs;bd=1,Object.defineProperty(Xs,"__esModule",{value:!0});const e=Oe(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:o,it:s}=r;if(!Array.isArray(o))throw new Error("ajv implementation error");const u=n.name("valid");o.forEach((i,a)=>{if((0,e.alwaysValidSchema)(s,i))return;const c=r.subschema({keyword:"allOf",schemaProp:a},u);r.ok(u),r.mergeEvaluated(c)})}};return Xs.default=t,Xs}var eu={},_d;function H6(){if(_d)return eu;_d=1,Object.defineProperty(eu,"__esModule",{value:!0});const e=Pe(),t=Oe(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:u,parentSchema:i,it:a}=s;i.then===void 0&&i.else===void 0&&(0,t.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const c=o(a,"then"),l=o(a,"else");if(!c&&!l)return;const f=u.let("valid",!0),d=u.name("_valid");if(h(),s.reset(),c&&l){const x=u.let("ifClause");s.setParams({ifClause:x}),u.if(d,m("then",x),m("else",x))}else c?u.if(d,m("then")):u.if((0,e.not)(d),m("else"));s.pass(f,()=>s.error(!0));function h(){const x=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);s.mergeEvaluated(x)}function m(x,b){return()=>{const k=s.subschema({keyword:x},d);u.assign(f,d),s.mergeValidEvaluated(k,f),b?u.assign(b,(0,e._)`${x}`):s.setParams({ifClause:x})}}}};function o(s,u){const i=s.schema[u];return i!==void 0&&!(0,t.alwaysValidSchema)(s,i)}return eu.default=n,eu}var tu={},yd;function K6(){if(yd)return tu;yd=1,Object.defineProperty(tu,"__esModule",{value:!0});const e=Oe(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:o}){n.if===void 0&&(0,e.checkStrictMode)(o,`"${r}" without "if" is ignored`)}};return tu.default=t,tu}var xd;function J6(){if(xd)return Us;xd=1,Object.defineProperty(Us,"__esModule",{value:!0});const e=um(),t=F6(),r=im(),n=N6(),o=M6(),s=z6(),u=j6(),i=am(),a=q6(),c=L6(),l=U6(),f=V6(),d=B6(),h=Z6(),m=H6(),x=K6();function b(k=!1){const p=[l.default,f.default,d.default,h.default,m.default,x.default,u.default,i.default,s.default,a.default,c.default];return k?p.push(t.default,n.default):p.push(e.default,r.default),p.push(o.default),p}return Us.default=b,Us}var ru={},nu={},vd;function W6(){if(vd)return nu;vd=1,Object.defineProperty(nu,"__esModule",{value:!0});const e=Pe(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,o){const{gen:s,data:u,$data:i,schema:a,schemaCode:c,it:l}=n,{opts:f,errSchemaPath:d,schemaEnv:h,self:m}=l;if(!f.validateFormats)return;i?x():b();function x(){const k=s.scopeValue("formats",{ref:m.formats,code:f.code.formats}),p=s.const("fDef",(0,e._)`${k}[${c}]`),g=s.let("fType"),v=s.let("format");s.if((0,e._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>s.assign(g,(0,e._)`${p}.type || "string"`).assign(v,(0,e._)`${p}.validate`),()=>s.assign(g,(0,e._)`"string"`).assign(v,p)),n.fail$data((0,e.or)(_(),E()));function _(){return f.strictSchema===!1?e.nil:(0,e._)`${c} && !${v}`}function E(){const T=h.$async?(0,e._)`(${p}.async ? await ${v}(${u}) : ${v}(${u}))`:(0,e._)`${v}(${u})`,q=(0,e._)`(typeof ${v} == "function" ? ${T} : ${v}.test(${u}))`;return(0,e._)`${v} && ${v} !== true && ${g} === ${o} && !${q}`}}function b(){const k=m.formats[a];if(!k){_();return}if(k===!0)return;const[p,g,v]=E(k);p===o&&n.pass(T());function _(){if(f.strictSchema===!1){m.logger.warn(q());return}throw new Error(q());function q(){return`unknown format "${a}" ignored in schema at path "${d}"`}}function E(q){const Z=q instanceof RegExp?(0,e.regexpCode)(q):f.code.formats?(0,e._)`${f.code.formats}${(0,e.getProperty)(a)}`:void 0,G=s.scopeValue("formats",{key:a,ref:q,code:Z});return typeof q=="object"&&!(q instanceof RegExp)?[q.type||"string",q.validate,(0,e._)`${G}.validate`]:["string",q,G]}function T(){if(typeof k=="object"&&!(k instanceof RegExp)&&k.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${v}(${u})`}return typeof g=="function"?(0,e._)`${v}(${u})`:(0,e._)`${v}.test(${u})`}}}};return nu.default=r,nu}var wd;function G6(){if(wd)return ru;wd=1,Object.defineProperty(ru,"__esModule",{value:!0});const t=[W6().default];return ru.default=t,ru}var wn={},kd;function Y6(){return kd||(kd=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.contentVocabulary=wn.metadataVocabulary=void 0,wn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],wn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),wn}var Ed;function Q6(){if(Ed)return Cs;Ed=1,Object.defineProperty(Cs,"__esModule",{value:!0});const e=w6(),t=O6(),r=J6(),n=G6(),o=Y6(),s=[e.default,t.default,(0,r.default)(),n.default,o.metadataVocabulary,o.contentVocabulary];return Cs.default=s,Cs}var ou={},ko={},Sd;function X6(){if(Sd)return ko;Sd=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(ko.DiscrError=e={})),ko}var Cd;function e4(){if(Cd)return ou;Cd=1,Object.defineProperty(ou,"__esModule",{value:!0});const e=Pe(),t=X6(),r=Bc(),n=bi(),o=Oe(),u={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:a}})=>i===t.DiscrError.Tag?`tag "${a}" must be string`:`value of tag "${a}" must be in oneOf`,params:({params:{discrError:i,tag:a,tagName:c}})=>(0,e._)`{error: ${i}, tag: ${c}, tagValue: ${a}}`},code(i){const{gen:a,data:c,schema:l,parentSchema:f,it:d}=i,{oneOf:h}=f;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=l.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const x=a.let("valid",!1),b=a.const("tag",(0,e._)`${c}${(0,e.getProperty)(m)}`);a.if((0,e._)`typeof ${b} == "string"`,()=>k(),()=>i.error(!1,{discrError:t.DiscrError.Tag,tag:b,tagName:m})),i.ok(x);function k(){const v=g();a.if(!1);for(const _ in v)a.elseIf((0,e._)`${b} === ${_}`),a.assign(x,p(v[_]));a.else(),i.error(!1,{discrError:t.DiscrError.Mapping,tag:b,tagName:m}),a.endIf()}function p(v){const _=a.name("valid"),E=i.subschema({keyword:"oneOf",schemaProp:v},_);return i.mergeEvaluated(E,e.Name),_}function g(){var v;const _={},E=q(f);let T=!0;for(let V=0;V<h.length;V++){let U=h[V];if(U?.$ref&&!(0,o.schemaHasRulesButRef)(U,d.self.RULES)){const oe=U.$ref;if(U=r.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,oe),U instanceof r.SchemaEnv&&(U=U.schema),U===void 0)throw new n.default(d.opts.uriResolver,d.baseId,oe)}const re=(v=U?.properties)===null||v===void 0?void 0:v[m];if(typeof re!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);T=T&&(E||q(U)),Z(re,V)}if(!T)throw new Error(`discriminator: "${m}" must be required`);return _;function q({required:V}){return Array.isArray(V)&&V.includes(m)}function Z(V,U){if(V.const)G(V.const,U);else if(V.enum)for(const re of V.enum)G(re,U);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function G(V,U){if(typeof V!="string"||V in _)throw new Error(`discriminator: "${m}" values must be unique strings`);_[V]=U}}}};return ou.default=u,ou}const t4="http://json-schema.org/draft-07/schema#",r4="http://json-schema.org/draft-07/schema#",n4="Core schema meta-schema",o4={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},s4=["object","boolean"],u4={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},i4={$schema:t4,$id:r4,title:n4,definitions:o4,type:s4,properties:u4,default:!0};var $d;function cm(){return $d||($d=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=y6(),n=Q6(),o=e4(),s=i4,u=["/properties"],i="http://json-schema.org/draft-07/schema";class a extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(s,u):s;this.addMetaSchema(m,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv=a,e.exports=t=a,e.exports.Ajv=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var c=gi();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=Pe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=Vc();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=bi();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(vs,vs.exports)),vs.exports}var a4=cm();const lm=tm(a4);var su={exports:{}},Gi={},Td;function c4(){return Td||(Td=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(V,U){return{validate:V,compare:U}}e.fullFormats={date:t(s,u),time:t(a(!0),c),"date-time":t(d(!0),h),"iso-time":t(a(),l),"iso-date-time":t(d(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:k,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:G,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:E},int64:{type:"number",validate:T},float:{type:"number",validate:q},double:{type:"number",validate:q},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,u),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(V){return V%4===0&&(V%100!==0||V%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(V){const U=n.exec(V);if(!U)return!1;const re=+U[1],oe=+U[2],_e=+U[3];return oe>=1&&oe<=12&&_e>=1&&_e<=(oe===2&&r(re)?29:o[oe])}function u(V,U){if(V&&U)return V>U?1:V<U?-1:0}const i=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function a(V){return function(re){const oe=i.exec(re);if(!oe)return!1;const _e=+oe[1],ve=+oe[2],J=+oe[3],Y=oe[4],De=oe[5]==="-"?-1:1,X=+(oe[6]||0),F=+(oe[7]||0);if(X>23||F>59||V&&!Y)return!1;if(_e<=23&&ve<=59&&J<60)return!0;const A=ve-F*De,P=_e-X*De-(A<0?1:0);return(P===23||P===-1)&&(A===59||A===-1)&&J<61}}function c(V,U){if(!(V&&U))return;const re=new Date("2020-01-01T"+V).valueOf(),oe=new Date("2020-01-01T"+U).valueOf();if(re&&oe)return re-oe}function l(V,U){if(!(V&&U))return;const re=i.exec(V),oe=i.exec(U);if(re&&oe)return V=re[1]+re[2]+re[3],U=oe[1]+oe[2]+oe[3],V>U?1:V<U?-1:0}const f=/t|\s/i;function d(V){const U=a(V);return function(oe){const _e=oe.split(f);return _e.length===2&&s(_e[0])&&U(_e[1])}}function h(V,U){if(!(V&&U))return;const re=new Date(V).valueOf(),oe=new Date(U).valueOf();if(re&&oe)return re-oe}function m(V,U){if(!(V&&U))return;const[re,oe]=V.split(f),[_e,ve]=U.split(f),J=u(re,_e);if(J!==void 0)return J||c(oe,ve)}const x=/\/|:/,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function k(V){return x.test(V)&&b.test(V)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(V){return p.lastIndex=0,p.test(V)}const v=-2147483648,_=2**31-1;function E(V){return Number.isInteger(V)&&V<=_&&V>=v}function T(V){return Number.isInteger(V)}function q(){return!0}const Z=/[^\\]\\Z/;function G(V){if(Z.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(Gi)),Gi}var Yi={},Ad;function l4(){return Ad||(Ad=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=cm(),r=Pe(),n=r.operators,o={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:i,schemaCode:a})=>(0,r.str)`should be ${o[i].okStr} ${a}`,params:({keyword:i,schemaCode:a})=>(0,r._)`{comparison: ${o[i].okStr}, limit: ${a}}`};e.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:s,code(i){const{gen:a,data:c,schemaCode:l,keyword:f,it:d}=i,{opts:h,self:m}=d;if(!h.validateFormats)return;const x=new t.KeywordCxt(d,m.RULES.all.format.definition,"format");x.$data?b():k();function b(){const g=a.scopeValue("formats",{ref:m.formats,code:h.code.formats}),v=a.const("fmt",(0,r._)`${g}[${x.schemaCode}]`);i.fail$data((0,r.or)((0,r._)`typeof ${v} != "object"`,(0,r._)`${v} instanceof RegExp`,(0,r._)`typeof ${v}.compare != "function"`,p(v)))}function k(){const g=x.schema,v=m.formats[g];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${f}": format "${g}" does not define "compare" function`);const _=a.scopeValue("formats",{key:g,ref:v,code:h.code.formats?(0,r._)`${h.code.formats}${(0,r.getProperty)(g)}`:void 0});i.fail$data(p(_))}function p(g){return(0,r._)`${g}.compare(${c}, ${l}) ${o[f].fail} 0`}},dependencies:["format"]};const u=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=u})(Yi)),Yi}var Pd;function f4(){return Pd||(Pd=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=c4(),n=l4(),o=Pe(),s=new o.Name("fullFormats"),u=new o.Name("fastFormats"),i=(c,l={keywords:!0})=>{if(Array.isArray(l))return a(c,l,r.fullFormats,s),c;const[f,d]=l.mode==="fast"?[r.fastFormats,u]:[r.fullFormats,s],h=l.formats||r.formatNames;return a(c,h,f,d),l.keywords&&(0,n.default)(c),c};i.get=(c,l="full")=>{const d=(l==="fast"?r.fastFormats:r.fullFormats)[c];if(!d)throw new Error(`Unknown format "${c}"`);return d};function a(c,l,f,d){var h,m;(h=(m=c.opts.code).formats)!==null&&h!==void 0||(m.formats=(0,o._)`require("ajv-formats/dist/formats").${d}`);for(const x of l)c.addFormat(x,f[x])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i})(su,su.exports)),su.exports}var d4=f4();const h4=tm(d4);function p4(){const e=new lm({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return h4(e),e}class m4{constructor(t){this._ajv=t??p4()}getValidator(t){const r="$id"in t&&typeof t.$id=="string"?this._ajv.getSchema(t.$id)??this._ajv.compile(t):this._ajv.compile(t);return n=>r(n)?{valid:!0,data:n,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(r.errors)}}}class g4{constructor(t){this._client=t}async*callToolStream(t,r=hi,n){const o=this._client,s={...n,task:n?.task??(o.isToolTask(t.name)?{}:void 0)},u=o.requestStream({method:"tools/call",params:t},r,s),i=o.getToolOutputValidator(t.name);for await(const a of u){if(a.type==="result"&&i){const c=a.result;if(!c.structuredContent&&!c.isError){yield{type:"error",error:new Ee(Ce.InvalidRequest,`Tool ${t.name} has an output schema but did not return structured content`)};return}if(c.structuredContent)try{const l=i(c.structuredContent);if(!l.valid){yield{type:"error",error:new Ee(Ce.InvalidParams,`Structured content does not match the tool's output schema: ${l.errorMessage}`)};return}}catch(l){if(l instanceof Ee){yield{type:"error",error:l};return}yield{type:"error",error:new Ee(Ce.InvalidParams,`Failed to validate structured content: ${l instanceof Error?l.message:String(l)}`)};return}}yield a}}async getTask(t,r){return this._client.getTask({taskId:t},r)}async getTaskResult(t,r,n){return this._client.getTaskResult({taskId:t},r,n)}async listTasks(t,r){return this._client.listTasks(t?{cursor:t}:void 0,r)}async cancelTask(t,r){return this._client.cancelTask({taskId:t},r)}requestStream(t,r,n){return this._client.requestStream(t,r,n)}}function b4(e,t,r){if(!e)throw new Error(`${r} does not support task creation (required for ${t})`);switch(t){case"tools/call":if(!e.tools?.call)throw new Error(`${r} does not support task creation for tools/call (required for ${t})`);break}}function _4(e,t,r){if(!e)throw new Error(`${r} does not support task creation (required for ${t})`);switch(t){case"sampling/createMessage":if(!e.sampling?.createMessage)throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${t})`);break;case"elicitation/create":if(!e.elicitation?.create)throw new Error(`${r} does not support task creation for elicitation/create (required for ${t})`);break}}function vu(e,t){if(!(!e||t===null||typeof t!="object")){if(e.type==="object"&&e.properties&&typeof e.properties=="object"){const r=t,n=e.properties;for(const o of Object.keys(n)){const s=n[o];r[o]===void 0&&Object.prototype.hasOwnProperty.call(s,"default")&&(r[o]=s.default),r[o]!==void 0&&vu(s,r[o])}}if(Array.isArray(e.anyOf))for(const r of e.anyOf)typeof r!="boolean"&&vu(r,t);if(Array.isArray(e.oneOf))for(const r of e.oneOf)typeof r!="boolean"&&vu(r,t)}}function y4(e){if(!e)return{supportsFormMode:!1,supportsUrlMode:!1};const t=e.form!==void 0,r=e.url!==void 0;return{supportsFormMode:t||!t&&!r,supportsUrlMode:r}}class x4 extends r6{constructor(t,r){super(r),this._clientInfo=t,this._cachedToolOutputValidators=new Map,this._cachedKnownTaskTools=new Set,this._cachedRequiredTaskTools=new Set,this._listChangedDebounceTimers=new Map,this._capabilities=r?.capabilities??{},this._jsonSchemaValidator=r?.jsonSchemaValidator??new m4,r?.listChanged&&(this._pendingListChangedConfig=r.listChanged)}_setupListChangedHandlers(t){t.tools&&this._serverCapabilities?.tools?.listChanged&&this._setupListChangedHandler("tools",Kp,t.tools,async()=>(await this.listTools()).tools),t.prompts&&this._serverCapabilities?.prompts?.listChanged&&this._setupListChangedHandler("prompts",Bp,t.prompts,async()=>(await this.listPrompts()).prompts),t.resources&&this._serverCapabilities?.resources?.listChanged&&this._setupListChangedHandler("resources",Lp,t.resources,async()=>(await this.listResources()).resources)}get experimental(){return this._experimental||(this._experimental={tasks:new g4(this)}),this._experimental}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=n6(this._capabilities,t)}setRequestHandler(t,r){const o=pp(t)?.method;if(!o)throw new Error("Schema is missing a method literal");let s;if(ci(o)){const i=o;s=i._zod?.def?.value??i.value}else{const i=o;s=i._def?.value??i.value}if(typeof s!="string")throw new Error("Schema method literal must be a string");const u=s;if(u==="elicitation/create"){const i=async(a,c)=>{const l=Qr(Qp,a);if(!l.success){const p=l.error instanceof Error?l.error.message:String(l.error);throw new Ee(Ce.InvalidParams,`Invalid elicitation request: ${p}`)}const{params:f}=l.data;f.mode=f.mode??"form";const{supportsFormMode:d,supportsUrlMode:h}=y4(this._capabilities.elicitation);if(f.mode==="form"&&!d)throw new Ee(Ce.InvalidParams,"Client does not support form-mode elicitation requests");if(f.mode==="url"&&!h)throw new Ee(Ce.InvalidParams,"Client does not support URL-mode elicitation requests");const m=await Promise.resolve(r(a,c));if(f.task){const p=Qr(Ko,m);if(!p.success){const g=p.error instanceof Error?p.error.message:String(p.error);throw new Ee(Ce.InvalidParams,`Invalid task creation result: ${g}`)}return p.data}const x=Qr(Xp,m);if(!x.success){const p=x.error instanceof Error?x.error.message:String(x.error);throw new Ee(Ce.InvalidParams,`Invalid elicitation result: ${p}`)}const b=x.data,k=f.mode==="form"?f.requestedSchema:void 0;if(f.mode==="form"&&b.action==="accept"&&b.content&&k&&this._capabilities.elicitation?.form?.applyDefaults)try{vu(k,b.content)}catch{}return b};return super.setRequestHandler(t,i)}if(u==="sampling/createMessage"){const i=async(a,c)=>{const l=Qr(Wp,a);if(!l.success){const b=l.error instanceof Error?l.error.message:String(l.error);throw new Ee(Ce.InvalidParams,`Invalid sampling request: ${b}`)}const{params:f}=l.data,d=await Promise.resolve(r(a,c));if(f.task){const b=Qr(Ko,d);if(!b.success){const k=b.error instanceof Error?b.error.message:String(b.error);throw new Ee(Ce.InvalidParams,`Invalid task creation result: ${k}`)}return b.data}const m=f.tools||f.toolChoice?Yp:Gp,x=Qr(m,d);if(!x.success){const b=x.error instanceof Error?x.error.message:String(x.error);throw new Ee(Ce.InvalidParams,`Invalid sampling result: ${b}`)}return x.data};return super.setRequestHandler(t,i)}return super.setRequestHandler(t,r)}assertCapability(t,r){if(!this._serverCapabilities?.[t])throw new Error(`Server does not support ${t} (required for ${r})`)}async connect(t,r){if(await super.connect(t),t.sessionId===void 0)try{const n=await this.request({method:"initialize",params:{protocolVersion:li,capabilities:this._capabilities,clientInfo:this._clientInfo}},Rp,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!k3.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,t.setProtocolVersion&&t.setProtocolVersion(n.protocolVersion),this._instructions=n.instructions,await this.notification({method:"notifications/initialized"}),this._pendingListChangedConfig&&(this._setupListChangedHandlers(this._pendingListChangedConfig),this._pendingListChangedConfig=void 0)}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){switch(t){case"logging/setLevel":if(!this._serverCapabilities?.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!this._serverCapabilities?.prompts)throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!this._serverCapabilities?.resources)throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!this._serverCapabilities?.tools)throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!this._serverCapabilities?.completions)throw new Error(`Server does not support completions (required for ${t})`);break}}assertNotificationCapability(t){switch(t){case"notifications/roots/list_changed":if(!this._capabilities.roots?.listChanged)throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break}}assertRequestHandlerCapability(t){if(this._capabilities)switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Client does not support tasks capability (required for ${t})`);break}}assertTaskCapability(t){b4(this._serverCapabilities?.tasks?.requests,t,"Server")}assertTaskHandlerCapability(t){this._capabilities&&_4(this._capabilities.tasks?.requests,t,"Client")}async ping(t){return this.request({method:"ping"},Jn,t)}async complete(t,r){return this.request({method:"completion/complete",params:t},em,r)}async setLoggingLevel(t,r){return this.request({method:"logging/setLevel",params:{level:t}},Jn,r)}async getPrompt(t,r){return this.request({method:"prompts/get",params:t},Vp,r)}async listPrompts(t,r){return this.request({method:"prompts/list",params:t},Up,r)}async listResources(t,r){return this.request({method:"resources/list",params:t},zp,r)}async listResourceTemplates(t,r){return this.request({method:"resources/templates/list",params:t},jp,r)}async readResource(t,r){return this.request({method:"resources/read",params:t},qp,r)}async subscribeResource(t,r){return this.request({method:"resources/subscribe",params:t},Jn,r)}async unsubscribeResource(t,r){return this.request({method:"resources/unsubscribe",params:t},Jn,r)}async callTool(t,r=hi,n){if(this.isToolTaskRequired(t.name))throw new Ee(Ce.InvalidRequest,`Tool "${t.name}" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);const o=await this.request({method:"tools/call",params:t},r,n),s=this.getToolOutputValidator(t.name);if(s){if(!o.structuredContent&&!o.isError)throw new Ee(Ce.InvalidRequest,`Tool ${t.name} has an output schema but did not return structured content`);if(o.structuredContent)try{const u=s(o.structuredContent);if(!u.valid)throw new Ee(Ce.InvalidParams,`Structured content does not match the tool's output schema: ${u.errorMessage}`)}catch(u){throw u instanceof Ee?u:new Ee(Ce.InvalidParams,`Failed to validate structured content: ${u instanceof Error?u.message:String(u)}`)}}return o}isToolTask(t){return this._serverCapabilities?.tasks?.requests?.tools?.call?this._cachedKnownTaskTools.has(t):!1}isToolTaskRequired(t){return this._cachedRequiredTaskTools.has(t)}cacheToolMetadata(t){this._cachedToolOutputValidators.clear(),this._cachedKnownTaskTools.clear(),this._cachedRequiredTaskTools.clear();for(const r of t){if(r.outputSchema){const o=this._jsonSchemaValidator.getValidator(r.outputSchema);this._cachedToolOutputValidators.set(r.name,o)}const n=r.execution?.taskSupport;(n==="required"||n==="optional")&&this._cachedKnownTaskTools.add(r.name),n==="required"&&this._cachedRequiredTaskTools.add(r.name)}}getToolOutputValidator(t){return this._cachedToolOutputValidators.get(t)}async listTools(t,r){const n=await this.request({method:"tools/list",params:t},Hp,r);return this.cacheToolMetadata(n.tools),n}_setupListChangedHandler(t,r,n,o){const s=bv.safeParse(n);if(!s.success)throw new Error(`Invalid ${t} listChanged options: ${s.error.message}`);if(typeof n.onChanged!="function")throw new Error(`Invalid ${t} listChanged options: onChanged must be a function`);const{autoRefresh:u,debounceMs:i}=s.data,{onChanged:a}=n,c=async()=>{if(!u){a(null,null);return}try{const f=await o();a(null,f)}catch(f){const d=f instanceof Error?f:new Error(String(f));a(d,null)}},l=()=>{if(i){const f=this._listChangedDebounceTimers.get(t);f&&clearTimeout(f);const d=setTimeout(c,i);this._listChangedDebounceTimers.set(t,d)}else c()};this.setNotificationHandler(r,l)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}function Pa(e){return e?e instanceof Headers?Object.fromEntries(e.entries()):Array.isArray(e)?Object.fromEntries(e):{...e}:{}}function v4(e=fetch,t){return t?async(r,n)=>{const o={...t,...n,headers:n?.headers?{...Pa(t.headers),...Pa(n.headers)}:t.headers};return e(r,o)}:e}let Hc;Hc=globalThis.crypto;async function w4(e){return(await Hc).getRandomValues(new Uint8Array(e))}async function k4(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~",r=Math.pow(2,8)-Math.pow(2,8)%t.length;let n="";for(;n.length<e;){const o=await w4(e-n.length);for(const s of o)s<r&&(n+=t[s%t.length])}return n}async function E4(e){return await k4(e)}async function S4(e){const t=await(await Hc).subtle.digest("SHA-256",new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}async function C4(e){if(e||(e=43),e<43||e>128)throw`Expected a length between 43 and 128. Received ${e}.`;const t=await E4(e),r=await S4(t);return{code_verifier:t,code_challenge:r}}const _t=Ax().superRefine((e,t)=>{if(!URL.canParse(e))return t.addIssue({code:v3.custom,message:"URL must be parseable",fatal:!0}),Rg}).refine(e=>{const t=new URL(e);return t.protocol!=="javascript:"&&t.protocol!=="data:"&&t.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),$4=yt({resource:R().url(),authorization_servers:fe(_t).optional(),jwks_uri:R().url().optional(),scopes_supported:fe(R()).optional(),bearer_methods_supported:fe(R()).optional(),resource_signing_alg_values_supported:fe(R()).optional(),resource_name:R().optional(),resource_documentation:R().optional(),resource_policy_uri:R().url().optional(),resource_tos_uri:R().url().optional(),tls_client_certificate_bound_access_tokens:He().optional(),authorization_details_types_supported:fe(R()).optional(),dpop_signing_alg_values_supported:fe(R()).optional(),dpop_bound_access_tokens_required:He().optional()}),fm=yt({issuer:R(),authorization_endpoint:_t,token_endpoint:_t,registration_endpoint:_t.optional(),scopes_supported:fe(R()).optional(),response_types_supported:fe(R()),response_modes_supported:fe(R()).optional(),grant_types_supported:fe(R()).optional(),token_endpoint_auth_methods_supported:fe(R()).optional(),token_endpoint_auth_signing_alg_values_supported:fe(R()).optional(),service_documentation:_t.optional(),revocation_endpoint:_t.optional(),revocation_endpoint_auth_methods_supported:fe(R()).optional(),revocation_endpoint_auth_signing_alg_values_supported:fe(R()).optional(),introspection_endpoint:R().optional(),introspection_endpoint_auth_methods_supported:fe(R()).optional(),introspection_endpoint_auth_signing_alg_values_supported:fe(R()).optional(),code_challenge_methods_supported:fe(R()).optional(),client_id_metadata_document_supported:He().optional()}),T4=yt({issuer:R(),authorization_endpoint:_t,token_endpoint:_t,userinfo_endpoint:_t.optional(),jwks_uri:_t,registration_endpoint:_t.optional(),scopes_supported:fe(R()).optional(),response_types_supported:fe(R()),response_modes_supported:fe(R()).optional(),grant_types_supported:fe(R()).optional(),acr_values_supported:fe(R()).optional(),subject_types_supported:fe(R()),id_token_signing_alg_values_supported:fe(R()),id_token_encryption_alg_values_supported:fe(R()).optional(),id_token_encryption_enc_values_supported:fe(R()).optional(),userinfo_signing_alg_values_supported:fe(R()).optional(),userinfo_encryption_alg_values_supported:fe(R()).optional(),userinfo_encryption_enc_values_supported:fe(R()).optional(),request_object_signing_alg_values_supported:fe(R()).optional(),request_object_encryption_alg_values_supported:fe(R()).optional(),request_object_encryption_enc_values_supported:fe(R()).optional(),token_endpoint_auth_methods_supported:fe(R()).optional(),token_endpoint_auth_signing_alg_values_supported:fe(R()).optional(),display_values_supported:fe(R()).optional(),claim_types_supported:fe(R()).optional(),claims_supported:fe(R()).optional(),service_documentation:R().optional(),claims_locales_supported:fe(R()).optional(),ui_locales_supported:fe(R()).optional(),claims_parameter_supported:He().optional(),request_parameter_supported:He().optional(),request_uri_parameter_supported:He().optional(),require_request_uri_registration:He().optional(),op_policy_uri:_t.optional(),op_tos_uri:_t.optional(),client_id_metadata_document_supported:He().optional()}),A4=he({...T4.shape,...fm.pick({code_challenge_methods_supported:!0}).shape}),P4=he({access_token:R(),id_token:R().optional(),token_type:R(),expires_in:w3().optional(),scope:R().optional(),refresh_token:R().optional()}).strip(),D4=he({error:R(),error_description:R().optional(),error_uri:R().optional()}),Dd=_t.optional().or(xe("").transform(()=>{})),R4=he({redirect_uris:fe(_t),token_endpoint_auth_method:R().optional(),grant_types:fe(R()).optional(),response_types:fe(R()).optional(),client_name:R().optional(),client_uri:_t.optional(),logo_uri:Dd,scope:R().optional(),contacts:fe(R()).optional(),tos_uri:Dd,policy_uri:R().optional(),jwks_uri:_t.optional(),jwks:Wx().optional(),software_id:R().optional(),software_version:R().optional(),software_statement:R().optional()}).strip(),I4=he({client_id:R(),client_secret:R().optional(),client_id_issued_at:ze().optional(),client_secret_expires_at:ze().optional()}).strip(),O4=R4.merge(I4);he({error:R(),error_description:R().optional()}).strip();he({token:R(),token_type_hint:R().optional()}).strip();function F4(e){const t=typeof e=="string"?new URL(e):new URL(e.href);return t.hash="",t}function N4({requestedResource:e,configuredResource:t}){const r=typeof e=="string"?new URL(e):new URL(e.href),n=typeof t=="string"?new URL(t):new URL(t.href);if(r.origin!==n.origin||r.pathname.length<n.pathname.length)return!1;const o=r.pathname.endsWith("/")?r.pathname:r.pathname+"/",s=n.pathname.endsWith("/")?n.pathname:n.pathname+"/";return o.startsWith(s)}class mt extends Error{constructor(t,r){super(t),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){const t={error:this.errorCode,error_description:this.message};return this.errorUri&&(t.error_uri=this.errorUri),t}get errorCode(){return this.constructor.errorCode}}class Da extends mt{}Da.errorCode="invalid_request";class zu extends mt{}zu.errorCode="invalid_client";class ju extends mt{}ju.errorCode="invalid_grant";class qu extends mt{}qu.errorCode="unauthorized_client";class Ra extends mt{}Ra.errorCode="unsupported_grant_type";class Ia extends mt{}Ia.errorCode="invalid_scope";class Oa extends mt{}Oa.errorCode="access_denied";class ao extends mt{}ao.errorCode="server_error";class Fa extends mt{}Fa.errorCode="temporarily_unavailable";class Na extends mt{}Na.errorCode="unsupported_response_type";class Ma extends mt{}Ma.errorCode="unsupported_token_type";class za extends mt{}za.errorCode="invalid_token";class ja extends mt{}ja.errorCode="method_not_allowed";class qa extends mt{}qa.errorCode="too_many_requests";class Lu extends mt{}Lu.errorCode="invalid_client_metadata";class La extends mt{}La.errorCode="insufficient_scope";class Ua extends mt{}Ua.errorCode="invalid_target";const M4={[Da.errorCode]:Da,[zu.errorCode]:zu,[ju.errorCode]:ju,[qu.errorCode]:qu,[Ra.errorCode]:Ra,[Ia.errorCode]:Ia,[Oa.errorCode]:Oa,[ao.errorCode]:ao,[Fa.errorCode]:Fa,[Na.errorCode]:Na,[Ma.errorCode]:Ma,[za.errorCode]:za,[ja.errorCode]:ja,[qa.errorCode]:qa,[Lu.errorCode]:Lu,[La.errorCode]:La,[Ua.errorCode]:Ua};class Mn extends Error{constructor(t){super(t??"Unauthorized")}}function z4(e){return["client_secret_basic","client_secret_post","none"].includes(e)}const Qi="code",Xi="S256";function j4(e,t){const r=e.client_secret!==void 0;return t.length===0?r?"client_secret_post":"none":"token_endpoint_auth_method"in e&&e.token_endpoint_auth_method&&z4(e.token_endpoint_auth_method)&&t.includes(e.token_endpoint_auth_method)?e.token_endpoint_auth_method:r&&t.includes("client_secret_basic")?"client_secret_basic":r&&t.includes("client_secret_post")?"client_secret_post":t.includes("none")?"none":r?"client_secret_post":"none"}function q4(e,t,r,n){const{client_id:o,client_secret:s}=t;switch(e){case"client_secret_basic":L4(o,s,r);return;case"client_secret_post":U4(o,s,n);return;case"none":V4(o,n);return;default:throw new Error(`Unsupported client authentication method: ${e}`)}}function L4(e,t,r){if(!t)throw new Error("client_secret_basic authentication requires a client_secret");const n=btoa(`${e}:${t}`);r.set("Authorization",`Basic ${n}`)}function U4(e,t,r){r.set("client_id",e),t&&r.set("client_secret",t)}function V4(e,t){t.set("client_id",e)}async function dm(e){const t=e instanceof Response?e.status:void 0,r=e instanceof Response?await e.text():e;try{const n=D4.parse(JSON.parse(r)),{error:o,error_description:s,error_uri:u}=n,i=M4[o]||ao;return new i(s||"",u)}catch(n){const o=`${t?`HTTP ${t}: `:""}Invalid OAuth error response: ${n}. Raw body: ${r}`;return new ao(o)}}async function uu(e,t){try{return await ea(e,t)}catch(r){if(r instanceof zu||r instanceof qu)return await e.invalidateCredentials?.("all"),await ea(e,t);if(r instanceof ju)return await e.invalidateCredentials?.("tokens"),await ea(e,t);throw r}}async function ea(e,{serverUrl:t,authorizationCode:r,scope:n,resourceMetadataUrl:o,fetchFn:s}){let u,i;try{u=await H4(t,{resourceMetadataUrl:o},s),u.authorization_servers&&u.authorization_servers.length>0&&(i=u.authorization_servers[0])}catch{}i||(i=new URL("/",t));const a=await Z4(t,e,u),c=await Y4(i,{fetchFn:s});let l=await Promise.resolve(e.clientInformation());if(!l){if(r!==void 0)throw new Error("Existing OAuth client information is required when exchanging an authorization code");const b=c?.client_id_metadata_document_supported===!0,k=e.clientMetadataUrl;if(k&&!B4(k))throw new Lu(`clientMetadataUrl must be a valid HTTPS URL with a non-root pathname, got: ${k}`);if(b&&k)l={client_id:k},await e.saveClientInformation?.(l);else{if(!e.saveClientInformation)throw new Error("OAuth client information must be saveable for dynamic registration");const g=await rw(i,{metadata:c,clientMetadata:e.clientMetadata,fetchFn:s});await e.saveClientInformation(g),l=g}}const f=!e.redirectUrl;if(r!==void 0||f){const b=await tw(e,i,{metadata:c,resource:a,authorizationCode:r,fetchFn:s});return await e.saveTokens(b),"AUTHORIZED"}const d=await e.tokens();if(d?.refresh_token)try{const b=await ew(i,{metadata:c,clientInformation:l,refreshToken:d.refresh_token,resource:a,addClientAuthentication:e.addClientAuthentication,fetchFn:s});return await e.saveTokens(b),"AUTHORIZED"}catch(b){if(!(!(b instanceof mt)||b instanceof ao))throw b}const h=e.state?await e.state():void 0,{authorizationUrl:m,codeVerifier:x}=await Q4(i,{metadata:c,clientInformation:l,state:h,redirectUrl:e.redirectUrl,scope:n||u?.scopes_supported?.join(" ")||e.clientMetadata.scope,resource:a});return await e.saveCodeVerifier(x),await e.redirectToAuthorization(m),"REDIRECT"}function B4(e){if(!e)return!1;try{const t=new URL(e);return t.protocol==="https:"&&t.pathname!=="/"}catch{return!1}}async function Z4(e,t,r){const n=F4(e);if(t.validateResourceURL)return await t.validateResourceURL(n,r?.resource);if(r){if(!N4({requestedResource:n,configuredResource:r.resource}))throw new Error(`Protected resource ${r.resource} does not match expected ${n} (or origin)`);return new URL(r.resource)}}function Rd(e){const t=e.headers.get("WWW-Authenticate");if(!t)return{};const[r,n]=t.split(" ");if(r.toLowerCase()!=="bearer"||!n)return{};const o=ta(e,"resource_metadata")||void 0;let s;if(o)try{s=new URL(o)}catch{}const u=ta(e,"scope")||void 0,i=ta(e,"error")||void 0;return{resourceMetadataUrl:s,scope:u,error:i}}function ta(e,t){const r=e.headers.get("WWW-Authenticate");if(!r)return null;const n=new RegExp(`${t}=(?:"([^"]+)"|([^\\s,]+))`),o=r.match(n);return o?o[1]||o[2]:null}async function H4(e,t,r=fetch){const n=await W4(e,"oauth-protected-resource",r,{protocolVersion:t?.protocolVersion,metadataUrl:t?.resourceMetadataUrl});if(!n||n.status===404)throw await n?.body?.cancel(),new Error("Resource server does not implement OAuth 2.0 Protected Resource Metadata.");if(!n.ok)throw await n.body?.cancel(),new Error(`HTTP ${n.status} trying to load well-known OAuth protected resource metadata.`);return $4.parse(await n.json())}async function Kc(e,t,r=fetch){try{return await r(e,{headers:t})}catch(n){if(n instanceof TypeError)return t?Kc(e,void 0,r):void 0;throw n}}function K4(e,t="",r={}){return t.endsWith("/")&&(t=t.slice(0,-1)),r.prependPathname?`${t}/.well-known/${e}`:`/.well-known/${e}${t}`}async function Id(e,t,r=fetch){return await Kc(e,{"MCP-Protocol-Version":t},r)}function J4(e,t){return!e||e.status>=400&&e.status<500&&t!=="/"}async function W4(e,t,r,n){const o=new URL(e),s=n?.protocolVersion??li;let u;if(n?.metadataUrl)u=new URL(n.metadataUrl);else{const a=K4(t,o.pathname);u=new URL(a,n?.metadataServerUrl??o),u.search=o.search}let i=await Id(u,s,r);if(!n?.metadataUrl&&J4(i,o.pathname)){const a=new URL(`/.well-known/${t}`,o);i=await Id(a,s,r)}return i}function G4(e){const t=typeof e=="string"?new URL(e):e,r=t.pathname!=="/",n=[];if(!r)return n.push({url:new URL("/.well-known/oauth-authorization-server",t.origin),type:"oauth"}),n.push({url:new URL("/.well-known/openid-configuration",t.origin),type:"oidc"}),n;let o=t.pathname;return o.endsWith("/")&&(o=o.slice(0,-1)),n.push({url:new URL(`/.well-known/oauth-authorization-server${o}`,t.origin),type:"oauth"}),n.push({url:new URL(`/.well-known/openid-configuration${o}`,t.origin),type:"oidc"}),n.push({url:new URL(`${o}/.well-known/openid-configuration`,t.origin),type:"oidc"}),n}async function Y4(e,{fetchFn:t=fetch,protocolVersion:r=li}={}){const n={"MCP-Protocol-Version":r,Accept:"application/json"},o=G4(e);for(const{url:s,type:u}of o){const i=await Kc(s,n,t);if(i){if(!i.ok){if(await i.body?.cancel(),i.status>=400&&i.status<500)continue;throw new Error(`HTTP ${i.status} trying to load ${u==="oauth"?"OAuth":"OpenID provider"} metadata from ${s}`)}return u==="oauth"?fm.parse(await i.json()):A4.parse(await i.json())}}}async function Q4(e,{metadata:t,clientInformation:r,redirectUrl:n,scope:o,state:s,resource:u}){let i;if(t){if(i=new URL(t.authorization_endpoint),!t.response_types_supported.includes(Qi))throw new Error(`Incompatible auth server: does not support response type ${Qi}`);if(t.code_challenge_methods_supported&&!t.code_challenge_methods_supported.includes(Xi))throw new Error(`Incompatible auth server: does not support code challenge method ${Xi}`)}else i=new URL("/authorize",e);const a=await C4(),c=a.code_verifier,l=a.code_challenge;return i.searchParams.set("response_type",Qi),i.searchParams.set("client_id",r.client_id),i.searchParams.set("code_challenge",l),i.searchParams.set("code_challenge_method",Xi),i.searchParams.set("redirect_uri",String(n)),s&&i.searchParams.set("state",s),o&&i.searchParams.set("scope",o),o?.includes("offline_access")&&i.searchParams.append("prompt","consent"),u&&i.searchParams.set("resource",u.href),{authorizationUrl:i,codeVerifier:c}}function X4(e,t,r){return new URLSearchParams({grant_type:"authorization_code",code:e,code_verifier:t,redirect_uri:String(r)})}async function hm(e,{metadata:t,tokenRequestParams:r,clientInformation:n,addClientAuthentication:o,resource:s,fetchFn:u}){const i=t?.token_endpoint?new URL(t.token_endpoint):new URL("/token",e),a=new Headers({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"});if(s&&r.set("resource",s.href),o)await o(a,r,i,t);else if(n){const l=t?.token_endpoint_auth_methods_supported??[],f=j4(n,l);q4(f,n,a,r)}const c=await(u??fetch)(i,{method:"POST",headers:a,body:r});if(!c.ok)throw await dm(c);return P4.parse(await c.json())}async function ew(e,{metadata:t,clientInformation:r,refreshToken:n,resource:o,addClientAuthentication:s,fetchFn:u}){const i=new URLSearchParams({grant_type:"refresh_token",refresh_token:n}),a=await hm(e,{metadata:t,tokenRequestParams:i,clientInformation:r,addClientAuthentication:s,resource:o,fetchFn:u});return{refresh_token:n,...a}}async function tw(e,t,{metadata:r,resource:n,authorizationCode:o,fetchFn:s}={}){const u=e.clientMetadata.scope;let i;if(e.prepareTokenRequest&&(i=await e.prepareTokenRequest(u)),!i){if(!o)throw new Error("Either provider.prepareTokenRequest() or authorizationCode is required");if(!e.redirectUrl)throw new Error("redirectUrl is required for authorization_code flow");const c=await e.codeVerifier();i=X4(o,c,e.redirectUrl)}const a=await e.clientInformation();return hm(t,{metadata:r,tokenRequestParams:i,clientInformation:a??void 0,addClientAuthentication:e.addClientAuthentication,resource:n,fetchFn:s})}async function rw(e,{metadata:t,clientMetadata:r,fetchFn:n}){let o;if(t){if(!t.registration_endpoint)throw new Error("Incompatible auth server: does not support dynamic client registration");o=new URL(t.registration_endpoint)}else o=new URL("/register",e);const s=await(n??fetch)(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw await dm(s);return O4.parse(await s.json())}class Od extends Error{constructor(t,r){super(t),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function ra(e){}function nw(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=ra,onError:r=ra,onRetry:n=ra,onComment:o}=e;let s="",u=!0,i,a="",c="";function l(x){const b=u?x.replace(/^\xEF\xBB\xBF/,""):x,[k,p]=ow(`${s}${b}`);for(const g of k)f(g);s=p,u=!1}function f(x){if(x===""){h();return}if(x.startsWith(":")){o&&o(x.slice(x.startsWith(": ")?2:1));return}const b=x.indexOf(":");if(b!==-1){const k=x.slice(0,b),p=x[b+1]===" "?2:1,g=x.slice(b+p);d(k,g,x);return}d(x,"",x)}function d(x,b,k){switch(x){case"event":c=b;break;case"data":a=`${a}${b}
`;break;case"id":i=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?n(parseInt(b,10)):r(new Od(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:k}));break;default:r(new Od(`Unknown field "${x.length>20?`${x.slice(0,20)}`:x}"`,{type:"unknown-field",field:x,value:b,line:k}));break}}function h(){a.length>0&&t({id:i,event:c||void 0,data:a.endsWith(`
`)?a.slice(0,-1):a}),i=void 0,a="",c=""}function m(x={}){s&&x.consume&&f(s),u=!0,i=void 0,a="",c="",s=""}return{feed:l,reset:m}}function ow(e){const t=[];let r="",n=0;for(;n<e.length;){const o=e.indexOf("\r",n),s=e.indexOf(`
`,n);let u=-1;if(o!==-1&&s!==-1?u=Math.min(o,s):o!==-1?o===e.length-1?u=-1:u=o:s!==-1&&(u=s),u===-1){r=e.slice(n);break}else{const i=e.slice(n,u);t.push(i),n=u+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[t,r]}class sw extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let o;super({start(s){o=nw({onEvent:u=>{s.enqueue(u)},onError(u){t==="terminate"?s.error(u):typeof t=="function"&&t(u)},onRetry:r,onComment:n})},transform(s){o.feed(s)}})}}const uw={initialReconnectionDelay:1e3,maxReconnectionDelay:3e4,reconnectionDelayGrowFactor:1.5,maxRetries:2};class zn extends Error{constructor(t,r){super(`Streamable HTTP error: ${r}`),this.code=t}}class iw{constructor(t,r){this._hasCompletedAuthFlow=!1,this._url=t,this._resourceMetadataUrl=void 0,this._scope=void 0,this._requestInit=r?.requestInit,this._authProvider=r?.authProvider,this._fetch=r?.fetch,this._fetchWithInit=v4(r?.fetch,r?.requestInit),this._sessionId=r?.sessionId,this._reconnectionOptions=r?.reconnectionOptions??uw}async _authThenStart(){if(!this._authProvider)throw new Mn("No auth provider");let t;try{t=await uu(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})}catch(r){throw this.onerror?.(r),r}if(t!=="AUTHORIZED")throw new Mn;return await this._startOrAuthSse({resumptionToken:void 0})}async _commonHeaders(){const t={};if(this._authProvider){const n=await this._authProvider.tokens();n&&(t.Authorization=`Bearer ${n.access_token}`)}this._sessionId&&(t["mcp-session-id"]=this._sessionId),this._protocolVersion&&(t["mcp-protocol-version"]=this._protocolVersion);const r=Pa(this._requestInit?.headers);return new Headers({...t,...r})}async _startOrAuthSse(t){const{resumptionToken:r}=t;try{const n=await this._commonHeaders();n.set("Accept","text/event-stream"),r&&n.set("last-event-id",r);const o=await(this._fetch??fetch)(this._url,{method:"GET",headers:n,signal:this._abortController?.signal});if(!o.ok){if(await o.body?.cancel(),o.status===401&&this._authProvider)return await this._authThenStart();if(o.status===405)return;throw new zn(o.status,`Failed to open SSE stream: ${o.statusText}`)}this._handleSseStream(o.body,t,!0)}catch(n){throw this.onerror?.(n),n}}_getNextReconnectionDelay(t){if(this._serverRetryMs!==void 0)return this._serverRetryMs;const r=this._reconnectionOptions.initialReconnectionDelay,n=this._reconnectionOptions.reconnectionDelayGrowFactor,o=this._reconnectionOptions.maxReconnectionDelay;return Math.min(r*Math.pow(n,t),o)}_scheduleReconnection(t,r=0){const n=this._reconnectionOptions.maxRetries;if(r>=n){this.onerror?.(new Error(`Maximum reconnection attempts (${n}) exceeded.`));return}const o=this._getNextReconnectionDelay(r);this._reconnectionTimeout=setTimeout(()=>{this._startOrAuthSse(t).catch(s=>{this.onerror?.(new Error(`Failed to reconnect SSE stream: ${s instanceof Error?s.message:String(s)}`)),this._scheduleReconnection(t,r+1)})},o)}_handleSseStream(t,r,n){if(!t)return;const{onresumptiontoken:o,replayMessageId:s}=r;let u,i=!1,a=!1;(async()=>{try{const l=t.pipeThrough(new TextDecoderStream).pipeThrough(new sw({onRetry:h=>{this._serverRetryMs=h}})).getReader();for(;;){const{value:h,done:m}=await l.read();if(m)break;if(h.id&&(u=h.id,i=!0,o?.(h.id)),!!h.data&&(!h.event||h.event==="message"))try{const x=ji.parse(JSON.parse(h.data));To(x)&&(a=!0,s!==void 0&&(x.id=s)),this.onmessage?.(x)}catch(x){this.onerror?.(x)}}(n||i)&&!a&&this._abortController&&!this._abortController.signal.aborted&&this._scheduleReconnection({resumptionToken:u,onresumptiontoken:o,replayMessageId:s},0)}catch(l){if(this.onerror?.(new Error(`SSE stream disconnected: ${l}`)),(n||i)&&!a&&this._abortController&&!this._abortController.signal.aborted)try{this._scheduleReconnection({resumptionToken:u,onresumptiontoken:o,replayMessageId:s},0)}catch(h){this.onerror?.(new Error(`Failed to reconnect: ${h instanceof Error?h.message:String(h)}`))}}})()}async start(){if(this._abortController)throw new Error("StreamableHTTPClientTransport already started! If using Client class, note that connect() calls start() automatically.");this._abortController=new AbortController}async finishAuth(t){if(!this._authProvider)throw new Mn("No auth provider");if(await uu(this._authProvider,{serverUrl:this._url,authorizationCode:t,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Mn("Failed to authorize")}async close(){this._reconnectionTimeout&&(clearTimeout(this._reconnectionTimeout),this._reconnectionTimeout=void 0),this._abortController?.abort(),this.onclose?.()}async send(t,r){try{const{resumptionToken:n,onresumptiontoken:o}=r||{};if(n){this._startOrAuthSse({resumptionToken:n,replayMessageId:Aa(t)?t.id:void 0}).catch(d=>this.onerror?.(d));return}const s=await this._commonHeaders();s.set("content-type","application/json"),s.set("accept","application/json, text/event-stream");const u={...this._requestInit,method:"POST",headers:s,body:JSON.stringify(t),signal:this._abortController?.signal},i=await(this._fetch??fetch)(this._url,u),a=i.headers.get("mcp-session-id");if(a&&(this._sessionId=a),!i.ok){const d=await i.text().catch(()=>null);if(i.status===401&&this._authProvider){if(this._hasCompletedAuthFlow)throw new zn(401,"Server returned 401 after successful authentication");const{resourceMetadataUrl:h,scope:m}=Rd(i);if(this._resourceMetadataUrl=h,this._scope=m,await uu(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Mn;return this._hasCompletedAuthFlow=!0,this.send(t)}if(i.status===403&&this._authProvider){const{resourceMetadataUrl:h,scope:m,error:x}=Rd(i);if(x==="insufficient_scope"){const b=i.headers.get("WWW-Authenticate");if(this._lastUpscopingHeader===b)throw new zn(403,"Server returned 403 after trying upscoping");if(m&&(this._scope=m),h&&(this._resourceMetadataUrl=h),this._lastUpscopingHeader=b??void 0,await uu(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetch})!=="AUTHORIZED")throw new Mn;return this.send(t)}}throw new zn(i.status,`Error POSTing to endpoint: ${d}`)}if(this._hasCompletedAuthFlow=!1,this._lastUpscopingHeader=void 0,i.status===202){await i.body?.cancel(),j3(t)&&this._startOrAuthSse({resumptionToken:void 0}).catch(d=>this.onerror?.(d));return}const l=(Array.isArray(t)?t:[t]).filter(d=>"method"in d&&"id"in d&&d.id!==void 0).length>0,f=i.headers.get("content-type");if(l)if(f?.includes("text/event-stream"))this._handleSseStream(i.body,{onresumptiontoken:o},!1);else if(f?.includes("application/json")){const d=await i.json(),h=Array.isArray(d)?d.map(m=>ji.parse(m)):[ji.parse(d)];for(const m of h)this.onmessage?.(m)}else throw await i.body?.cancel(),new zn(-1,`Unexpected content type: ${f}`);else await i.body?.cancel()}catch(n){throw this.onerror?.(n),n}}get sessionId(){return this._sessionId}async terminateSession(){if(this._sessionId)try{const t=await this._commonHeaders(),r={...this._requestInit,method:"DELETE",headers:t,signal:this._abortController?.signal},n=await(this._fetch??fetch)(this._url,r);if(await n.body?.cancel(),!n.ok&&n.status!==405)throw new zn(n.status,`Failed to terminate session: ${n.statusText}`);this._sessionId=void 0}catch(t){throw this.onerror?.(t),t}}setProtocolVersion(t){this._protocolVersion=t}get protocolVersion(){return this._protocolVersion}async resumeStream(t,r){await this._startOrAuthSse({resumptionToken:t,onresumptiontoken:r?.onresumptiontoken})}}var Ao={exports:{}};var aw=Ao.exports,Fd;function cw(){return Fd||(Fd=1,(function(e,t){(function(r){var n=r.setTimeout,o=r.clearTimeout,s=r.XMLHttpRequest,u=r.XDomainRequest,i=r.ActiveXObject,a=r.EventSource,c=r.document,l=r.Promise,f=r.fetch,d=r.Response,h=r.TextDecoder,m=r.TextEncoder,x=r.AbortController;if(typeof window<"u"&&typeof c<"u"&&!("readyState"in c)&&c.body==null&&(c.readyState="loading",window.addEventListener("load",function($){c.readyState="complete"},!1)),s==null&&i!=null&&(s=function(){return new i("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function($){function O(){}return O.prototype=$,new O}),Date.now||(Date.now=function(){return new Date().getTime()}),x==null){var b=f;f=function($,O){var B=O.signal;return b($,{headers:O.headers,credentials:O.credentials,cache:O.cache}).then(function(N){var K=N.body.getReader();return B._reader=K,B._aborted&&B._reader.cancel(),{status:N.status,statusText:N.statusText,headers:N.headers,body:{getReader:function(){return K}}}})},x=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function k(){this.bitsNeeded=0,this.codePoint=0}k.prototype.decode=function($){function O(le,me,de){if(de===1)return le>=128>>me&&le<<me<=2047;if(de===2)return le>=2048>>me&&le<<me<=55295||le>=57344>>me&&le<<me<=65535;if(de===3)return le>=65536>>me&&le<<me<=1114111;throw new Error}function B(le,me){if(le===6)return me>>6>15?3:me>31?2:1;if(le===12)return me>15?3:2;if(le===18)return 3;throw new Error}for(var N=65533,K="",M=this.bitsNeeded,se=this.codePoint,ee=0;ee<$.length;ee+=1){var ue=$[ee];M!==0&&(ue<128||ue>191||!O(se<<6|ue&63,M-6,B(M,se)))&&(M=0,se=N,K+=String.fromCharCode(se)),M===0?(ue>=0&&ue<=127?(M=0,se=ue):ue>=192&&ue<=223?(M=6,se=ue&31):ue>=224&&ue<=239?(M=12,se=ue&15):ue>=240&&ue<=247?(M=18,se=ue&7):(M=0,se=N),M!==0&&!O(se,M,B(M,se))&&(M=0,se=N)):(M-=6,se=se<<6|ue&63),M===0&&(se<=65535?K+=String.fromCharCode(se):(K+=String.fromCharCode(55296+(se-65535-1>>10)),K+=String.fromCharCode(56320+(se-65535-1&1023))))}return this.bitsNeeded=M,this.codePoint=se,K};var p=function(){try{return new h().decode(new m().encode("test"),{stream:!0})==="test"}catch($){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+$)}return!1};(h==null||m==null||!p())&&(h=k);var g=function(){};function v($){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=g,this.onload=g,this.onerror=g,this.onreadystatechange=g,this._contentType="",this._xhr=$,this._sendTimeout=0,this._abort=g}v.prototype.open=function($,O){this._abort(!0);var B=this,N=this._xhr,K=1,M=0;this._abort=function(de){B._sendTimeout!==0&&(o(B._sendTimeout),B._sendTimeout=0),(K===1||K===2||K===3)&&(K=4,N.onload=g,N.onerror=g,N.onabort=g,N.onprogress=g,N.onreadystatechange=g,N.abort(),M!==0&&(o(M),M=0),de||(B.readyState=4,B.onabort(null),B.onreadystatechange())),K=0};var se=function(){if(K===1){var de=0,ye="",qe=void 0;if("contentType"in N)de=200,ye="OK",qe=N.contentType;else try{de=N.status,ye=N.statusText,qe=N.getResponseHeader("Content-Type")}catch{de=0,ye="",qe=void 0}de!==0&&(K=2,B.readyState=2,B.status=de,B.statusText=ye,B._contentType=qe,B.onreadystatechange())}},ee=function(){if(se(),K===2||K===3){K=3;var de="";try{de=N.responseText}catch{}B.readyState=3,B.responseText=de,B.onprogress()}},ue=function(de,ye){if((ye==null||ye.preventDefault==null)&&(ye={preventDefault:g}),ee(),K===1||K===2||K===3){if(K=4,M!==0&&(o(M),M=0),B.readyState=4,de==="load")B.onload(ye);else if(de==="error")B.onerror(ye);else if(de==="abort")B.onabort(ye);else throw new TypeError;B.onreadystatechange()}},le=function(de){N!=null&&(N.readyState===4?(!("onload"in N)||!("onerror"in N)||!("onabort"in N))&&ue(N.responseText===""?"error":"load",de):N.readyState===3?"onprogress"in N||ee():N.readyState===2&&se())},me=function(){M=n(function(){me()},500),N.readyState===3&&ee()};"onload"in N&&(N.onload=function(de){ue("load",de)}),"onerror"in N&&(N.onerror=function(de){ue("error",de)}),"onabort"in N&&(N.onabort=function(de){ue("abort",de)}),"onprogress"in N&&(N.onprogress=ee),"onreadystatechange"in N&&(N.onreadystatechange=function(de){le(de)}),("contentType"in N||!("ontimeout"in s.prototype))&&(O+=(O.indexOf("?")===-1?"?":"&")+"padding=true"),N.open($,O,!0),"readyState"in N&&(M=n(function(){me()},0))},v.prototype.abort=function(){this._abort(!1)},v.prototype.getResponseHeader=function($){return this._contentType},v.prototype.setRequestHeader=function($,O){var B=this._xhr;"setRequestHeader"in B&&B.setRequestHeader($,O)},v.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},v.prototype.send=function(){if((!("ontimeout"in s.prototype)||!("sendAsBinary"in s.prototype)&&!("mozAnon"in s.prototype))&&c!=null&&c.readyState!=null&&c.readyState!=="complete"){var $=this;$._sendTimeout=n(function(){$._sendTimeout=0,$.send()},4);return}var O=this._xhr;"withCredentials"in O&&(O.withCredentials=this.withCredentials);try{O.send(void 0)}catch(B){throw B}};function _($){return $.replace(/[A-Z]/g,function(O){return String.fromCharCode(O.charCodeAt(0)+32)})}function E($){for(var O=Object.create(null),B=$.split(`\r
`),N=0;N<B.length;N+=1){var K=B[N],M=K.split(": "),se=M.shift(),ee=M.join(": ");O[_(se)]=ee}this._map=O}E.prototype.get=function($){return this._map[_($)]},s!=null&&s.HEADERS_RECEIVED==null&&(s.HEADERS_RECEIVED=2);function T(){}T.prototype.open=function($,O,B,N,K,M,se){$.open("GET",K);var ee=0;$.onprogress=function(){var le=$.responseText,me=le.slice(ee);ee+=me.length,B(me)},$.onerror=function(le){le.preventDefault(),N(new Error("NetworkError"))},$.onload=function(){N(null)},$.onabort=function(){N(null)},$.onreadystatechange=function(){if($.readyState===s.HEADERS_RECEIVED){var le=$.status,me=$.statusText,de=$.getResponseHeader("Content-Type"),ye=$.getAllResponseHeaders();O(le,me,de,new E(ye))}},$.withCredentials=M;for(var ue in se)Object.prototype.hasOwnProperty.call(se,ue)&&$.setRequestHeader(ue,se[ue]);return $.send(),$};function q($){this._headers=$}q.prototype.get=function($){return this._headers.get($)};function Z(){}Z.prototype.open=function($,O,B,N,K,M,se){var ee=null,ue=new x,le=ue.signal,me=new h;return f(K,{headers:se,credentials:M?"include":"same-origin",signal:le,cache:"no-store"}).then(function(de){return ee=de.body.getReader(),O(de.status,de.statusText,de.headers.get("Content-Type"),new q(de.headers)),new l(function(ye,qe){var Te=function(){ee.read().then(function(ce){if(ce.done)ye(void 0);else{var ae=me.decode(ce.value,{stream:!0});B(ae),Te()}}).catch(function(ce){qe(ce)})};Te()})}).catch(function(de){if(de.name!=="AbortError")return de}).then(function(de){N(de)}),{abort:function(){ee?.cancel(),ue.abort()}}};function G(){this._listeners=Object.create(null)}function V($){n(function(){throw $},0)}G.prototype.dispatchEvent=function($){$.target=this;var O=this._listeners[$.type];if(O!=null)for(var B=O.length,N=0;N<B;N+=1){var K=O[N];try{typeof K.handleEvent=="function"?K.handleEvent($):K.call(this,$)}catch(M){V(M)}}},G.prototype.addEventListener=function($,O){$=String($);var B=this._listeners,N=B[$];N==null&&(N=[],B[$]=N);for(var K=!1,M=0;M<N.length;M+=1)N[M]===O&&(K=!0);K||N.push(O)},G.prototype.removeEventListener=function($,O){$=String($);var B=this._listeners,N=B[$];if(N!=null){for(var K=[],M=0;M<N.length;M+=1)N[M]!==O&&K.push(N[M]);K.length===0?delete B[$]:B[$]=K}};function U($){this.type=$,this.target=void 0}function re($,O){U.call(this,$),this.data=O.data,this.lastEventId=O.lastEventId}re.prototype=Object.create(U.prototype);function oe($,O){U.call(this,$),this.status=O.status,this.statusText=O.statusText,this.headers=O.headers}oe.prototype=Object.create(U.prototype);function _e($,O){U.call(this,$),this.error=O.error}_e.prototype=Object.create(U.prototype);var ve=-1,J=0,Y=1,De=2,X=-1,F=0,A=1,P=2,y=3,C=/^text\/event\-stream(;.*)?$/i,z=1e3,H=18e6,Q=function($,O){var B=$==null?O:parseInt($,10);return B!==B&&(B=O),ie(B)},ie=function($){return Math.min(Math.max($,z),H)},ne=function($,O,B){try{typeof O=="function"&&O.call($,B)}catch(N){V(N)}};function I($,O){G.call(this),O=O||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,D(this,$,O)}function w(){return s!=null&&"withCredentials"in s.prototype||u==null?new s:new u}var S=f!=null&&d!=null&&"body"in d.prototype;function D($,O,B){O=String(O);var N=!!B.withCredentials,K=B.lastEventIdQueryParameterName||"lastEventId",M=ie(1e3),se=Q(B.heartbeatTimeout,45e3),ee="",ue=M,le=!1,me=0,de=B.headers||{},ye=B.Transport,qe=S&&ye==null?void 0:new v(ye!=null?new ye:w()),Te=ye!=null&&typeof ye!="string"?new ye:qe==null?new Z:new T,ce=void 0,ae=0,Re=ve,It="",ct="",st="",hn="",lt=F,ki=0,pn=0,Ym=function(ft,it,Lt,Ut){if(Re===J)if(ft===200&&Lt!=null&&C.test(Lt)){Re=Y,le=Date.now(),ue=M,$.readyState=Y;var Ct=new oe("open",{status:ft,statusText:it,headers:Ut});$.dispatchEvent(Ct),ne($,$.onopen,Ct)}else{var gt="";ft!==200?(it&&(it=it.replace(/\s+/g," ")),gt="EventSource's response has a status "+ft+" "+it+" that is not 200. Aborting the connection."):gt="EventSource's response has a Content-Type specifying an unsupported type: "+(Lt==null?"-":Lt.replace(/\s+/g," "))+". Aborting the connection.",Ei();var Ct=new oe("error",{status:ft,statusText:it,headers:Ut});$.dispatchEvent(Ct),ne($,$.onerror,Ct),console.error(gt)}},Qm=function(ft){if(Re===Y){for(var it=-1,Lt=0;Lt<ft.length;Lt+=1){var Ut=ft.charCodeAt(Lt);(Ut===10||Ut===13)&&(it=Lt)}var Ct=(it!==-1?hn:"")+ft.slice(0,it+1);hn=(it===-1?hn:"")+ft.slice(it+1),ft!==""&&(le=Date.now(),me+=ft.length);for(var gt=0;gt<Ct.length;gt+=1){var Ut=Ct.charCodeAt(gt);if(lt===X&&Ut===10)lt=F;else if(lt===X&&(lt=F),Ut===13||Ut===10){if(lt!==F){lt===A&&(pn=gt+1);var Sr=Ct.slice(ki,pn-1),Cr=Ct.slice(pn+(pn<gt&&Ct.charCodeAt(pn)===32?1:0),gt);Sr==="data"?(It+=`
`,It+=Cr):Sr==="id"?ct=Cr:Sr==="event"?st=Cr:Sr==="retry"?(M=Q(Cr,M),ue=M):Sr==="heartbeatTimeout"&&(se=Q(Cr,se),ae!==0&&(o(ae),ae=n(function(){bo()},se)))}if(lt===F){if(It!==""){ee=ct,st===""&&(st="message");var In=new re(st,{data:It.slice(1),lastEventId:ct});if($.dispatchEvent(In),st==="open"?ne($,$.onopen,In):st==="message"?ne($,$.onmessage,In):st==="error"&&ne($,$.onerror,In),Re===De)return}It="",st=""}lt=Ut===13?X:F}else lt===F&&(ki=gt,lt=A),lt===A?Ut===58&&(pn=gt+1,lt=P):lt===P&&(lt=y)}}},ol=function(ft){if(Re===Y||Re===J){Re=ve,ae!==0&&(o(ae),ae=0),ae=n(function(){bo()},ue),ue=ie(Math.min(M*16,ue*2)),$.readyState=J;var it=new _e("error",{error:ft});$.dispatchEvent(it),ne($,$.onerror,it),ft!=null&&console.error(ft)}},Ei=function(){Re=De,ce!=null&&(ce.abort(),ce=void 0),ae!==0&&(o(ae),ae=0),$.readyState=De},bo=function(){if(ae=0,Re!==ve){if(!le&&ce!=null)ol(new Error("No activity within "+se+" milliseconds. "+(Re===J?"No response received.":me+" chars received.")+" Reconnecting.")),ce!=null&&(ce.abort(),ce=void 0);else{var ft=Math.max((le||Date.now())+se-Date.now(),1);le=!1,ae=n(function(){bo()},ft)}return}le=!1,me=0,ae=n(function(){bo()},se),Re=J,It="",st="",ct=ee,hn="",ki=0,pn=0,lt=F;var it=O;if(O.slice(0,5)!=="data:"&&O.slice(0,5)!=="blob:"&&ee!==""){var Lt=O.indexOf("?");it=Lt===-1?O:O.slice(0,Lt+1)+O.slice(Lt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Cr,In){return In===K?"":Cr}),it+=(O.indexOf("?")===-1?"?":"&")+K+"="+encodeURIComponent(ee)}var Ut=$.withCredentials,Ct={};Ct.Accept="text/event-stream";var gt=$.headers;if(gt!=null)for(var Sr in gt)Object.prototype.hasOwnProperty.call(gt,Sr)&&(Ct[Sr]=gt[Sr]);try{ce=Te.open(qe,Ym,Qm,ol,it,Ut,Ct)}catch(Cr){throw Ei(),Cr}};$.url=O,$.readyState=J,$.withCredentials=N,$.headers=de,$._close=Ei,bo()}I.prototype=Object.create(G.prototype),I.prototype.CONNECTING=J,I.prototype.OPEN=Y,I.prototype.CLOSED=De,I.prototype.close=function(){this._close()},I.CONNECTING=J,I.OPEN=Y,I.CLOSED=De,I.prototype.withCredentials=void 0;var L=a;s!=null&&(a==null||!("withCredentials"in a.prototype))&&(L=I),(function($){{var O=$(t);O!==void 0&&(e.exports=O)}})(function($){$.EventSourcePolyfill=I,$.NativeEventSource=a,$.EventSource=L})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:aw:globalThis)})(Ao,Ao.exports)),Ao.exports}var pm=cw();globalThis.EventSource=pm.EventSourcePolyfill;(function(){let t=null;const r=window.fetch;window.fetch=async(...o)=>{const s=await r(...o),u=s.headers.get("mcp-session-id");return u&&(t=u),s};class n extends pm.EventSourcePolyfill{constructor(s,u={}){t&&(u.headers={...u.headers,"Mcp-Session-Id":t}),super(s,u)}}globalThis.EventSource=n})();class lw{constructor(t,r){this.url=t,this.headers=r||{},this.client=null,this.transport=null,this.tools=[],this.isConnected=!1}async connect(){try{this.transport=new iw(new URL(this.url),{requestInit:{headers:this.headers}}),this.client=new x4({name:"webllm-client",version:"1.0.0"},{capabilities:{tools:{}}}),await this.client.connect(this.transport);const t=await this.client.listTools();this.tools=t.tools.map(r=>({type:"function",function:{name:r.name,description:r.description,parameters:r.inputSchema}})),this.isConnected=!0}catch(t){throw t}}async callTool(t,r){if(!this.client)throw new Error("Not connected");const n=await this.client.callTool({name:t,arguments:r});return n.content?.[0]?.type==="text"?n.content[0].text:JSON.stringify(n)}async disconnect(){this.client&&await this.client.close(),this.isConnected=!1}}const Va=(e,t)=>t.some(r=>e instanceof r);let Nd,Md;function fw(){return Nd||(Nd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dw(){return Md||(Md=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ba=new WeakMap,na=new WeakMap,_i=new WeakMap;function hw(e){const t=new Promise((r,n)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",u)},s=()=>{r(Dn(e.result)),o()},u=()=>{n(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",u)});return _i.set(t,e),t}function pw(e){if(Ba.has(e))return;const t=new Promise((r,n)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",u),e.removeEventListener("abort",u)},s=()=>{r(),o()},u=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",u),e.addEventListener("abort",u)});Ba.set(e,t)}let Za={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Ba.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Dn(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mm(e){Za=e(Za)}function mw(e){return dw().includes(e)?function(...t){return e.apply(Ha(this),t),Dn(this.request)}:function(...t){return Dn(e.apply(Ha(this),t))}}function gw(e){return typeof e=="function"?mw(e):(e instanceof IDBTransaction&&pw(e),Va(e,fw())?new Proxy(e,Za):e)}function Dn(e){if(e instanceof IDBRequest)return hw(e);if(na.has(e))return na.get(e);const t=gw(e);return t!==e&&(na.set(e,t),_i.set(t,e)),t}const Ha=e=>_i.get(e);function zd(e,t,{blocked:r,upgrade:n,blocking:o,terminated:s}={}){const u=indexedDB.open(e,t),i=Dn(u);return n&&u.addEventListener("upgradeneeded",a=>{n(Dn(u.result),a.oldVersion,a.newVersion,Dn(u.transaction),a)}),r&&u.addEventListener("blocked",a=>r(a.oldVersion,a.newVersion,a)),i.then(a=>{s&&a.addEventListener("close",()=>s()),o&&a.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),i}const bw=["get","getKey","getAll","getAllKeys","count"],_w=["put","add","delete","clear"],oa=new Map;function jd(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(oa.get(t))return oa.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=_w.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||bw.includes(r)))return;const s=async function(u,...i){const a=this.transaction(u,o?"readwrite":"readonly");let c=a.store;return n&&(c=c.index(i.shift())),(await Promise.all([c[r](...i),o&&a.done]))[0]};return oa.set(t,s),s}mm(e=>({...e,get:(t,r,n)=>jd(t,r)||e.get(t,r,n),has:(t,r)=>!!jd(t,r)||e.has(t,r)}));const yw=["continue","continuePrimaryKey","advance"],qd={},Ka=new WeakMap,gm=new WeakMap,xw={get(e,t){if(!yw.includes(t))return e[t];let r=qd[t];return r||(r=qd[t]=function(...n){Ka.set(this,gm.get(this)[t](...n))}),r}};async function*vw(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,xw);for(gm.set(r,t),_i.set(r,Ha(t));t;)yield r,t=await(Ka.get(r)||t.continue()),Ka.delete(r)}function Ld(e,t){return t===Symbol.asyncIterator&&Va(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Va(e,[IDBIndex,IDBObjectStore])}mm(e=>({...e,get(t,r,n){return Ld(t,r)?vw:e.get(t,r,n)},has(t,r){return Ld(t,r)||e.has(t,r)}}));const ww="webllm_chat_db",kw="webllm_encrypted_db",sr="messages",kn="projects",Hr="chats",En="encrypted_projects",Eo="encrypted_content",Ew=2,Sw=1;class Cw{constructor(){this._initDb(),this._initEncryptedDb()}_initDb(){this.dbPromise=zd(ww,Ew,{upgrade(t,r,n,o){if(t.objectStoreNames.contains(sr)||t.createObjectStore(sr,{keyPath:"id"}).createIndex("timestamp","timestamp"),r<2){if(t.objectStoreNames.contains(kn)||t.createObjectStore(kn,{keyPath:"id"}).createIndex("createdAt","createdAt"),!t.objectStoreNames.contains(Hr)){const u=t.createObjectStore(Hr,{keyPath:"id"});u.createIndex("projectId","projectId"),u.createIndex("updatedAt","updatedAt")}const s=o.objectStore(sr);s.indexNames.contains("chatId")||s.createIndex("chatId","chatId")}},terminated(){console.warn("IDB terminated unexpectedly")}})}_initEncryptedDb(){this.encryptedDbPromise=zd(kw,Sw,{upgrade(t){t.objectStoreNames.contains(En)||t.createObjectStore(En,{keyPath:"id"}).createIndex("createdAt","createdAt"),t.objectStoreNames.contains(Eo)||t.createObjectStore(Eo,{keyPath:"projectId"})},terminated(){console.warn("Encrypted IDB terminated unexpectedly")}})}async _run(t){try{const r=await this.dbPromise;return await t(r)}catch(r){if(r.name==="InvalidStateError"||r.message?.includes("closing")||r.message?.includes("closed")){console.warn("Database connection closed or invalid, reopening...",r),this._initDb();const n=await this.dbPromise;return await t(n)}throw r}}async createProject(t,r=null){return this._run(async n=>{const o={id:crypto.randomUUID(),name:t,systemPrompt:r||null,createdAt:Date.now()};return await n.put(kn,o),o})}async updateProject(t){return this._run(async r=>{await r.put(kn,t)})}async getProjects(){return this._run(async t=>await t.getAllFromIndex(kn,"createdAt"))}async deleteProject(t){return this._run(async r=>{const n=await this.getChats(t),o=r.transaction([kn,Hr,sr],"readwrite"),s=o.objectStore(kn),u=o.objectStore(Hr),i=o.objectStore(sr);await s.delete(t);for(const a of n){const c=await i.index("chatId").getAllKeys(a.id);for(const l of c)await i.delete(l);await u.delete(a.id)}await o.done})}async createChat(t,r="New Chat"){return this._run(async n=>{const o={id:crypto.randomUUID(),projectId:t,title:r,createdAt:Date.now(),updatedAt:Date.now()};return await n.put(Hr,o),o})}async updateChat(t){return this._run(async r=>{t.updatedAt=Date.now(),await r.put(Hr,t)})}async getChats(t){return this._run(async r=>(await r.getAllFromIndex(Hr,"updatedAt")).filter(o=>o.projectId===t).reverse())}async deleteChat(t){return this._run(async r=>{await r.delete(Hr,t)})}async addMessage(t){return this._run(async r=>(t.id||(t.id=crypto.randomUUID()),t.timestamp||(t.timestamp=Date.now()),await r.put(sr,t),t))}async deleteMessage(t){return this._run(async r=>{await r.delete(sr,t)})}async _runEncrypted(t){try{const r=await this.encryptedDbPromise;return await t(r)}catch(r){if(r.name==="InvalidStateError"||r.message?.includes("closing")||r.message?.includes("closed")){console.warn("Encrypted database connection closed, reopening...",r),this._initEncryptedDb();const n=await this.encryptedDbPromise;return await t(n)}throw r}}async createEncryptedProject(t,r){return this._runEncrypted(async n=>{const o={id:crypto.randomUUID(),name:t,passwordHash:r,isPasswordProtected:!0,createdAt:Date.now()};return await n.put(En,o),o})}async getEncryptedProjects(){return this._runEncrypted(async t=>t.getAll(En))}async getEncryptedProject(t){return this._runEncrypted(async r=>r.get(En,t))}async updateEncryptedProject(t){return this._runEncrypted(async r=>{await r.put(En,t)})}async deleteEncryptedProject(t){return this._runEncrypted(async r=>{await r.delete(En,t),await r.delete(Eo,t)})}async saveEncryptedContent(t,r){return this._runEncrypted(async n=>{const o={projectId:t,...r,updatedAt:Date.now()};await n.put(Eo,o)})}async getEncryptedContent(t){return this._runEncrypted(async r=>r.get(Eo,t))}async updateMessage(t){return this._run(async r=>{await r.put(sr,t)})}async getMessages(t,r=50){return this._run(async n=>{const u=await n.transaction(sr,"readonly").store.index("chatId").getAll(t);return u.sort((i,a)=>i.timestamp-a.timestamp),r&&u.length>r?u.slice(u.length-r):u})}async getRecentMessages(t=20){return this._run(async r=>{let s=await r.transaction(sr,"readonly").store.index("timestamp").openCursor(null,"prev");const u=[];for(;s&&u.length<t;)u.unshift(s.value),s=await s.continue();return u})}async clearMessages(){return this._run(async t=>{await t.clear(sr)})}}const Ve=new Cw,$w={};var Ja=null;function Tw(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return $w.randomBytes(e)}catch{}if(!Ja)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Ja(e)}function Aw(e){Ja=e}function Jc(e,t){if(e=e||Wc,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(Uu(Tw(Jo),Jo)),r.join("")}function bm(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=Wc;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(o){ar(function(){try{o(null,Jc(e))}catch(s){o(s)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(o,s){n(function(u,i){if(u){s(u);return}o(i)})})}function _m(e,t){if(typeof t>"u"&&(t=Wc),typeof t=="number"&&(t=Jc(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Wa(e,t)}function ym(e,t,r,n){function o(s){typeof e=="string"&&typeof t=="number"?bm(t,function(u,i){Wa(e,i,s,n)}):typeof e=="string"&&typeof t=="string"?Wa(e,t,s,n):ar(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(s,u){o(function(i,a){if(i){u(i);return}s(a)})})}function xm(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function Pw(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:xm(_m(e,t.substring(0,t.length-31)),t)}function Dw(e,t,r,n){function o(s){if(typeof e!="string"||typeof t!="string"){ar(s.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){ar(s.bind(this,null,!1));return}ym(e,t.substring(0,29),function(u,i){u?s(u):s(null,xm(i,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);o(r)}else return new Promise(function(s,u){o(function(i,a){if(i){u(i);return}s(a)})})}function Rw(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function Iw(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function Ow(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return vm(e)>72}var ar=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function vm(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function Fw(e){for(var t=0,r,n,o=new Array(vm(e)),s=0,u=e.length;s<u;++s)r=e.charCodeAt(s),r<128?o[t++]=r:r<2048?(o[t++]=r>>6|192,o[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++s,o[t++]=r>>18|240,o[t++]=r>>12&63|128,o[t++]=r>>6&63|128,o[t++]=r&63|128):(o[t++]=r>>12|224,o[t++]=r>>6&63|128,o[t++]=r&63|128);return o}var jn="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Kr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Uu(e,t){var r=0,n=[],o,s;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(o=e[r++]&255,n.push(jn[o>>2&63]),o=(o&3)<<4,r>=t){n.push(jn[o&63]);break}if(s=e[r++]&255,o|=s>>4&15,n.push(jn[o&63]),o=(s&15)<<2,r>=t){n.push(jn[o&63]);break}s=e[r++]&255,o|=s>>6&3,n.push(jn[o&63]),n.push(jn[s&63])}return n.join("")}function wm(e,t){var r=0,n=e.length,o=0,s=[],u,i,a,c,l,f;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&o<t&&(f=e.charCodeAt(r++),u=f<Kr.length?Kr[f]:-1,f=e.charCodeAt(r++),i=f<Kr.length?Kr[f]:-1,!(u==-1||i==-1||(l=u<<2>>>0,l|=(i&48)>>4,s.push(String.fromCharCode(l)),++o>=t||r>=n)||(f=e.charCodeAt(r++),a=f<Kr.length?Kr[f]:-1,a==-1)||(l=(i&15)<<4>>>0,l|=(a&60)>>2,s.push(String.fromCharCode(l)),++o>=t||r>=n)));)f=e.charCodeAt(r++),c=f<Kr.length?Kr[f]:-1,l=(a&3)<<6>>>0,l|=c,s.push(String.fromCharCode(l)),++o;var d=[];for(r=0;r<o;r++)d.push(s[r].charCodeAt(0));return d}var Jo=16,Wc=10,Nw=16,Mw=100,Ud=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Vd=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],km=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Wo(e,t,r,n){var o,s=e[t],u=e[t+1];return s^=r[0],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[1],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[2],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[3],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[4],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[5],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[6],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[7],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[8],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[9],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[10],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[11],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[12],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[13],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[14],o=n[s>>>24],o+=n[256|s>>16&255],o^=n[512|s>>8&255],o+=n[768|s&255],u^=o^r[15],o=n[u>>>24],o+=n[256|u>>16&255],o^=n[512|u>>8&255],o+=n[768|u&255],s^=o^r[16],e[t]=u^r[Nw+1],e[t+1]=s,e}function Vn(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function Bd(e,t,r){for(var n=0,o=[0,0],s=t.length,u=r.length,i,a=0;a<s;a++)i=Vn(e,n),n=i.offp,t[a]=t[a]^i.key;for(a=0;a<s;a+=2)o=Wo(o,0,t,r),t[a]=o[0],t[a+1]=o[1];for(a=0;a<u;a+=2)o=Wo(o,0,t,r),r[a]=o[0],r[a+1]=o[1]}function zw(e,t,r,n){for(var o=0,s=[0,0],u=r.length,i=n.length,a,c=0;c<u;c++)a=Vn(t,o),o=a.offp,r[c]=r[c]^a.key;for(o=0,c=0;c<u;c+=2)a=Vn(e,o),o=a.offp,s[0]^=a.key,a=Vn(e,o),o=a.offp,s[1]^=a.key,s=Wo(s,0,r,n),r[c]=s[0],r[c+1]=s[1];for(c=0;c<i;c+=2)a=Vn(e,o),o=a.offp,s[0]^=a.key,a=Vn(e,o),o=a.offp,s[1]^=a.key,s=Wo(s,0,r,n),n[c]=s[0],n[c+1]=s[1]}function Zd(e,t,r,n,o){var s=km.slice(),u=s.length,i;if(r<4||r>31)if(i=Error("Illegal number of rounds (4-31): "+r),n){ar(n.bind(this,i));return}else throw i;if(t.length!==Jo)if(i=Error("Illegal salt length: "+t.length+" != "+Jo),n){ar(n.bind(this,i));return}else throw i;r=1<<r>>>0;var a,c,l=0,f;typeof Int32Array=="function"?(a=new Int32Array(Ud),c=new Int32Array(Vd)):(a=Ud.slice(),c=Vd.slice()),zw(t,e,a,c);function d(){if(o&&o(l/r),l<r)for(var m=Date.now();l<r&&(l=l+1,Bd(e,a,c),Bd(t,a,c),!(Date.now()-m>Mw)););else{for(l=0;l<64;l++)for(f=0;f<u>>1;f++)Wo(s,f<<1,a,c);var x=[];for(l=0;l<u;l++)x.push((s[l]>>24&255)>>>0),x.push((s[l]>>16&255)>>>0),x.push((s[l]>>8&255)>>>0),x.push((s[l]&255)>>>0);if(n){n(null,x);return}else return x}n&&ar(d)}if(typeof n<"u")d();else for(var h;;)if(typeof(h=d())<"u")return h||[]}function Wa(e,t,r,n){var o;if(typeof e!="string"||typeof t!="string")if(o=Error("Invalid string / salt: Not a string"),r){ar(r.bind(this,o));return}else throw o;var s,u;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(o=Error("Invalid salt version: "+t.substring(0,2)),r){ar(r.bind(this,o));return}else throw o;if(t.charAt(2)==="$")s="\0",u=3;else{if(s=t.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||t.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+t.substring(2,4)),r){ar(r.bind(this,o));return}else throw o;u=4}if(t.charAt(u+2)>"$")if(o=Error("Missing salt rounds"),r){ar(r.bind(this,o));return}else throw o;var i=parseInt(t.substring(u,u+1),10)*10,a=parseInt(t.substring(u+1,u+2),10),c=i+a,l=t.substring(u+3,u+25);e+=s>="a"?"\0":"";var f=Fw(e),d=wm(l,Jo);function h(m){var x=[];return x.push("$2"),s>="a"&&x.push(s),x.push("$"),c<10&&x.push("0"),x.push(c.toString()),x.push("$"),x.push(Uu(d,d.length)),x.push(Uu(m,km.length*4-1)),x.join("")}if(typeof r>"u")return h(Zd(f,d,c));Zd(f,d,c,function(m,x){m?r(m,null):r(null,h(x))},n)}function jw(e,t){return Uu(e,t)}function qw(e,t){return wm(e,t)}const Hd={setRandomFallback:Aw,genSaltSync:Jc,genSalt:bm,hashSync:_m,hash:ym,compareSync:Pw,compare:Dw,getRounds:Rw,getSalt:Iw,truncates:Ow,encodeBase64:jw,decodeBase64:qw};class Lw{constructor(){this.SALT_ROUNDS=10,this.KEY_ITERATIONS=1e5}async hashPassword(t){return Hd.hash(t,this.SALT_ROUNDS)}async verifyPassword(t,r){return Hd.compare(t,r)}generateSalt(){const t=crypto.getRandomValues(new Uint8Array(16));return this._arrayBufferToBase64(t)}async deriveKey(t,r){const o=new TextEncoder().encode(t),s=this._base64ToArrayBuffer(r),u=await crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveBits","deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:s,iterations:this.KEY_ITERATIONS,hash:"SHA-256"},u,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encrypt(t,r){const o=new TextEncoder().encode(JSON.stringify(t)),s=crypto.getRandomValues(new Uint8Array(12)),u=await crypto.subtle.encrypt({name:"AES-GCM",iv:s},r,o);return{encrypted:this._arrayBufferToBase64(u),iv:this._arrayBufferToBase64(s)}}async decrypt(t,r,n){const o=this._base64ToArrayBuffer(t),s=this._base64ToArrayBuffer(n);try{const u=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},r,o),a=new TextDecoder().decode(u);return JSON.parse(a)}catch{throw new Error("Decryption failed - invalid password or corrupted data")}}async encryptProject(t,r){const n=this.generateSalt(),o=await this.deriveKey(r,n),{encrypted:s,iv:u}=await this.encrypt(t.chats||[],o),{encrypted:i,iv:a}=await this.encrypt(t.messages||[],o),{encrypted:c,iv:l}=await this.encrypt(t.systemPrompt||null,o);return{salt:n,encryptedChats:s,chatsIv:u,encryptedMessages:i,messagesIv:a,encryptedSystemPrompt:c,systemPromptIv:l}}async decryptProject(t,r){const n=await this.deriveKey(r,t.salt),o=await this.decrypt(t.encryptedChats,n,t.chatsIv),s=await this.decrypt(t.encryptedMessages,n,t.messagesIv),u=await this.decrypt(t.encryptedSystemPrompt,n,t.systemPromptIv);return{chats:o,messages:s,systemPrompt:u}}_arrayBufferToBase64(t){const r=new Uint8Array(t);let n="";for(let o=0;o<r.byteLength;o++)n+=String.fromCharCode(r[o]);return btoa(n)}_base64ToArrayBuffer(t){const r=atob(t),n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n.buffer}}const iu=new Lw;function Uw(e){return new Worker("/assets/llm.worker-u2hOuh_Y.js",{type:"module",name:e?.name})}function Vw(e){return new Worker("/assets/eval.worker-DxfcHmwE.js",{type:"module",name:e?.name})}const Em=[{id:"Hermes-3-Llama-3.1-8B-q4f32_1-MLC",name:"Hermes 3 (Llama 3.1 8B)"},{id:"TinyLlama-1.1B-Chat-v0.4-q4f32_1-MLC-1k",name:"TinyLlama 1.1B"},{id:"Llama-3.2-3B-Instruct-q4f16_1-MLC",name:"Llama 3.2 3B"},{id:"Hermes-3-Llama-3.1-8B-q4f16_1-MLC",name:"Hermes 3 (Llama 3.1 8B - q4f16)"},{id:"Qwen2.5-Coder-3B-Instruct-q4f32_1-MLC",name:"Qwen2.5-Coder-3B"}],Bn=`You are a helpful and capable AI assistant with access to powerful tools.

YOUR PRIMARY DIRECTIVE: Always listen carefully to the user's request and do exactly what they ask. Be helpful, accurate, and responsive to their needs.

TOOL USAGE PROTOCOL:
1. DISCOVER: You do not know your tools yet. ALWAYS start by calling '{"name": "listTools", "arguments": {}}' to see what functions are available.
2. LEARN: Before using any tool, you MUST call '{"name": "getToolSchema", "arguments": {"name": "<tool_name>"}}' to understand its arguments.
3. EXECUTE: Call the tool using the exact schema you retrieved.
4. CODE EVALS: You can use evalCode to run any code in browser '{"name": "evalCode", "arguments": {"code": "result = <YOUR_CODE>; return result;"}}'. You must end your code with 'return <VAR>;'

AVAILABLE TOOLS: {{listTools}}

IMPORTANT RULES:
- ALWAYS prioritize what the user asks for - your job is to help them accomplish their goals
- Use the 'evalCode' tool for all math, logic, date/time calculations, and JavaScript execution
- Reply naturally to greetings (e.g., "Hi", "Hello") without using tools
- When the user asks you to do something, DO IT - don't just explain how to do it
- Output strictly valid JSON for tool calls: {"name": "tool_name", "arguments": { ... }}
- Be proactive and helpful - if you can solve the user's problem with available tools, do so immediately`,Ot=Se(null),au=Se(!1),Jr=Se(!1),Kd=Se(0),Jd=Se("Initializing..."),mr=Se([]),qn=Se(Bn),Tt=Se([]),kt=Se(null),Ft=Se([]),ur=Se(null),cu=Se("General"),lu=Se(new Map),Wd=Se(!1),Gd=Se(null),Yd=Se(""),fu=Se(""),Bw=Em,du=Se(Em[0].id),ir=rs([]),Wr=Se(null),Qd=Se(new Set),hu=Se(!0);function Sm(){const e=()=>{const A=ir.map(P=>({url:P.url,enabled:P.enabled,name:P.name,headers:P.headers}));localStorage.setItem("mcp_configs",JSON.stringify(A)),kt.value&&localStorage.setItem("last_project_id",kt.value),ur.value&&localStorage.setItem("last_chat_id",ur.value),localStorage.setItem("use_safe_eval",String(hu.value))},t=async()=>{const A=localStorage.getItem("mcp_configs");if(A)try{const y=JSON.parse(A);for(const C of y)await k(C.url,C.enabled,C.name,C.headers)}catch(y){console.error("Failed to load servers",y)}const P=localStorage.getItem("use_safe_eval");P!==null&&(hu.value=P==="true")},r=async()=>{qn.value=Bn,kt.value&&await n(Bn)},n=async A=>{if(!kt.value)return;const P=Tt.value.find(y=>y.id===kt.value);P&&(P.systemPrompt=A,await Ve.updateProject(Ie(P)),qn.value=A)},o=async()=>{const A=await Ve.getProjects(),P=await Ve.getEncryptedProjects();if(Tt.value=[...A,...P],Tt.value.length===0){const z=await Ve.createProject("Default Project");Tt.value=[z]}const y=localStorage.getItem("last_project_id"),C=Tt.value.find(z=>z.id===y)||Tt.value[0];await s(C.id)},s=async A=>{kt.value=A;const P=Tt.value.find(y=>y.id===A);if(P?qn.value=P.systemPrompt||Bn:qn.value=Bn,Ft.value=await Ve.getChats(A),Ft.value.length>0){const y=localStorage.getItem("last_chat_id"),C=Ft.value.find(z=>z.id===y)||Ft.value[0];await f(C.id)}else{const y=await Ve.createChat(A,"General");Ft.value=[y],await f(y.id)}e()},u=async A=>{const P=await Ve.createProject(A);Tt.value.push(P),await s(P.id)},i=async(A,P)=>{try{const y=await iu.hashPassword(P),C=await Ve.createEncryptedProject(A,y);Tt.value.push(C);const z={chats:[],messages:[],systemPrompt:null},H=await iu.encryptProject(z,P);await Ve.saveEncryptedContent(C.id,H),await s(C.id)}catch(y){throw console.error("Failed to create encrypted project:",y),y}},a=async(A,P)=>{try{fu.value="";const y=await Ve.getEncryptedProject(A);if(!y)throw new Error("Project not found");if(!await iu.verifyPassword(P,y.passwordHash))return fu.value="Incorrect password",!1;const z=await Ve.getEncryptedContent(A);if(!z)throw new Error("Encrypted content not found");const H=await iu.decryptProject(z,P);return lu.value.set(A,H),Wd.value=!1,Gd.value=null,Yd.value="",!0}catch(y){return console.error("Failed to unlock project:",y),fu.value=y.message||"Failed to unlock project",!1}},c=A=>{lu.value.delete(A),kt.value===A&&(Ft.value=[],mr.value=[])},l=A=>{const P=Tt.value.find(y=>y.id===A);return!P||!P.isPasswordProtected?!1:!lu.value.has(A)},f=async A=>{ur.value=A,mr.value=await Ve.getMessages(A,50);const P=Ft.value.find(y=>y.id===A);P&&(cu.value=P.title),e()},d=async()=>{if(!kt.value)return;const A=await Ve.createChat(kt.value,"New Chat");Ft.value=await Ve.getChats(kt.value),await f(A.id)},h=async(A,P)=>{const y=Ft.value.find(C=>C.id===A);y&&(y.title=P,await Ve.updateChat(Ie(y)),ur.value===A&&(cu.value=P))},m=async A=>{await Ve.deleteChat(A),Ft.value=await Ve.getChats(kt.value),ur.value===A&&(Ft.value.length>0?await f(Ft.value[0].id):await d())},x=async A=>{if(Tt.value.find(y=>y.id===A)?.isPasswordProtected?(await Ve.deleteEncryptedProject(A),lu.value.delete(A)):await Ve.deleteProject(A),await o(),kt.value===A)if(Tt.value.length>0)await s(Tt.value[0].id);else{const y=await Ve.createProject("Default Project");Tt.value=[y],await s(y.id)}},b=async A=>{A.status="connecting",A.error=null,A.client=new lw(A.url,A.headers);try{await A.client.connect(),A.status="connected",A.toolCount=A.client.tools.length}catch(P){A.status="error",A.error=P.message,A.toolCount=0}},k=async(A,P=!0,y="",C={})=>{const z=A.trim().replace(/\/$/,""),H=ir.find(ie=>ie.url===z);if(H){y&&!H.name&&(H.name=y,e());return}const Q=rs({id:Date.now()+Math.random(),url:z,name:y||"",headers:C||{},enabled:P,status:"idle",toolCount:0,error:null,client:null});ir.push(Q),P?await b(Q):Q.status="disabled",e()},p=async A=>{const P=ir.find(y=>y.id===A);if(P){if(P.enabled=!P.enabled,P.enabled)await b(P);else{if(P.client){try{await P.client.disconnect()}catch(y){console.warn(y)}P.client=null}P.status="disabled",P.toolCount=0}e()}},g=async A=>{const P=ir.findIndex(y=>y.id===A);if(P!==-1){const y=ir[P];if(y.client)try{await y.client.disconnect()}catch(C){console.warn(C)}ir.splice(P,1),e()}},v=()=>{const A=ir.filter(ie=>ie.enabled&&ie.status==="connected"&&ie.client).flatMap(ie=>ie.client.tools),y=[...[{type:"function",function:{name:"getToolSchema",description:"Get the input schema for a specific tool.",parameters:{type:"object",properties:{name:{type:"string",description:"The name of the tool to inspect."}},required:["name"]}}},{type:"function",function:{name:"evalCode",description:"Execute JavaScript code. Use this for math, date/time, text processing, or logic.",parameters:{type:"object",properties:{code:{type:"string",description:"The JavaScript code to execute. The last expression must include return statement. e.g: return Math.sqrt(144)"}},required:["code"]}}},{type:"function",function:{name:"listTools",description:"List available tools. Returns a list of tool names and descriptions. Supports searching by query string (BM25-like ranking) or regex.",parameters:{type:"object",properties:{query:{type:"string",description:"Optional search query to filter tools."},use_regex:{type:"boolean",description:"If true, treats the query as a regular expression."}}}}}],...A],C=y.map(ie=>ie.function.name==="getToolSchema"||ie.function.name==="evalCode"||ie.function.name==="listTools"?ie:{...ie,function:{...ie.function,parameters:{type:"object",properties:{},description:"Parameters hidden. Call getToolSchema to view."}}}),z=C.map(ie=>`
- ${ie.function.name}: ${ie.function.description||"No description available."}`).join(""),H=C.map(ie=>ie.function.name).join(", ");let Q=qn.value.trim();return Q||(Q=Bn),Q=Q.replace("{{listTools}}",z),Q=Q.replace("{{tool_names}}",H),{prompt:{role:"system",content:Q},tools:y,llmTools:C}},_=async()=>{await t(),await o(),!Ot.value&&(au.value=!0,Ot.value=new Uw,Ot.value.onmessage=async A=>{const{type:P,data:y,message:C,error:z}=A.data;P==="progress"?(Kd.value=y.progress,Jd.value=y.text):P==="ready"?au.value=!1:P==="complete"?(C.content&&C.content.includes("Got error: SyntaxError:")&&(C.content=C.content.split("Got error:")[0].trim()),C.id||(C.id=crypto.randomUUID()),C.chatId=ur.value,await Ve.addMessage(C),await re(C)):P==="error"&&(console.error("Worker Error:",z),T({role:"assistant",content:`_Error: ${z}_`}),Jr.value=!1)},Ot.value.postMessage({type:"init",payload:{modelId:du.value}}))},E=async A=>{A===du.value&&Ot.value||(du.value=A,Ot.value&&(Ot.value.terminate(),Ot.value=null),Jr.value=!1,await _())},T=A=>{A.timestamp||(A.timestamp=Date.now()),ur.value?(A.chatId=ur.value,Ve.addMessage(A),mr.value.push(A)):console.error("CRITICAL: No active chat ID",A)},q=async A=>{if(!Ot.value||!A.trim())return;if(!ur.value)if(console.warn("No active chat, attempting to create one..."),kt.value){const y=await Ve.createChat(kt.value,"New Chat");Ft.value=await Ve.getChats(kt.value),await f(y.id)}else await o();if(cu.value==="New Chat"&&mr.value.length<2){const y=A.slice(0,30)+(A.length>30?"...":"");await h(ur.value,y)}const P={role:"user",content:A,timestamp:Date.now()};T(P),Jr.value=!0,Z()},Z=()=>{const{prompt:A,llmTools:P}=v(),y=[],C=mr.value.filter(Q=>Q.role!=="system");for(let Q=0;Q<C.length;Q++){const ie=C[Q],ne=JSON.parse(JSON.stringify(ie));if(ne.role==="assistant"&&ne.tool_calls&&ne.tool_calls.length>0){const I=ne.tool_calls.map(S=>{let D=S.function.arguments;if(typeof D=="string")try{D=JSON.parse(D)}catch{}return{name:S.function.name,arguments:D}}),w="```json\n"+JSON.stringify(I,null,2)+"\n```";ne.content?ne.content+=`
${w}`:ne.content=w,delete ne.tool_calls}ne.role==="tool"&&(ne.role="user",ne.content=`Tool Output [${ne.name}]:
${ne.content}`,delete ne.tool_call_id,delete ne.name),ne.role==="assistant"&&ne.content===null&&(ne.content=""),y.push(ne)}const z=[A,...y],H=JSON.parse(JSON.stringify({messages:z,tools:P}));Ot.value.postMessage({type:"chat",payload:H})},G=new lm,V=A=>{if(!A)return{};if(A.example)return A.example;if(A.default)return A.default;if(A.const)return A.const;if(A.enum&&A.enum.length>0)return A.enum[0];const P=Array.isArray(A.type)?A.type[0]:A.type;if(P==="object"){const y={},C=A.required||[];if(A.properties)for(const[z,H]of Object.entries(A.properties))C.includes(z)&&(y[z]=V(H));return y}return P==="array"?A.items?[V(A.items)]:[]:P==="string"?"example_string":P==="number"||P==="integer"?123:P==="boolean"?!0:P==="null"?null:{}},U=(A,P)=>{if(A.function.name==="getToolSchema")return{valid:!0};const y=P.find(C=>C.function.name===A.function.name);if(!y)return{valid:!1,error:`Tool '${A.function.name}' not found.`};try{const C=JSON.parse(A.function.arguments);if(y.function.parameters){const z=G.compile(y.function.parameters);if(!z(C))return{valid:!1,error:G.errorsText(z.errors),schema:y.function.parameters}}return{valid:!0}}catch(C){return{valid:!1,error:"Invalid JSON arguments: "+C.message,schema:y.function.parameters}}},re=async A=>{let P=A.tool_calls;if(P&&!Array.isArray(P)&&(A.tool_calls=[P],P=A.tool_calls),P&&P.length>0){const{tools:y}=v(),C=P.map($=>({call:$,result:U($,y)}));C.some($=>!$.result.valid);const z=C.findIndex($=>!$.result.valid);let H=[],Q=null;z!==-1?(H=C.slice(0,z).map($=>$.call),Q=C[z]):H=P;const ie=new Map,ne=[];for(const $ of H){const O=`${$.function.name}::${$.function.arguments}`;ie.has(O)||(ie.set(O,!0),ne.push($))}H=ne;const I=[...H];Q&&I.push(Q.call),A.tool_calls&&Array.isArray(A.tool_calls)&&(A.tool_calls=I),await Ve.updateMessage(A),mr.value.push(A);const w=localStorage.getItem("mcp_allow_all")==="true",S=["getToolSchema","listTools"],D=H.filter($=>!(S.includes($.function.name)||w||Qd.value.has($.function.name))),L=async()=>{if(H.length>0&&await J(H),Q){const{call:$,result:O}=Q;let B=`Error: ${O.error}`;if(O.schema){const N=V(O.schema),K={name:$.function.name,arguments:N};B+=`

Expected Schema:
${JSON.stringify(O.schema,null,2)}

Expected Example:
${JSON.stringify(K,null,2)}

You MUST generate a NEW tool call with the name '${$.function.name}' and the corrected arguments based on the JSON schema above.`}else B+=`

The tool '${$.function.name}' does not exist. Use '{"name": "listTools", "arguments": {}}' to see available tools.`;T({role:"tool",tool_call_id:$.id,content:B,name:$.function.name}),Z()}};D.length===0?await L():Wr.value={calls:H,errorCall:Q}}else mr.value.push(A),Jr.value=!1},oe=async A=>{if(!Wr.value)return;const P=Wr.value.calls,y=Wr.value.errorCall;if(A==="always"&&localStorage.setItem("mcp_allow_all","true"),A==="session"&&P.forEach(C=>Qd.value.add(C.function.name)),Wr.value=null,await J(P),y){const{call:C,result:z}=y;let H="";if(z.schema){const Q=V(z.schema),ie={name:C.function.name,arguments:Q};H+=`

Expected Schema:
${JSON.stringify(z.schema,null,2)}

Expected Example:
${JSON.stringify(ie,null,2)}

You MUST generate a NEW tool call with the name '${C.function.name}' and the corrected arguments based on the JSON schema above.

What was wrong with your input: ${z.error}`}T({role:"tool",tool_call_id:C.id,content:H,name:C.function.name}),Z()}},_e=()=>{Wr.value=null,Jr.value=!1,T({role:"assistant",content:"_Tool execution declined._"})},ve=async A=>new Promise((P,y)=>{const C=new Vw,z=setTimeout(()=>{C.terminate(),y(new Error("Execution timed out (Infinite loop detected?)"))},1e3);C.onmessage=H=>{clearTimeout(z),C.terminate(),P(H.data)},C.onerror=H=>{clearTimeout(z),C.terminate(),y(new Error(H.message))},C.postMessage(A)}),J=async A=>{const{tools:P}=v();for(const y of A){if(y.function.name==="getToolSchema")try{const H=JSON.parse(y.function.arguments),Q=H.tool_name||H.name||H.tool,ie=P.find(ne=>ne.function.name===Q);if(ie)T({role:"tool",tool_call_id:y.id,name:y.function.name,content:JSON.stringify(ie.function.parameters,null,2)});else throw new Error(`Tool '${Q}' not found.`)}catch(H){T({role:"tool",tool_call_id:y.id,name:y.function.name,content:"Error: "+H.message})}if(y.function.name==="listTools"){try{let H={};try{H=JSON.parse(y.function.arguments||"{}")}catch{}const Q=H.query,ie=H.use_regex;let ne=P;if(Q)if(ie)try{const S=new RegExp(Q,"i");ne=P.filter(D=>S.test(D.function.name)||S.test(D.function.description||""))}catch(S){throw new Error("Invalid Regex: "+S.message)}else{const S=Q.toLowerCase().split(/\W+/).filter(D=>D.length>0);S.length>0&&(ne=P.map(D=>{const L=D.function.name.toLowerCase().split(/\W+/),$=(D.function.description||"").toLowerCase().split(/\W+/),O=[...L,...$];let B=0;D.function.name.toLowerCase().includes(Q.toLowerCase())&&(B+=10);for(const N of S){const K=O.filter(M=>M===N).length;K>0&&(B+=K*2),O.some(M=>M.includes(N))&&(B+=.5)}return{tool:D,score:B}}).filter(D=>D.score>0).sort((D,L)=>L.score-D.score).map(D=>D.tool))}const I=ne.map(S=>({name:S.function.name,description:S.function.description})),w=`AVAILABLE TOOLS (${I.length} found):

`+JSON.stringify(I,null,2)+`

These are the available tools. Only use them if the user's request requires it. To learn how to use a tool, call getToolSchema with the tool name.`;T({role:"tool",tool_call_id:y.id,name:y.function.name,content:w})}catch(H){T({role:"tool",tool_call_id:y.id,name:y.function.name,is_error:!0,content:"Error: "+H.message})}continue}if(y.function.name==="evalCode"){try{const H=JSON.parse(y.function.arguments),Q=H.code;let ie;try{if(hu.value){const I=await ve(Q);I.success?(ie=I.result,I.logs&&I.logs.length>0):ie="Eval Error: "+I.error}else ie=new Function(Q)()}catch(I){ie="Eval Error: "+I.message}console.log("evalCode result: ",ie,H.code);const ne=typeof ie=="string"&&ie.startsWith("Eval Error:");if(T({role:"tool",tool_call_id:y.id,name:y.function.name,content:typeof ie=="string"?ie:JSON.stringify(ie,null,2),is_error:ne}),ne){console.warn("Tool execution failed (evalCode). Stopping subsequent tool calls.");break}}catch(H){T({role:"tool",tool_call_id:y.id,name:y.function.name,content:"Error: "+H.message,is_error:!0});break}continue}const C=P.find(H=>H.function.name===y.function.name),z=ir.find(H=>H.enabled&&H.status==="connected"&&H.client.tools.some(Q=>Q.function.name===y.function.name));if(z&&C)try{const H=JSON.parse(y.function.arguments);let Q=null;if(C.function.parameters){const ie=G.compile(C.function.parameters);ie(H)||(Q=G.errorsText(ie.errors))}if(Q){console.warn(`Validation failed for tool ${y.function.name} in executeTools (checking safety net):`,Q),console.log("Failed Args:",JSON.stringify(H,null,2)),console.log("Failed Schema:",JSON.stringify(C.function.parameters,null,2));const ie=V(C.function.parameters),ne={name:y.function.name,arguments:ie};T({role:"tool",tool_call_id:y.id,content:`Error: Invalid arguments: ${Q}. 

Expected Schema:
${JSON.stringify(C.function.parameters,null,2)}

Expected Request Example Payload:
${JSON.stringify(ne,null,2)}

Please correct your input payload based on the schema and try again.`,name:y.function.name,is_error:!0});break}else{const ie=await z.client.callTool(y.function.name,H);T({role:"tool",tool_call_id:y.id,content:ie,name:y.function.name})}}catch(H){T({role:"tool",tool_call_id:y.id,content:"Error: "+H.message,name:y.function.name,is_error:!0});break}else{T({role:"tool",tool_call_id:y.id,content:"Error: Tool not found on any connected server.",name:y.function.name,is_error:!0});break}}Z()},Y=()=>{Ot.value&&(au.value=!0,Jr.value=!1,Ot.value.postMessage({type:"stop"}),T({role:"assistant",content:"_Generation stopped. Reloading model to ensure a clean state..._"}))},De=async()=>{console.log("clearChat called");try{Y(),Jr.value=!1,Wr.value=null,mr.value=[],console.log("Clearing DB..."),await Ve.clearMessages(),console.log("DB Cleared")}catch(A){console.error("clearChat failed:",A)}};ti(()=>{Ot.value&&Ot.value.terminate(),ir.forEach(A=>{A.client&&A.client.disconnect()})}),mr.value=[],os(()=>{t()});const X=Se(!1);return{initModel:_,switchModel:E,availableModels:Bw,selectedModel:du,sendMessage:q,addServer:k,removeServer:g,toggleServer:p,approveToolCalls:oe,cancelToolCalls:_e,stop:Y,clearChat:De,messages:mr,mcpServers:ir,isModelLoading:au,isGenerating:Jr,loadProgress:Kd,loadText:Jd,pendingToolCalls:Wr,isChatStarted:X,startChat:async()=>{X.value=!0,await _()},customSystemPrompt:qn,useSafeEval:hu,saveToStorage:e,resetSystemPrompt:r,updateProjectSystemPrompt:n,projects:Tt,currentProjectId:kt,chats:Ft,activeChatId:ur,activeChatTitle:cu,loadProjects:o,selectProject:s,createProject:u,createEncryptedProject:i,unlockProject:a,lockProject:c,isProjectLocked:l,deleteProject:x,selectChat:f,createNewChat:d,deleteChat:m,renameChat:h,isUnlockModalOpen:Wd,unlockingProjectId:Gd,unlockPassword:Yd,unlockError:fu}}const Xd={};function Zw(e){let t=Xd[e];if(t)return t;t=Xd[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);t.push(n)}for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function co(e,t){typeof t!="string"&&(t=co.defaultChars);const r=Zw(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(n){let o="";for(let s=0,u=n.length;s<u;s+=3){const i=parseInt(n.slice(s+1,s+3),16);if(i<128){o+=r[i];continue}if((i&224)===192&&s+3<u){const a=parseInt(n.slice(s+4,s+6),16);if((a&192)===128){const c=i<<6&1984|a&63;c<128?o+="":o+=String.fromCharCode(c),s+=3;continue}}if((i&240)===224&&s+6<u){const a=parseInt(n.slice(s+4,s+6),16),c=parseInt(n.slice(s+7,s+9),16);if((a&192)===128&&(c&192)===128){const l=i<<12&61440|a<<6&4032|c&63;l<2048||l>=55296&&l<=57343?o+="":o+=String.fromCharCode(l),s+=6;continue}}if((i&248)===240&&s+9<u){const a=parseInt(n.slice(s+4,s+6),16),c=parseInt(n.slice(s+7,s+9),16),l=parseInt(n.slice(s+10,s+12),16);if((a&192)===128&&(c&192)===128&&(l&192)===128){let f=i<<18&1835008|a<<12&258048|c<<6&4032|l&63;f<65536||f>1114111?o+="":(f-=65536,o+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),s+=9;continue}}o+=""}return o})}co.defaultChars=";/?:@&=+$,#";co.componentChars="";const e0={};function Hw(e){let t=e0[e];if(t)return t;t=e0[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function ds(e,t,r){typeof t!="string"&&(r=t,t=ds.defaultChars),typeof r>"u"&&(r=!0);const n=Hw(t);let o="";for(let s=0,u=e.length;s<u;s++){const i=e.charCodeAt(s);if(r&&i===37&&s+2<u&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){o+=e.slice(s,s+3),s+=2;continue}if(i<128){o+=n[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&s+1<u){const a=e.charCodeAt(s+1);if(a>=56320&&a<=57343){o+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}o+="%EF%BF%BD";continue}o+=encodeURIComponent(e[s])}return o}ds.defaultChars=";/?:@&=+$,-_.!~*'()#";ds.componentChars="-_.!~*'()";function Gc(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Vu(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Kw=/^([a-z0-9.+-]+:)/i,Jw=/:[0-9]*$/,Ww=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Gw=["<",">",'"',"`"," ","\r",`
`,"	"],Yw=["{","}","|","\\","^","`"].concat(Gw),Qw=["'"].concat(Yw),t0=["%","/","?",";","#"].concat(Qw),r0=["/","?","#"],Xw=255,n0=/^[+a-z0-9A-Z_-]{0,63}$/,e8=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,o0={javascript:!0,"javascript:":!0},s0={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Yc(e,t){if(e&&e instanceof Vu)return e;const r=new Vu;return r.parse(e,t),r}Vu.prototype.parse=function(e,t){let r,n,o,s=e;if(s=s.trim(),!t&&e.split("#").length===1){const c=Ww.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let u=Kw.exec(s);if(u&&(u=u[0],r=u.toLowerCase(),this.protocol=u,s=s.substr(u.length)),(t||u||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=s.substr(0,2)==="//",o&&!(u&&o0[u])&&(s=s.substr(2),this.slashes=!0)),!o0[u]&&(o||u&&!s0[u])){let c=-1;for(let m=0;m<r0.length;m++)n=s.indexOf(r0[m]),n!==-1&&(c===-1||n<c)&&(c=n);let l,f;c===-1?f=s.lastIndexOf("@"):f=s.lastIndexOf("@",c),f!==-1&&(l=s.slice(0,f),s=s.slice(f+1),this.auth=l),c=-1;for(let m=0;m<t0.length;m++)n=s.indexOf(t0[m]),n!==-1&&(c===-1||n<c)&&(c=n);c===-1&&(c=s.length),s[c-1]===":"&&c--;const d=s.slice(0,c);s=s.slice(c),this.parseHost(d),this.hostname=this.hostname||"";const h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){const m=this.hostname.split(/\./);for(let x=0,b=m.length;x<b;x++){const k=m[x];if(k&&!k.match(n0)){let p="";for(let g=0,v=k.length;g<v;g++)k.charCodeAt(g)>127?p+="x":p+=k[g];if(!p.match(n0)){const g=m.slice(0,x),v=m.slice(x+1),_=k.match(e8);_&&(g.push(_[1]),v.unshift(_[2])),v.length&&(s=v.join(".")+s),this.hostname=g.join(".");break}}}}this.hostname.length>Xw&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const i=s.indexOf("#");i!==-1&&(this.hash=s.substr(i),s=s.slice(0,i));const a=s.indexOf("?");return a!==-1&&(this.search=s.substr(a),s=s.slice(0,a)),s&&(this.pathname=s),s0[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Vu.prototype.parseHost=function(e){let t=Jw.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const t8=Object.freeze(Object.defineProperty({__proto__:null,decode:co,encode:ds,format:Gc,parse:Yc},Symbol.toStringTag,{value:"Module"})),Cm=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$m=/[\0-\x1F\x7F-\x9F]/,r8=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Qc=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Tm=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Am=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,n8=Object.freeze(Object.defineProperty({__proto__:null,Any:Cm,Cc:$m,Cf:r8,P:Qc,S:Tm,Z:Am},Symbol.toStringTag,{value:"Module"})),o8=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),s8=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var sa;const u8=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),i8=(sa=String.fromCodePoint)!==null&&sa!==void 0?sa:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function a8(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=u8.get(e))!==null&&t!==void 0?t:e}var ht;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ht||(ht={}));const c8=32;var rn;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(rn||(rn={}));function Ga(e){return e>=ht.ZERO&&e<=ht.NINE}function l8(e){return e>=ht.UPPER_A&&e<=ht.UPPER_F||e>=ht.LOWER_A&&e<=ht.LOWER_F}function f8(e){return e>=ht.UPPER_A&&e<=ht.UPPER_Z||e>=ht.LOWER_A&&e<=ht.LOWER_Z||Ga(e)}function d8(e){return e===ht.EQUALS||f8(e)}var dt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(dt||(dt={}));var tn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(tn||(tn={}));class h8{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=dt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=tn.Strict}startEntity(t){this.decodeMode=t,this.state=dt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case dt.EntityStart:return t.charCodeAt(r)===ht.NUM?(this.state=dt.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=dt.NamedEntity,this.stateNamedEntity(t,r));case dt.NumericStart:return this.stateNumericStart(t,r);case dt.NumericDecimal:return this.stateNumericDecimal(t,r);case dt.NumericHex:return this.stateNumericHex(t,r);case dt.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|c8)===ht.LOWER_X?(this.state=dt.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=dt.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,o){if(r!==n){const s=n-r;this.result=this.result*Math.pow(o,s)+parseInt(t.substr(r,s),o),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const o=t.charCodeAt(r);if(Ga(o)||l8(o))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const o=t.charCodeAt(r);if(Ga(o))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ht.SEMI)this.consumed+=1;else if(this.decodeMode===tn.Strict)return 0;return this.emitCodePoint(a8(this.result),this.consumed),this.errors&&(t!==ht.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let o=n[this.treeIndex],s=(o&rn.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const u=t.charCodeAt(r);if(this.treeIndex=p8(n,o,this.treeIndex+Math.max(1,s),u),this.treeIndex<0)return this.result===0||this.decodeMode===tn.Attribute&&(s===0||d8(u))?0:this.emitNotTerminatedNamedEntity();if(o=n[this.treeIndex],s=(o&rn.VALUE_LENGTH)>>14,s!==0){if(u===ht.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==tn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,o=(n[r]&rn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:o}=this;return this.emitCodePoint(r===1?o[t]&~rn.VALUE_LENGTH:o[t+1],n),r===3&&this.emitCodePoint(o[t+2],n),n}end(){var t;switch(this.state){case dt.NamedEntity:return this.result!==0&&(this.decodeMode!==tn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case dt.NumericDecimal:return this.emitNumericEntity(0,2);case dt.NumericHex:return this.emitNumericEntity(0,3);case dt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case dt.EntityStart:return 0}}}function Pm(e){let t="";const r=new h8(e,n=>t+=i8(n));return function(o,s){let u=0,i=0;for(;(i=o.indexOf("&",i))>=0;){t+=o.slice(u,i),r.startEntity(s);const c=r.write(o,i+1);if(c<0){u=i+r.end();break}u=i+c,i=c===0?u+1:u}const a=t+o.slice(u);return t="",a}}function p8(e,t,r,n){const o=(t&rn.BRANCH_LENGTH)>>7,s=t&rn.JUMP_TABLE;if(o===0)return s!==0&&n===s?r:-1;if(s){const a=n-s;return a<0||a>=o?-1:e[r+a]-1}let u=r,i=u+o-1;for(;u<=i;){const a=u+i>>>1,c=e[a];if(c<n)u=a+1;else if(c>n)i=a-1;else return e[a+o]}return-1}const m8=Pm(o8);Pm(s8);function Dm(e,t=tn.Legacy){return m8(e,t)}function g8(e){return Object.prototype.toString.call(e)}function Xc(e){return g8(e)==="[object String]"}const b8=Object.prototype.hasOwnProperty;function _8(e,t){return b8.call(e,t)}function yi(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function Rm(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function el(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Bu(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const Im=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,y8=/&([a-z#][a-z0-9]{1,31});/gi,x8=new RegExp(Im.source+"|"+y8.source,"gi"),v8=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function w8(e,t){if(t.charCodeAt(0)===35&&v8.test(t)){const n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return el(n)?Bu(n):e}const r=Dm(e);return r!==e?r:e}function k8(e){return e.indexOf("\\")<0?e:e.replace(Im,"$1")}function lo(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(x8,function(t,r,n){return r||w8(t,n)})}const E8=/[&<>"]/,S8=/[&<>"]/g,C8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function $8(e){return C8[e]}function an(e){return E8.test(e)?e.replace(S8,$8):e}const T8=/[.?*+^$[\]\\(){}|-]/g;function A8(e){return e.replace(T8,"\\$&")}function Ze(e){switch(e){case 9:case 32:return!0}return!1}function Go(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Yo(e){return Qc.test(e)||Tm.test(e)}function Qo(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function xi(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const P8={mdurl:t8,ucmicro:n8},D8=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Rm,assign:yi,escapeHtml:an,escapeRE:A8,fromCodePoint:Bu,has:_8,isMdAsciiPunct:Qo,isPunctChar:Yo,isSpace:Ze,isString:Xc,isValidEntityCode:el,isWhiteSpace:Go,lib:P8,normalizeReference:xi,unescapeAll:lo,unescapeMd:k8},Symbol.toStringTag,{value:"Module"}));function R8(e,t,r){let n,o,s,u;const i=e.posMax,a=e.pos;for(e.pos=t+1,n=1;e.pos<i;){if(s=e.src.charCodeAt(e.pos),s===93&&(n--,n===0)){o=!0;break}if(u=e.pos,e.md.inline.skipToken(e),s===91){if(u===e.pos-1)n++;else if(r)return e.pos=a,-1}}let c=-1;return o&&(c=e.pos),e.pos=a,c}function I8(e,t,r){let n,o=t;const s={ok:!1,pos:0,str:""};if(e.charCodeAt(o)===60){for(o++;o<r;){if(n=e.charCodeAt(o),n===10||n===60)return s;if(n===62)return s.pos=o+1,s.str=lo(e.slice(t+1,o)),s.ok=!0,s;if(n===92&&o+1<r){o+=2;continue}o++}return s}let u=0;for(;o<r&&(n=e.charCodeAt(o),!(n===32||n<32||n===127));){if(n===92&&o+1<r){if(e.charCodeAt(o+1)===32)break;o+=2;continue}if(n===40&&(u++,u>32))return s;if(n===41){if(u===0)break;u--}o++}return t===o||u!==0||(s.str=lo(e.slice(t,o)),s.pos=o,s.ok=!0),s}function O8(e,t,r,n){let o,s=t;const u={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)u.str=n.str,u.marker=n.marker;else{if(s>=r)return u;let i=e.charCodeAt(s);if(i!==34&&i!==39&&i!==40)return u;t++,s++,i===40&&(i=41),u.marker=i}for(;s<r;){if(o=e.charCodeAt(s),o===u.marker)return u.pos=s+1,u.str+=lo(e.slice(t,s)),u.ok=!0,u;if(o===40&&u.marker===41)return u;o===92&&s+1<r&&s++,s++}return u.can_continue=!0,u.str+=lo(e.slice(t,s)),u}const F8=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:I8,parseLinkLabel:R8,parseLinkTitle:O8},Symbol.toStringTag,{value:"Module"})),kr={};kr.code_inline=function(e,t,r,n,o){const s=e[t];return"<code"+o.renderAttrs(s)+">"+an(s.content)+"</code>"};kr.code_block=function(e,t,r,n,o){const s=e[t];return"<pre"+o.renderAttrs(s)+"><code>"+an(e[t].content)+`</code></pre>
`};kr.fence=function(e,t,r,n,o){const s=e[t],u=s.info?lo(s.info).trim():"";let i="",a="";if(u){const l=u.split(/(\s+)/g);i=l[0],a=l.slice(2).join("")}let c;if(r.highlight?c=r.highlight(s.content,i,a)||an(s.content):c=an(s.content),c.indexOf("<pre")===0)return c+`
`;if(u){const l=s.attrIndex("class"),f=s.attrs?s.attrs.slice():[];l<0?f.push(["class",r.langPrefix+i]):(f[l]=f[l].slice(),f[l][1]+=" "+r.langPrefix+i);const d={attrs:f};return`<pre><code${o.renderAttrs(d)}>${c}</code></pre>
`}return`<pre><code${o.renderAttrs(s)}>${c}</code></pre>
`};kr.image=function(e,t,r,n,o){const s=e[t];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,r,n),o.renderToken(e,t,r)};kr.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};kr.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};kr.text=function(e,t){return an(e[t].content)};kr.html_block=function(e,t){return e[t].content};kr.html_inline=function(e,t){return e[t].content};function go(){this.rules=yi({},kr)}go.prototype.renderAttrs=function(t){let r,n,o;if(!t.attrs)return"";for(o="",r=0,n=t.attrs.length;r<n;r++)o+=" "+an(t.attrs[r][0])+'="'+an(t.attrs[r][1])+'"';return o};go.prototype.renderToken=function(t,r,n){const o=t[r];let s="";if(o.hidden)return"";o.block&&o.nesting!==-1&&r&&t[r-1].hidden&&(s+=`
`),s+=(o.nesting===-1?"</":"<")+o.tag,s+=this.renderAttrs(o),o.nesting===0&&n.xhtmlOut&&(s+=" /");let u=!1;if(o.block&&(u=!0,o.nesting===1&&r+1<t.length)){const i=t[r+1];(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===o.tag)&&(u=!1)}return s+=u?`>
`:">",s};go.prototype.renderInline=function(e,t,r){let n="";const o=this.rules;for(let s=0,u=e.length;s<u;s++){const i=e[s].type;typeof o[i]<"u"?n+=o[i](e,s,t,r,this):n+=this.renderToken(e,s,t)}return n};go.prototype.renderInlineAsText=function(e,t,r){let n="";for(let o=0,s=e.length;o<s;o++)switch(e[o].type){case"text":n+=e[o].content;break;case"image":n+=this.renderInlineAsText(e[o].children,t,r);break;case"html_inline":case"html_block":n+=e[o].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};go.prototype.render=function(e,t,r){let n="";const o=this.rules;for(let s=0,u=e.length;s<u;s++){const i=e[s].type;i==="inline"?n+=this.renderInline(e[s].children,t,r):typeof o[i]<"u"?n+=o[i](e,s,t,r,this):n+=this.renderToken(e,s,t,r)}return n};function jt(){this.__rules__=[],this.__cache__=null}jt.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};jt.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn))})})};jt.prototype.at=function(e,t,r){const n=this.__find__(e),o=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=o.alt||[],this.__cache__=null};jt.prototype.before=function(e,t,r,n){const o=this.__find__(e),s=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:r,alt:s.alt||[]}),this.__cache__=null};jt.prototype.after=function(e,t,r,n){const o=this.__find__(e),s=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:r,alt:s.alt||[]}),this.__cache__=null};jt.prototype.push=function(e,t,r){const n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};jt.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!0,r.push(n)},this),this.__cache__=null,r};jt.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};jt.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!1,r.push(n)},this),this.__cache__=null,r};jt.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function hr(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}hr.prototype.attrIndex=function(t){if(!this.attrs)return-1;const r=this.attrs;for(let n=0,o=r.length;n<o;n++)if(r[n][0]===t)return n;return-1};hr.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};hr.prototype.attrSet=function(t,r){const n=this.attrIndex(t),o=[t,r];n<0?this.attrPush(o):this.attrs[n]=o};hr.prototype.attrGet=function(t){const r=this.attrIndex(t);let n=null;return r>=0&&(n=this.attrs[r][1]),n};hr.prototype.attrJoin=function(t,r){const n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};function Om(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}Om.prototype.Token=hr;const N8=/\r\n?|\n/g,M8=/\0/g;function z8(e){let t;t=e.src.replace(N8,`
`),t=t.replace(M8,""),e.src=t}function j8(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function q8(e){const t=e.tokens;for(let r=0,n=t.length;r<n;r++){const o=t[r];o.type==="inline"&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}function L8(e){return/^<a[>\s]/i.test(e)}function U8(e){return/^<\/a\s*>/i.test(e)}function V8(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,n=t.length;r<n;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let o=t[r].children,s=0;for(let u=o.length-1;u>=0;u--){const i=o[u];if(i.type==="link_close"){for(u--;o[u].level!==i.level&&o[u].type!=="link_open";)u--;continue}if(i.type==="html_inline"&&(L8(i.content)&&s>0&&s--,U8(i.content)&&s++),!(s>0)&&i.type==="text"&&e.md.linkify.test(i.content)){const a=i.content;let c=e.md.linkify.match(a);const l=[];let f=i.level,d=0;c.length>0&&c[0].index===0&&u>0&&o[u-1].type==="text_special"&&(c=c.slice(1));for(let h=0;h<c.length;h++){const m=c[h].url,x=e.md.normalizeLink(m);if(!e.md.validateLink(x))continue;let b=c[h].text;c[h].schema?c[h].schema==="mailto:"&&!/^mailto:/i.test(b)?b=e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=e.md.normalizeLinkText(b):b=e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const k=c[h].index;if(k>d){const _=new e.Token("text","",0);_.content=a.slice(d,k),_.level=f,l.push(_)}const p=new e.Token("link_open","a",1);p.attrs=[["href",x]],p.level=f++,p.markup="linkify",p.info="auto",l.push(p);const g=new e.Token("text","",0);g.content=b,g.level=f,l.push(g);const v=new e.Token("link_close","a",-1);v.level=--f,v.markup="linkify",v.info="auto",l.push(v),d=c[h].lastIndex}if(d<a.length){const h=new e.Token("text","",0);h.content=a.slice(d),h.level=f,l.push(h)}t[r].children=o=Rm(o,u,l)}}}}const Fm=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,B8=/\((c|tm|r)\)/i,Z8=/\((c|tm|r)\)/ig,H8={c:"",r:"",tm:""};function K8(e,t){return H8[t.toLowerCase()]}function J8(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&(n.content=n.content.replace(Z8,K8)),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function W8(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&Fm.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function G8(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(B8.test(e.tokens[t].content)&&J8(e.tokens[t].children),Fm.test(e.tokens[t].content)&&W8(e.tokens[t].children))}const Y8=/['"]/,u0=/['"]/g,i0="";function pu(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function Q8(e,t){let r;const n=[];for(let o=0;o<e.length;o++){const s=e[o],u=e[o].level;for(r=n.length-1;r>=0&&!(n[r].level<=u);r--);if(n.length=r+1,s.type!=="text")continue;let i=s.content,a=0,c=i.length;e:for(;a<c;){u0.lastIndex=a;const l=u0.exec(i);if(!l)break;let f=!0,d=!0;a=l.index+1;const h=l[0]==="'";let m=32;if(l.index-1>=0)m=i.charCodeAt(l.index-1);else for(r=o-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){m=e[r].content.charCodeAt(e[r].content.length-1);break}let x=32;if(a<c)x=i.charCodeAt(a);else for(r=o+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){x=e[r].content.charCodeAt(0);break}const b=Qo(m)||Yo(String.fromCharCode(m)),k=Qo(x)||Yo(String.fromCharCode(x)),p=Go(m),g=Go(x);if(g?f=!1:k&&(p||b||(f=!1)),p?d=!1:b&&(g||k||(d=!1)),x===34&&l[0]==='"'&&m>=48&&m<=57&&(d=f=!1),f&&d&&(f=b,d=k),!f&&!d){h&&(s.content=pu(s.content,l.index,i0));continue}if(d)for(r=n.length-1;r>=0;r--){let v=n[r];if(n[r].level<u)break;if(v.single===h&&n[r].level===u){v=n[r];let _,E;h?(_=t.md.options.quotes[2],E=t.md.options.quotes[3]):(_=t.md.options.quotes[0],E=t.md.options.quotes[1]),s.content=pu(s.content,l.index,E),e[v.token].content=pu(e[v.token].content,v.pos,_),a+=E.length-1,v.token===o&&(a+=_.length-1),i=s.content,c=i.length,n.length=r;continue e}}f?n.push({token:o,pos:l.index,single:h,level:u}):d&&h&&(s.content=pu(s.content,l.index,i0))}}}function X8(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!Y8.test(e.tokens[t].content)||Q8(e.tokens[t].children,e)}function e5(e){let t,r;const n=e.tokens,o=n.length;for(let s=0;s<o;s++){if(n[s].type!=="inline")continue;const u=n[s].children,i=u.length;for(t=0;t<i;t++)u[t].type==="text_special"&&(u[t].type="text");for(t=r=0;t<i;t++)u[t].type==="text"&&t+1<i&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==r&&(u[r]=u[t]),r++);t!==r&&(u.length=r)}}const ua=[["normalize",z8],["block",j8],["inline",q8],["linkify",V8],["replacements",G8],["smartquotes",X8],["text_join",e5]];function tl(){this.ruler=new jt;for(let e=0;e<ua.length;e++)this.ruler.push(ua[e][0],ua[e][1])}tl.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,n=t.length;r<n;r++)t[r](e)};tl.prototype.State=Om;function Er(e,t,r,n){this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let s=0,u=0,i=0,a=0,c=o.length,l=!1;u<c;u++){const f=o.charCodeAt(u);if(!l)if(Ze(f)){i++,f===9?a+=4-a%4:a++;continue}else l=!0;(f===10||u===c-1)&&(f!==10&&u++,this.bMarks.push(s),this.eMarks.push(u),this.tShift.push(i),this.sCount.push(a),this.bsCount.push(0),l=!1,i=0,a=0,s=u+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Er.prototype.push=function(e,t,r){const n=new hr(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Er.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Er.prototype.skipEmptyLines=function(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Er.prototype.skipSpaces=function(t){for(let r=this.src.length;t<r;t++){const n=this.src.charCodeAt(t);if(!Ze(n))break}return t};Er.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!Ze(this.src.charCodeAt(--t)))return t+1;return t};Er.prototype.skipChars=function(t,r){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};Er.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};Er.prototype.getLines=function(t,r,n,o){if(t>=r)return"";const s=new Array(r-t);for(let u=0,i=t;i<r;i++,u++){let a=0;const c=this.bMarks[i];let l=c,f;for(i+1<r||o?f=this.eMarks[i]+1:f=this.eMarks[i];l<f&&a<n;){const d=this.src.charCodeAt(l);if(Ze(d))d===9?a+=4-(a+this.bsCount[i])%4:a++;else if(l-c<this.tShift[i])a++;else break;l++}a>n?s[u]=new Array(a-n+1).join(" ")+this.src.slice(l,f):s[u]=this.src.slice(l,f)}return s.join("")};Er.prototype.Token=hr;const t5=65536;function ia(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function a0(e){const t=[],r=e.length;let n=0,o=e.charCodeAt(n),s=!1,u=0,i="";for(;n<r;)o===124&&(s?(i+=e.substring(u,n-1),u=n):(t.push(i+e.substring(u,n)),i="",u=n+1)),s=o===92,n++,o=e.charCodeAt(n);return t.push(i+e.substring(u)),t}function r5(e,t,r,n){if(t+2>r)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent||e.sCount[o]-e.blkIndent>=4)return!1;let s=e.bMarks[o]+e.tShift[o];if(s>=e.eMarks[o])return!1;const u=e.src.charCodeAt(s++);if(u!==124&&u!==45&&u!==58||s>=e.eMarks[o])return!1;const i=e.src.charCodeAt(s++);if(i!==124&&i!==45&&i!==58&&!Ze(i)||u===45&&Ze(i))return!1;for(;s<e.eMarks[o];){const v=e.src.charCodeAt(s);if(v!==124&&v!==45&&v!==58&&!Ze(v))return!1;s++}let a=ia(e,t+1),c=a.split("|");const l=[];for(let v=0;v<c.length;v++){const _=c[v].trim();if(!_){if(v===0||v===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(_))return!1;_.charCodeAt(_.length-1)===58?l.push(_.charCodeAt(0)===58?"center":"right"):_.charCodeAt(0)===58?l.push("left"):l.push("")}if(a=ia(e,t).trim(),a.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;c=a0(a),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const f=c.length;if(f===0||f!==l.length)return!1;if(n)return!0;const d=e.parentType;e.parentType="table";const h=e.md.block.ruler.getRules("blockquote"),m=e.push("table_open","table",1),x=[t,0];m.map=x;const b=e.push("thead_open","thead",1);b.map=[t,t+1];const k=e.push("tr_open","tr",1);k.map=[t,t+1];for(let v=0;v<c.length;v++){const _=e.push("th_open","th",1);l[v]&&(_.attrs=[["style","text-align:"+l[v]]]);const E=e.push("inline","",0);E.content=c[v].trim(),E.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let p,g=0;for(o=t+2;o<r&&!(e.sCount[o]<e.blkIndent);o++){let v=!1;for(let E=0,T=h.length;E<T;E++)if(h[E](e,o,r,!0)){v=!0;break}if(v||(a=ia(e,o).trim(),!a)||e.sCount[o]-e.blkIndent>=4||(c=a0(a),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),g+=f-c.length,g>t5))break;if(o===t+2){const E=e.push("tbody_open","tbody",1);E.map=p=[t+2,0]}const _=e.push("tr_open","tr",1);_.map=[o,o+1];for(let E=0;E<f;E++){const T=e.push("td_open","td",1);l[E]&&(T.attrs=[["style","text-align:"+l[E]]]);const q=e.push("inline","",0);q.content=c[E]?c[E].trim():"",q.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return p&&(e.push("tbody_close","tbody",-1),p[1]=o),e.push("table_close","table",-1),x[1]=o,e.parentType=d,e.line=o,!0}function n5(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,o=n;for(;n<r;){if(e.isEmpty(n)){n++;continue}if(e.sCount[n]-e.blkIndent>=4){n++,o=n;continue}break}e.line=o;const s=e.push("code_block","code",0);return s.content=e.getLines(t,o,4+e.blkIndent,!1)+`
`,s.map=[t,e.line],!0}function o5(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||o+3>s)return!1;const u=e.src.charCodeAt(o);if(u!==126&&u!==96)return!1;let i=o;o=e.skipChars(o,u);let a=o-i;if(a<3)return!1;const c=e.src.slice(i,o),l=e.src.slice(o,s);if(u===96&&l.indexOf(String.fromCharCode(u))>=0)return!1;if(n)return!0;let f=t,d=!1;for(;f++,!(f>=r||(o=i=e.bMarks[f]+e.tShift[f],s=e.eMarks[f],o<s&&e.sCount[f]<e.blkIndent));)if(e.src.charCodeAt(o)===u&&!(e.sCount[f]-e.blkIndent>=4)&&(o=e.skipChars(o,u),!(o-i<a)&&(o=e.skipSpaces(o),!(o<s)))){d=!0;break}a=e.sCount[t],e.line=f+(d?1:0);const h=e.push("fence","code",0);return h.info=l,h.content=e.getLines(t+1,f,a,!0),h.markup=c,h.map=[t,e.line],!0}function s5(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];const u=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==62)return!1;if(n)return!0;const i=[],a=[],c=[],l=[],f=e.md.block.ruler.getRules("blockquote"),d=e.parentType;e.parentType="blockquote";let h=!1,m;for(m=t;m<r;m++){const g=e.sCount[m]<e.blkIndent;if(o=e.bMarks[m]+e.tShift[m],s=e.eMarks[m],o>=s)break;if(e.src.charCodeAt(o++)===62&&!g){let _=e.sCount[m]+1,E,T;e.src.charCodeAt(o)===32?(o++,_++,T=!1,E=!0):e.src.charCodeAt(o)===9?(E=!0,(e.bsCount[m]+_)%4===3?(o++,_++,T=!1):T=!0):E=!1;let q=_;for(i.push(e.bMarks[m]),e.bMarks[m]=o;o<s;){const Z=e.src.charCodeAt(o);if(Ze(Z))Z===9?q+=4-(q+e.bsCount[m]+(T?1:0))%4:q++;else break;o++}h=o>=s,a.push(e.bsCount[m]),e.bsCount[m]=e.sCount[m]+1+(E?1:0),c.push(e.sCount[m]),e.sCount[m]=q-_,l.push(e.tShift[m]),e.tShift[m]=o-e.bMarks[m];continue}if(h)break;let v=!1;for(let _=0,E=f.length;_<E;_++)if(f[_](e,m,r,!0)){v=!0;break}if(v){e.lineMax=m,e.blkIndent!==0&&(i.push(e.bMarks[m]),a.push(e.bsCount[m]),l.push(e.tShift[m]),c.push(e.sCount[m]),e.sCount[m]-=e.blkIndent);break}i.push(e.bMarks[m]),a.push(e.bsCount[m]),l.push(e.tShift[m]),c.push(e.sCount[m]),e.sCount[m]=-1}const x=e.blkIndent;e.blkIndent=0;const b=e.push("blockquote_open","blockquote",1);b.markup=">";const k=[t,0];b.map=k,e.md.block.tokenize(e,t,m);const p=e.push("blockquote_close","blockquote",-1);p.markup=">",e.lineMax=u,e.parentType=d,k[1]=e.line;for(let g=0;g<l.length;g++)e.bMarks[g+t]=i[g],e.tShift[g+t]=l[g],e.sCount[g+t]=c[g],e.bsCount[g+t]=a[g];return e.blkIndent=x,!0}function u5(e,t,r,n){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(s++);if(u!==42&&u!==45&&u!==95)return!1;let i=1;for(;s<o;){const c=e.src.charCodeAt(s++);if(c!==u&&!Ze(c))return!1;c===u&&i++}if(i<3)return!1;if(n)return!0;e.line=t+1;const a=e.push("hr","hr",0);return a.map=[t,e.line],a.markup=Array(i+1).join(String.fromCharCode(u)),!0}function c0(e,t){const r=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(n++);if(o!==42&&o!==45&&o!==43)return-1;if(n<r){const s=e.src.charCodeAt(n);if(!Ze(s))return-1}return n}function l0(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let o=r;if(o+1>=n)return-1;let s=e.src.charCodeAt(o++);if(s<48||s>57)return-1;for(;;){if(o>=n)return-1;if(s=e.src.charCodeAt(o++),s>=48&&s<=57){if(o-r>=10)return-1;continue}if(s===41||s===46)break;return-1}return o<n&&(s=e.src.charCodeAt(o),!Ze(s))?-1:o}function i5(e,t){const r=e.level+2;for(let n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function a5(e,t,r,n){let o,s,u,i,a=t,c=!0;if(e.sCount[a]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[a]-e.listIndent>=4&&e.sCount[a]<e.blkIndent)return!1;let l=!1;n&&e.parentType==="paragraph"&&e.sCount[a]>=e.blkIndent&&(l=!0);let f,d,h;if((h=l0(e,a))>=0){if(f=!0,u=e.bMarks[a]+e.tShift[a],d=Number(e.src.slice(u,h-1)),l&&d!==1)return!1}else if((h=c0(e,a))>=0)f=!1;else return!1;if(l&&e.skipSpaces(h)>=e.eMarks[a])return!1;if(n)return!0;const m=e.src.charCodeAt(h-1),x=e.tokens.length;f?(i=e.push("ordered_list_open","ol",1),d!==1&&(i.attrs=[["start",d]])):i=e.push("bullet_list_open","ul",1);const b=[a,0];i.map=b,i.markup=String.fromCharCode(m);let k=!1;const p=e.md.block.ruler.getRules("list"),g=e.parentType;for(e.parentType="list";a<r;){s=h,o=e.eMarks[a];const v=e.sCount[a]+h-(e.bMarks[a]+e.tShift[a]);let _=v;for(;s<o;){const _e=e.src.charCodeAt(s);if(_e===9)_+=4-(_+e.bsCount[a])%4;else if(_e===32)_++;else break;s++}const E=s;let T;E>=o?T=1:T=_-v,T>4&&(T=1);const q=v+T;i=e.push("list_item_open","li",1),i.markup=String.fromCharCode(m);const Z=[a,0];i.map=Z,f&&(i.info=e.src.slice(u,h-1));const G=e.tight,V=e.tShift[a],U=e.sCount[a],re=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=q,e.tight=!0,e.tShift[a]=E-e.bMarks[a],e.sCount[a]=_,E>=o&&e.isEmpty(a+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,a,r,!0),(!e.tight||k)&&(c=!1),k=e.line-a>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=re,e.tShift[a]=V,e.sCount[a]=U,e.tight=G,i=e.push("list_item_close","li",-1),i.markup=String.fromCharCode(m),a=e.line,Z[1]=a,a>=r||e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)break;let oe=!1;for(let _e=0,ve=p.length;_e<ve;_e++)if(p[_e](e,a,r,!0)){oe=!0;break}if(oe)break;if(f){if(h=l0(e,a),h<0)break;u=e.bMarks[a]+e.tShift[a]}else if(h=c0(e,a),h<0)break;if(m!==e.src.charCodeAt(h-1))break}return f?i=e.push("ordered_list_close","ol",-1):i=e.push("bullet_list_close","ul",-1),i.markup=String.fromCharCode(m),b[1]=a,e.line=a,e.parentType=g,c&&i5(e,x),!0}function c5(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],u=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==91)return!1;function i(p){const g=e.lineMax;if(p>=g||e.isEmpty(p))return null;let v=!1;if(e.sCount[p]-e.blkIndent>3&&(v=!0),e.sCount[p]<0&&(v=!0),!v){const T=e.md.block.ruler.getRules("reference"),q=e.parentType;e.parentType="reference";let Z=!1;for(let G=0,V=T.length;G<V;G++)if(T[G](e,p,g,!0)){Z=!0;break}if(e.parentType=q,Z)return null}const _=e.bMarks[p]+e.tShift[p],E=e.eMarks[p];return e.src.slice(_,E+1)}let a=e.src.slice(o,s+1);s=a.length;let c=-1;for(o=1;o<s;o++){const p=a.charCodeAt(o);if(p===91)return!1;if(p===93){c=o;break}else if(p===10){const g=i(u);g!==null&&(a+=g,s=a.length,u++)}else if(p===92&&(o++,o<s&&a.charCodeAt(o)===10)){const g=i(u);g!==null&&(a+=g,s=a.length,u++)}}if(c<0||a.charCodeAt(c+1)!==58)return!1;for(o=c+2;o<s;o++){const p=a.charCodeAt(o);if(p===10){const g=i(u);g!==null&&(a+=g,s=a.length,u++)}else if(!Ze(p))break}const l=e.md.helpers.parseLinkDestination(a,o,s);if(!l.ok)return!1;const f=e.md.normalizeLink(l.str);if(!e.md.validateLink(f))return!1;o=l.pos;const d=o,h=u,m=o;for(;o<s;o++){const p=a.charCodeAt(o);if(p===10){const g=i(u);g!==null&&(a+=g,s=a.length,u++)}else if(!Ze(p))break}let x=e.md.helpers.parseLinkTitle(a,o,s);for(;x.can_continue;){const p=i(u);if(p===null)break;a+=p,o=s,s=a.length,u++,x=e.md.helpers.parseLinkTitle(a,o,s,x)}let b;for(o<s&&m!==o&&x.ok?(b=x.str,o=x.pos):(b="",o=d,u=h);o<s;){const p=a.charCodeAt(o);if(!Ze(p))break;o++}if(o<s&&a.charCodeAt(o)!==10&&b)for(b="",o=d,u=h;o<s;){const p=a.charCodeAt(o);if(!Ze(p))break;o++}if(o<s&&a.charCodeAt(o)!==10)return!1;const k=xi(a.slice(1,c));return k?(n||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[k]>"u"&&(e.env.references[k]={title:b,href:f}),e.line=u),!0):!1}const l5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],f5="[a-zA-Z_:][a-zA-Z0-9:._-]*",d5="[^\"'=<>`\\x00-\\x20]+",h5="'[^']*'",p5='"[^"]*"',m5="(?:"+d5+"|"+h5+"|"+p5+")",g5="(?:\\s+"+f5+"(?:\\s*=\\s*"+m5+")?)",Nm="<[A-Za-z][A-Za-z0-9\\-]*"+g5+"*\\s*\\/?>",Mm="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",b5="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",_5="<[?][\\s\\S]*?[?]>",y5="<![A-Za-z][^>]*>",x5="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",v5=new RegExp("^(?:"+Nm+"|"+Mm+"|"+b5+"|"+_5+"|"+y5+"|"+x5+")"),w5=new RegExp("^(?:"+Nm+"|"+Mm+")"),Ln=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+l5.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(w5.source+"\\s*$"),/^$/,!1]];function k5(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(o)!==60)return!1;let u=e.src.slice(o,s),i=0;for(;i<Ln.length&&!Ln[i][0].test(u);i++);if(i===Ln.length)return!1;if(n)return Ln[i][2];let a=t+1;if(!Ln[i][1].test(u)){for(;a<r&&!(e.sCount[a]<e.blkIndent);a++)if(o=e.bMarks[a]+e.tShift[a],s=e.eMarks[a],u=e.src.slice(o,s),Ln[i][1].test(u)){u.length!==0&&a++;break}}e.line=a;const c=e.push("html_block","",0);return c.map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}function E5(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let u=e.src.charCodeAt(o);if(u!==35||o>=s)return!1;let i=1;for(u=e.src.charCodeAt(++o);u===35&&o<s&&i<=6;)i++,u=e.src.charCodeAt(++o);if(i>6||o<s&&!Ze(u))return!1;if(n)return!0;s=e.skipSpacesBack(s,o);const a=e.skipCharsBack(s,35,o);a>o&&Ze(e.src.charCodeAt(a-1))&&(s=a),e.line=t+1;const c=e.push("heading_open","h"+String(i),1);c.markup="########".slice(0,i),c.map=[t,e.line];const l=e.push("inline","",0);l.content=e.src.slice(o,s).trim(),l.map=[t,e.line],l.children=[];const f=e.push("heading_close","h"+String(i),-1);return f.markup="########".slice(0,i),!0}function S5(e,t,r){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let s=0,u,i=t+1;for(;i<r&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3)continue;if(e.sCount[i]>=e.blkIndent){let h=e.bMarks[i]+e.tShift[i];const m=e.eMarks[i];if(h<m&&(u=e.src.charCodeAt(h),(u===45||u===61)&&(h=e.skipChars(h,u),h=e.skipSpaces(h),h>=m))){s=u===61?1:2;break}}if(e.sCount[i]<0)continue;let d=!1;for(let h=0,m=n.length;h<m;h++)if(n[h](e,i,r,!0)){d=!0;break}if(d)break}if(!s)return!1;const a=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i+1;const c=e.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(u),c.map=[t,e.line];const l=e.push("inline","",0);l.content=a,l.map=[t,e.line-1],l.children=[];const f=e.push("heading_close","h"+String(s),-1);return f.markup=String.fromCharCode(u),e.parentType=o,!0}function C5(e,t,r){const n=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let s=t+1;for(e.parentType="paragraph";s<r&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let c=!1;for(let l=0,f=n.length;l<f;l++)if(n[l](e,s,r,!0)){c=!0;break}if(c)break}const u=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s;const i=e.push("paragraph_open","p",1);i.map=[t,e.line];const a=e.push("inline","",0);return a.content=u,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}const mu=[["table",r5,["paragraph","reference"]],["code",n5],["fence",o5,["paragraph","reference","blockquote","list"]],["blockquote",s5,["paragraph","reference","blockquote","list"]],["hr",u5,["paragraph","reference","blockquote","list"]],["list",a5,["paragraph","reference","blockquote"]],["reference",c5],["html_block",k5,["paragraph","reference","blockquote"]],["heading",E5,["paragraph","reference","blockquote"]],["lheading",S5],["paragraph",C5]];function vi(){this.ruler=new jt;for(let e=0;e<mu.length;e++)this.ruler.push(mu[e][0],mu[e][1],{alt:(mu[e][2]||[]).slice()})}vi.prototype.tokenize=function(e,t,r){const n=this.ruler.getRules(""),o=n.length,s=e.md.options.maxNesting;let u=t,i=!1;for(;u<r&&(e.line=u=e.skipEmptyLines(u),!(u>=r||e.sCount[u]<e.blkIndent));){if(e.level>=s){e.line=r;break}const a=e.line;let c=!1;for(let l=0;l<o;l++)if(c=n[l](e,u,r,!1),c){if(a>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!i,e.isEmpty(e.line-1)&&(i=!0),u=e.line,u<r&&e.isEmpty(u)&&(i=!0,u++,e.line=u)}};vi.prototype.parse=function(e,t,r,n){if(!e)return;const o=new this.State(e,t,r,n);this.tokenize(o,o.line,o.lineMax)};vi.prototype.State=Er;function hs(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}hs.prototype.pushPending=function(){const e=new hr("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};hs.prototype.push=function(e,t,r){this.pending&&this.pushPending();const n=new hr(e,t,r);let o=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(o),n};hs.prototype.scanDelims=function(e,t){const r=this.posMax,n=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let s=e;for(;s<r&&this.src.charCodeAt(s)===n;)s++;const u=s-e,i=s<r?this.src.charCodeAt(s):32,a=Qo(o)||Yo(String.fromCharCode(o)),c=Qo(i)||Yo(String.fromCharCode(i)),l=Go(o),f=Go(i),d=!f&&(!c||l||a),h=!l&&(!a||f||c);return{can_open:d&&(t||!h||a),can_close:h&&(t||!d||c),length:u}};hs.prototype.Token=hr;function $5(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function T5(e,t){let r=e.pos;for(;r<e.posMax&&!$5(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const A5=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function P5(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,n=e.posMax;if(r+3>n||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const o=e.pending.match(A5);if(!o)return!1;const s=o[1],u=e.md.linkify.matchAtStart(e.src.slice(r-s.length));if(!u)return!1;let i=u.url;if(i.length<=s.length)return!1;let a=i.length;for(;a>0&&i.charCodeAt(a-1)===42;)a--;a!==i.length&&(i=i.slice(0,a));const c=e.md.normalizeLink(i);if(!e.md.validateLink(c))return!1;if(!t){e.pending=e.pending.slice(0,-s.length);const l=e.push("link_open","a",1);l.attrs=[["href",c]],l.markup="linkify",l.info="auto";const f=e.push("text","",0);f.content=e.md.normalizeLinkText(i);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=i.length-s.length,!0}function D5(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const n=e.pending.length-1,o=e.posMax;if(!t)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){let s=n-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<o&&Ze(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const rl=[];for(let e=0;e<256;e++)rl.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){rl[e.charCodeAt(0)]=1});function R5(e,t){let r=e.pos;const n=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let o=e.src.charCodeAt(r);if(o===10){for(t||e.push("hardbreak","br",0),r++;r<n&&(o=e.src.charCodeAt(r),!!Ze(o));)r++;return e.pos=r,!0}let s=e.src[r];if(o>=55296&&o<=56319&&r+1<n){const i=e.src.charCodeAt(r+1);i>=56320&&i<=57343&&(s+=e.src[r+1],r++)}const u="\\"+s;if(!t){const i=e.push("text_special","",0);o<256&&rl[o]!==0?i.content=s:i.content=u,i.markup=u,i.info="escape"}return e.pos=r+1,!0}function I5(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const o=r;r++;const s=e.posMax;for(;r<s&&e.src.charCodeAt(r)===96;)r++;const u=e.src.slice(o,r),i=u.length;if(e.backticksScanned&&(e.backticks[i]||0)<=o)return t||(e.pending+=u),e.pos+=i,!0;let a=r,c;for(;(c=e.src.indexOf("`",a))!==-1;){for(a=c+1;a<s&&e.src.charCodeAt(a)===96;)a++;const l=a-c;if(l===i){if(!t){const f=e.push("code_inline","code",0);f.markup=u,f.content=e.src.slice(r,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=a,!0}e.backticks[l]=c}return e.backticksScanned=!0,t||(e.pending+=u),e.pos+=i,!0}function O5(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==126)return!1;const o=e.scanDelims(e.pos,!0);let s=o.length;const u=String.fromCharCode(n);if(s<2)return!1;let i;s%2&&(i=e.push("text","",0),i.content=u,s--);for(let a=0;a<s;a+=2)i=e.push("text","",0),i.content=u+u,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0}function f0(e,t){let r;const n=[],o=t.length;for(let s=0;s<o;s++){const u=t[s];if(u.marker!==126||u.end===-1)continue;const i=t[u.end];r=e.tokens[u.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[i.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[i.token-1].type==="text"&&e.tokens[i.token-1].content==="~"&&n.push(i.token-1)}for(;n.length;){const s=n.pop();let u=s+1;for(;u<e.tokens.length&&e.tokens[u].type==="s_close";)u++;u--,s!==u&&(r=e.tokens[u],e.tokens[u]=e.tokens[s],e.tokens[s]=r)}}function F5(e){const t=e.tokens_meta,r=e.tokens_meta.length;f0(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&f0(e,t[n].delimiters)}const zm={tokenize:O5,postProcess:F5};function N5(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==95&&n!==42)return!1;const o=e.scanDelims(e.pos,n===42);for(let s=0;s<o.length;s++){const u=e.push("text","",0);u.content=String.fromCharCode(n),e.delimiters.push({marker:n,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close})}return e.pos+=o.length,!0}function d0(e,t){const r=t.length;for(let n=r-1;n>=0;n--){const o=t[n];if(o.marker!==95&&o.marker!==42||o.end===-1)continue;const s=t[o.end],u=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===s.token+1,i=String.fromCharCode(o.marker),a=e.tokens[o.token];a.type=u?"strong_open":"em_open",a.tag=u?"strong":"em",a.nesting=1,a.markup=u?i+i:i,a.content="";const c=e.tokens[s.token];c.type=u?"strong_close":"em_close",c.tag=u?"strong":"em",c.nesting=-1,c.markup=u?i+i:i,c.content="",u&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--)}}function M5(e){const t=e.tokens_meta,r=e.tokens_meta.length;d0(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&d0(e,t[n].delimiters)}const jm={tokenize:N5,postProcess:M5};function z5(e,t){let r,n,o,s,u="",i="",a=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const l=e.pos,f=e.posMax,d=e.pos+1,h=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(h<0)return!1;let m=h+1;if(m<f&&e.src.charCodeAt(m)===40){for(c=!1,m++;m<f&&(r=e.src.charCodeAt(m),!(!Ze(r)&&r!==10));m++);if(m>=f)return!1;if(a=m,o=e.md.helpers.parseLinkDestination(e.src,m,e.posMax),o.ok){for(u=e.md.normalizeLink(o.str),e.md.validateLink(u)?m=o.pos:u="",a=m;m<f&&(r=e.src.charCodeAt(m),!(!Ze(r)&&r!==10));m++);if(o=e.md.helpers.parseLinkTitle(e.src,m,e.posMax),m<f&&a!==m&&o.ok)for(i=o.str,m=o.pos;m<f&&(r=e.src.charCodeAt(m),!(!Ze(r)&&r!==10));m++);}(m>=f||e.src.charCodeAt(m)!==41)&&(c=!0),m++}if(c){if(typeof e.env.references>"u")return!1;if(m<f&&e.src.charCodeAt(m)===91?(a=m+1,m=e.md.helpers.parseLinkLabel(e,m),m>=0?n=e.src.slice(a,m++):m=h+1):m=h+1,n||(n=e.src.slice(d,h)),s=e.env.references[xi(n)],!s)return e.pos=l,!1;u=s.href,i=s.title}if(!t){e.pos=d,e.posMax=h;const x=e.push("link_open","a",1),b=[["href",u]];x.attrs=b,i&&b.push(["title",i]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=m,e.posMax=f,!0}function j5(e,t){let r,n,o,s,u,i,a,c,l="";const f=e.pos,d=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const h=e.pos+2,m=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(m<0)return!1;if(s=m+1,s<d&&e.src.charCodeAt(s)===40){for(s++;s<d&&(r=e.src.charCodeAt(s),!(!Ze(r)&&r!==10));s++);if(s>=d)return!1;for(c=s,i=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),i.ok&&(l=e.md.normalizeLink(i.str),e.md.validateLink(l)?s=i.pos:l=""),c=s;s<d&&(r=e.src.charCodeAt(s),!(!Ze(r)&&r!==10));s++);if(i=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<d&&c!==s&&i.ok)for(a=i.str,s=i.pos;s<d&&(r=e.src.charCodeAt(s),!(!Ze(r)&&r!==10));s++);else a="";if(s>=d||e.src.charCodeAt(s)!==41)return e.pos=f,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<d&&e.src.charCodeAt(s)===91?(c=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?o=e.src.slice(c,s++):s=m+1):s=m+1,o||(o=e.src.slice(h,m)),u=e.env.references[xi(o)],!u)return e.pos=f,!1;l=u.href,a=u.title}if(!t){n=e.src.slice(h,m);const x=[];e.md.inline.parse(n,e.md,e.env,x);const b=e.push("image","img",0),k=[["src",l],["alt",""]];b.attrs=k,b.children=x,b.content=n,a&&k.push(["title",a])}return e.pos=s,e.posMax=d,!0}const q5=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,L5=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function U5(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const n=e.pos,o=e.posMax;for(;;){if(++r>=o)return!1;const u=e.src.charCodeAt(r);if(u===60)return!1;if(u===62)break}const s=e.src.slice(n+1,r);if(L5.test(s)){const u=e.md.normalizeLink(s);if(!e.md.validateLink(u))return!1;if(!t){const i=e.push("link_open","a",1);i.attrs=[["href",u]],i.markup="autolink",i.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(s);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=s.length+2,!0}if(q5.test(s)){const u=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(u))return!1;if(!t){const i=e.push("link_open","a",1);i.attrs=[["href",u]],i.markup="autolink",i.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(s);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=s.length+2,!0}return!1}function V5(e){return/^<a[>\s]/i.test(e)}function B5(e){return/^<\/a\s*>/i.test(e)}function Z5(e){const t=e|32;return t>=97&&t<=122}function H5(e,t){if(!e.md.options.html)return!1;const r=e.posMax,n=e.pos;if(e.src.charCodeAt(n)!==60||n+2>=r)return!1;const o=e.src.charCodeAt(n+1);if(o!==33&&o!==63&&o!==47&&!Z5(o))return!1;const s=e.src.slice(n).match(v5);if(!s)return!1;if(!t){const u=e.push("html_inline","",0);u.content=s[0],V5(u.content)&&e.linkLevel++,B5(u.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}const K5=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,J5=/^&([a-z][a-z0-9]{1,31});/i;function W5(e,t){const r=e.pos,n=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=n)return!1;if(e.src.charCodeAt(r+1)===35){const s=e.src.slice(r).match(K5);if(s){if(!t){const u=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),i=e.push("text_special","",0);i.content=el(u)?Bu(u):Bu(65533),i.markup=s[0],i.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(r).match(J5);if(s){const u=Dm(s[0]);if(u!==s[0]){if(!t){const i=e.push("text_special","",0);i.content=u,i.markup=s[0],i.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function h0(e){const t={},r=e.length;if(!r)return;let n=0,o=-2;const s=[];for(let u=0;u<r;u++){const i=e[u];if(s.push(0),(e[n].marker!==i.marker||o!==i.token-1)&&(n=u),o=i.token,i.length=i.length||0,!i.close)continue;t.hasOwnProperty(i.marker)||(t[i.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[i.marker][(i.open?3:0)+i.length%3];let c=n-s[n]-1,l=c;for(;c>a;c-=s[c]+1){const f=e[c];if(f.marker===i.marker&&f.open&&f.end<0){let d=!1;if((f.close||i.open)&&(f.length+i.length)%3===0&&(f.length%3!==0||i.length%3!==0)&&(d=!0),!d){const h=c>0&&!e[c-1].open?s[c-1]+1:0;s[u]=u-c+h,s[c]=h,i.open=!1,f.end=u,f.close=!1,l=-1,o=-2;break}}}l!==-1&&(t[i.marker][(i.open?3:0)+(i.length||0)%3]=l)}}function G5(e){const t=e.tokens_meta,r=e.tokens_meta.length;h0(e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&h0(t[n].delimiters)}function Y5(e){let t,r,n=0;const o=e.tokens,s=e.tokens.length;for(t=r=0;t<s;t++)o[t].nesting<0&&n--,o[t].level=n,o[t].nesting>0&&n++,o[t].type==="text"&&t+1<s&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==r&&(o[r]=o[t]),r++);t!==r&&(o.length=r)}const aa=[["text",T5],["linkify",P5],["newline",D5],["escape",R5],["backticks",I5],["strikethrough",zm.tokenize],["emphasis",jm.tokenize],["link",z5],["image",j5],["autolink",U5],["html_inline",H5],["entity",W5]],ca=[["balance_pairs",G5],["strikethrough",zm.postProcess],["emphasis",jm.postProcess],["fragments_join",Y5]];function ps(){this.ruler=new jt;for(let e=0;e<aa.length;e++)this.ruler.push(aa[e][0],aa[e][1]);this.ruler2=new jt;for(let e=0;e<ca.length;e++)this.ruler2.push(ca[e][0],ca[e][1])}ps.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),n=r.length,o=e.md.options.maxNesting,s=e.cache;if(typeof s[t]<"u"){e.pos=s[t];return}let u=!1;if(e.level<o){for(let i=0;i<n;i++)if(e.level++,u=r[i](e,!0),e.level--,u){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;u||e.pos++,s[t]=e.pos};ps.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,n=e.posMax,o=e.md.options.maxNesting;for(;e.pos<n;){const s=e.pos;let u=!1;if(e.level<o){for(let i=0;i<r;i++)if(u=t[i](e,!1),u){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(u){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ps.prototype.parse=function(e,t,r,n){const o=new this.State(e,t,r,n);this.tokenize(o);const s=this.ruler2.getRules(""),u=s.length;for(let i=0;i<u;i++)s[i](o)};ps.prototype.State=hs;function Q5(e){const t={};e=e||{},t.src_Any=Cm.source,t.src_Cc=$m.source,t.src_Z=Am.source,t.src_P=Qc.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Ya(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function wi(e){return Object.prototype.toString.call(e)}function X5(e){return wi(e)==="[object String]"}function e9(e){return wi(e)==="[object Object]"}function t9(e){return wi(e)==="[object RegExp]"}function p0(e){return wi(e)==="[object Function]"}function r9(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const qm={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function n9(e){return Object.keys(e||{}).reduce(function(t,r){return t||qm.hasOwnProperty(r)},!1)}const o9={"http:":{validate:function(e,t,r){const n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},s9="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u9="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function i9(e){e.__index__=-1,e.__text_cache__=""}function a9(e){return function(t,r){const n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function m0(){return function(e,t){t.normalize(e)}}function Zu(e){const t=e.re=Q5(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(s9),r.push(t.src_xn),t.src_tlds=r.join("|");function n(i){return i.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const o=[];e.__compiled__={};function s(i,a){throw new Error('(LinkifyIt) Invalid schema "'+i+'": '+a)}Object.keys(e.__schemas__).forEach(function(i){const a=e.__schemas__[i];if(a===null)return;const c={validate:null,link:null};if(e.__compiled__[i]=c,e9(a)){t9(a.validate)?c.validate=a9(a.validate):p0(a.validate)?c.validate=a.validate:s(i,a),p0(a.normalize)?c.normalize=a.normalize:a.normalize?s(i,a):c.normalize=m0();return}if(X5(a)){o.push(i);return}s(i,a)}),o.forEach(function(i){e.__compiled__[e.__schemas__[i]]&&(e.__compiled__[i].validate=e.__compiled__[e.__schemas__[i]].validate,e.__compiled__[i].normalize=e.__compiled__[e.__schemas__[i]].normalize)}),e.__compiled__[""]={validate:null,normalize:m0()};const u=Object.keys(e.__compiled__).filter(function(i){return i.length>0&&e.__compiled__[i]}).map(r9).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),i9(e)}function c9(e,t){const r=e.__index__,n=e.__last_index__,o=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=o,this.text=o,this.url=o}function Qa(e,t){const r=new c9(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function Ht(e,t){if(!(this instanceof Ht))return new Ht(e,t);t||n9(e)&&(t=e,e={}),this.__opts__=Ya({},qm,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ya({},o9,e),this.__compiled__={},this.__tlds__=u9,this.__tlds_replaced__=!1,this.re={},Zu(this)}Ht.prototype.add=function(t,r){return this.__schemas__[t]=r,Zu(this),this};Ht.prototype.set=function(t){return this.__opts__=Ya(this.__opts__,t),this};Ht.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,n,o,s,u,i,a,c,l;if(this.re.schema_test.test(t)){for(a=this.re.schema_search,a.lastIndex=0;(r=a.exec(t))!==null;)if(s=this.testSchemaAt(t,r[2],a.lastIndex),s){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(u=n.index+n[1].length,(this.__index__<0||u<this.__index__)&&(this.__schema__="",this.__index__=u,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(u=o.index+o[1].length,i=o.index+o[0].length,(this.__index__<0||u<this.__index__||u===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=u,this.__last_index__=i))),this.__index__>=0};Ht.prototype.pretest=function(t){return this.re.pretest.test(t)};Ht.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};Ht.prototype.match=function(t){const r=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(Qa(this,n)),n=this.__last_index__);let o=n?t.slice(n):t;for(;this.test(o);)r.push(Qa(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};Ht.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const n=this.testSchemaAt(t,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,Qa(this,0)):null};Ht.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,o,s){return n!==s[o-1]}).reverse(),Zu(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Zu(this),this)};Ht.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Ht.prototype.onCompile=function(){};const ro=2147483647,yr=36,nl=1,Xo=26,l9=38,f9=700,Lm=72,Um=128,Vm="-",d9=/^xn--/,h9=/[^\0-\x7F]/,p9=/[\x2E\u3002\uFF0E\uFF61]/g,m9={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},la=yr-nl,xr=Math.floor,fa=String.fromCharCode;function Xr(e){throw new RangeError(m9[e])}function g9(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function Bm(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(p9,".");const o=e.split("."),s=g9(o,t).join(".");return n+s}function Zm(e){const t=[];let r=0;const n=e.length;for(;r<n;){const o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((o&1023)<<10)+(s&1023)+65536):(t.push(o),r--)}else t.push(o)}return t}const b9=e=>String.fromCodePoint(...e),_9=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:yr},g0=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Hm=function(e,t,r){let n=0;for(e=r?xr(e/f9):e>>1,e+=xr(e/t);e>la*Xo>>1;n+=yr)e=xr(e/la);return xr(n+(la+1)*e/(e+l9))},Km=function(e){const t=[],r=e.length;let n=0,o=Um,s=Lm,u=e.lastIndexOf(Vm);u<0&&(u=0);for(let i=0;i<u;++i)e.charCodeAt(i)>=128&&Xr("not-basic"),t.push(e.charCodeAt(i));for(let i=u>0?u+1:0;i<r;){const a=n;for(let l=1,f=yr;;f+=yr){i>=r&&Xr("invalid-input");const d=_9(e.charCodeAt(i++));d>=yr&&Xr("invalid-input"),d>xr((ro-n)/l)&&Xr("overflow"),n+=d*l;const h=f<=s?nl:f>=s+Xo?Xo:f-s;if(d<h)break;const m=yr-h;l>xr(ro/m)&&Xr("overflow"),l*=m}const c=t.length+1;s=Hm(n-a,c,a==0),xr(n/c)>ro-o&&Xr("overflow"),o+=xr(n/c),n%=c,t.splice(n++,0,o)}return String.fromCodePoint(...t)},Jm=function(e){const t=[];e=Zm(e);const r=e.length;let n=Um,o=0,s=Lm;for(const a of e)a<128&&t.push(fa(a));const u=t.length;let i=u;for(u&&t.push(Vm);i<r;){let a=ro;for(const l of e)l>=n&&l<a&&(a=l);const c=i+1;a-n>xr((ro-o)/c)&&Xr("overflow"),o+=(a-n)*c,n=a;for(const l of e)if(l<n&&++o>ro&&Xr("overflow"),l===n){let f=o;for(let d=yr;;d+=yr){const h=d<=s?nl:d>=s+Xo?Xo:d-s;if(f<h)break;const m=f-h,x=yr-h;t.push(fa(g0(h+m%x,0))),f=xr(m/x)}t.push(fa(g0(f,0))),s=Hm(o,c,i===u),o=0,++i}++o,++n}return t.join("")},y9=function(e){return Bm(e,function(t){return d9.test(t)?Km(t.slice(4).toLowerCase()):t})},x9=function(e){return Bm(e,function(t){return h9.test(t)?"xn--"+Jm(t):t})},Wm={version:"2.3.1",ucs2:{decode:Zm,encode:b9},decode:Km,encode:Jm,toASCII:x9,toUnicode:y9},v9={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},w9={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},k9={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},E9={default:v9,zero:w9,commonmark:k9},S9=/^(vbscript|javascript|file|data):/,C9=/^data:image\/(gif|png|jpeg|webp);/;function $9(e){const t=e.trim().toLowerCase();return S9.test(t)?C9.test(t):!0}const Gm=["http:","https:","mailto:"];function T9(e){const t=Yc(e,!0);if(t.hostname&&(!t.protocol||Gm.indexOf(t.protocol)>=0))try{t.hostname=Wm.toASCII(t.hostname)}catch{}return ds(Gc(t))}function A9(e){const t=Yc(e,!0);if(t.hostname&&(!t.protocol||Gm.indexOf(t.protocol)>=0))try{t.hostname=Wm.toUnicode(t.hostname)}catch{}return co(Gc(t),co.defaultChars+"%")}function er(e,t){if(!(this instanceof er))return new er(e,t);t||Xc(e)||(t=e||{},e="default"),this.inline=new ps,this.block=new vi,this.core=new tl,this.renderer=new go,this.linkify=new Ht,this.validateLink=$9,this.normalizeLink=T9,this.normalizeLinkText=A9,this.utils=D8,this.helpers=yi({},F8),this.options={},this.configure(e),t&&this.set(t)}er.prototype.set=function(e){return yi(this.options,e),this};er.prototype.configure=function(e){const t=this;if(Xc(e)){const r=e;if(e=E9[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};er.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const n=e.filter(function(o){return r.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};er.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const n=e.filter(function(o){return r.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};er.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};er.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};er.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};er.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};er.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const P9=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const b0=e=>e==="";const D9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const _0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const R9=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const I9=e=>{const t=R9(e);return t.charAt(0).toUpperCase()+t.slice(1)};var So={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const O9=({name:e,iconNode:t,absoluteStrokeWidth:r,"absolute-stroke-width":n,strokeWidth:o,"stroke-width":s,size:u=So.width,color:i=So.stroke,...a},{slots:c})=>Pu("svg",{...So,...a,width:u,height:u,stroke:i,"stroke-width":b0(r)||b0(n)||r===!0||n===!0?Number(o||s||So["stroke-width"])*24/Number(u):o||s||So["stroke-width"],class:D9("lucide",a.class,...e?[`lucide-${_0(I9(e))}-icon`,`lucide-${_0(e)}`]:["lucide-icon"]),...!c.default&&!P9(a)&&{"aria-hidden":"true"}},[...t.map(l=>Pu(...l)),...c.default?[c.default()]:[]]);const et=(e,t)=>(r,{slots:n,attrs:o})=>Pu(O9,{...o,...r,iconNode:t,name:e},n);const y0=et("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const x0=et("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const F9=et("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Xa=et("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const N9=et("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);const M9=et("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const z9=et("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const j9=et("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const v0=et("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const q9=et("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);const L9=et("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);const U9=et("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const V9=et("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);const B9=et("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const Z9=et("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Wn=et("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const w0=et("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const k0=et("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const E0=et("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const H9=et("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const da=et("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);const Gn=et("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const K9=et("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),J9=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},W9={},G9={class:"w-4.5 h-4.5 shrink-0",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Y9(e,t){return pe(),ge("svg",G9,[...t[0]||(t[0]=[j("path",{d:"M1.62524 8.11636L7.6712 2.07042C8.50598 1.23564 9.85941 1.23564 10.6941 2.07042C11.5289 2.90518 11.5289 4.25861 10.6941 5.09339L6.12821 9.65934",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1),j("path",{d:"M6.19116 9.59684L10.6941 5.09385C11.5289 4.25908 12.8823 4.25908 13.7171 5.09385L13.7486 5.12534C14.5834 5.96011 14.5834 7.31354 13.7486 8.14831L8.28059 13.6164C8.00233 13.8946 8.00233 14.3457 8.28059 14.6239L9.40336 15.7468",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1),j("path",{d:"M9.18266 3.58203L4.71116 8.05351C3.87639 8.88826 3.87639 10.2417 4.71116 11.0765C5.54593 11.9112 6.89936 11.9112 7.73414 11.0765L12.2056 6.605",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,-1)])])}const Q9=J9(W9,[["render",Y9]]),X9={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{"background-color":"rgba(0, 0, 0, 0.8)","backdrop-filter":"blur(4px)"}},ek={class:"w-full max-w-lg bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl p-6 overflow-hidden"},tk={class:"flex items-center justify-between mb-6"},rk={class:"flex items-center gap-3 text-emerald-400"},nk={class:"space-y-4"},ok={class:"space-y-2"},sk=["onUpdate:modelValue"],uk=["onUpdate:modelValue"],ik=["onClick"],ak={class:"mt-8 flex justify-end"},ck={__name:"AddServerModal",props:["isOpen"],emits:["close","add-server"],setup(e,{emit:t}){const r=t,n=Se(""),o=Se(""),s=Se([]),u=()=>{s.value.push({key:"",value:""})},i=c=>{s.value.splice(c,1)},a=()=>{if(!n.value.trim())return;const c=s.value.reduce((l,f)=>(f.key.trim()&&(l[f.key.trim()]=f.value.trim()),l),{});r("add-server",{url:n.value.trim(),name:o.value.trim(),headers:c}),n.value="",o.value="",s.value=[],r("close")};return(c,l)=>e.isOpen?(pe(),ge("div",X9,[j("div",ek,[j("div",tk,[j("div",rk,[ke(Q9,{class:"size-6"}),l[3]||(l[3]=j("h3",{class:"text-xl font-bold text-white tracking-tight"},"Add MCP Server",-1))]),j("button",{onClick:l[0]||(l[0]=f=>c.$emit("close")),class:"text-gray-400 hover:text-white transition-colors"},[ke(te(Xa),{class:"size-6"})])]),j("div",nk,[j("div",null,[l[4]||(l[4]=j("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-1.5 ml-1"},"Server URL",-1)),zt(j("input",{"onUpdate:modelValue":l[1]||(l[1]=f=>n.value=f),placeholder:"http://localhost:8000/sse",class:"w-full bg-gray-950 border border-gray-800 rounded-xl px-4 py-3 text-sm focus:ring-1 focus:ring-emerald-500 outline-none placeholder-gray-600 text-white",onKeyup:Zn(a,["enter"])},null,544),[[Yt,n.value]])]),j("div",null,[l[5]||(l[5]=j("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-1.5 ml-1"},"Name (Optional)",-1)),zt(j("input",{"onUpdate:modelValue":l[2]||(l[2]=f=>o.value=f),placeholder:"My Server",class:"w-full bg-gray-950 border border-gray-800 rounded-xl px-4 py-3 text-sm focus:ring-1 focus:ring-emerald-500 outline-none placeholder-gray-600 text-white"},null,512),[[Yt,o.value]])]),j("div",null,[l[7]||(l[7]=j("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-1.5 ml-1"},"Headers (Optional)",-1)),j("div",ok,[(pe(!0),ge(ot,null,Mr(s.value,(f,d)=>(pe(),ge("div",{key:d,class:"flex gap-2"},[zt(j("input",{"onUpdate:modelValue":h=>f.key=h,placeholder:"Key (e.g. Authorization)",class:"flex-1 bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-xs focus:ring-1 focus:ring-emerald-500 outline-none placeholder-gray-600 font-mono text-gray-300"},null,8,sk),[[Yt,f.key]]),zt(j("input",{"onUpdate:modelValue":h=>f.value=h,placeholder:"Value (e.g. Bearer token)",class:"flex-1 bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-xs focus:ring-1 focus:ring-emerald-500 outline-none placeholder-gray-600 font-mono text-gray-300"},null,8,uk),[[Yt,f.value]]),j("button",{onClick:h=>i(d),class:"text-gray-500 hover:text-red-400 px-1"},[ke(te(Gn),{class:"size-4"})],8,ik)]))),128)),j("button",{onClick:u,class:"text-xs flex items-center gap-1 text-emerald-400 hover:text-emerald-300 transition-colors font-medium py-1"},[ke(te(Wn),{class:"size-3"}),l[6]||(l[6]=zr(" Add Header Pair ",-1))])])])]),j("div",ak,[j("button",{onClick:a,class:"px-6 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/20 flex items-center gap-2"},[ke(te(Wn),{class:"size-4"}),l[8]||(l[8]=zr(" Add Server ",-1))])])])])):Fe("",!0)}},lk={class:"h-14 px-4 border-b border-gray-800 flex items-center gap-3 shrink-0 justify-between"},fk={key:0,class:"flex items-center gap-3 min-w-0"},dk=["title"],hk={class:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-6"},pk={class:"space-y-1"},mk={key:0,class:"flex items-center justify-between px-2 mb-2"},gk={key:1,class:"flex justify-center mb-2"},bk=["onClick","onMouseenter"],_k={key:4,class:"text-sm font-medium truncate flex-1"},yk=["onClick"],xk={key:0,class:"pl-4 space-y-0.5 border-l border-gray-800 ml-5"},vk=["onClick"],wk={key:0,class:"flex-1"},kk=["onKeydown"],Ek={key:1,class:"truncate flex-1"},Sk={class:"hidden group-hover:flex items-center gap-1 absolute right-2 bg-gray-900 shadow-xl pl-2 rounded-l-lg"},Ck=["onClick"],$k=["onClick"],Tk={key:0,class:"px-4 py-2 text-xs text-gray-600 italic"},Ak={key:0,class:"pt-6 border-t border-gray-800"},Pk={class:"flex items-center justify-between px-2 mb-3"},Dk={class:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2"},Rk={class:"space-y-2"},Ik={class:"flex items-center justify-between mb-1.5"},Ok={class:"text-xs font-bold text-gray-300 truncate"},Fk={class:"flex gap-1.5"},Nk=["onClick"],Mk=["onClick"],zk={class:"flex items-center justify-between"},jk={class:"text-[10px] text-gray-500 font-mono truncate max-w-[120px]"},qk={key:0,class:"text-[9px] bg-gray-800 px-1.5 py-0.5 rounded text-emerald-400/80 font-mono"},Lk={key:0,class:"p-6 border-t border-gray-800 bg-gray-900/50"},Uk={class:"mb-3"},Vk={class:"relative"},Bk=["value"],Zk=["value"],Hk={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500"},Kk={key:1,class:"p-3 border-t border-gray-800 bg-gray-900/50 flex justify-center"},Jk={key:2,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"},Wk={class:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-sm shadow-2xl"},Gk={class:"flex items-center gap-2 mb-4 cursor-pointer"},Yk={key:0,class:"space-y-3 mb-4"},Qk={key:0,class:"text-xs text-red-400"},Xk={key:3,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"},eE={class:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-2xl shadow-2xl flex flex-col",style:{"max-height":"80vh"}},tE={class:"mb-4"},rE={class:"text-xs text-gray-500 mt-1"},nE={class:"flex justify-between items-center pt-4 border-t border-gray-800"},oE={class:"flex gap-2"},sE={key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"},uE={class:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-sm shadow-2xl"},iE={class:"flex items-center gap-3 mb-4"},aE={key:0,class:"text-xs text-red-400 mb-3"},cE={class:"flex gap-2"},lE={class:"text-xs font-medium text-white whitespace-nowrap"},fE={__name:"ProjectSidebar",props:{isSettingsOpen:Boolean,isAddServerOpen:Boolean},emits:["open-settings","open-add-server","toggle-mobile-menu"],setup(e,{expose:t,emit:r}){const{projects:n,currentProjectId:o,chats:s,activeChatId:u,selectProject:i,createProject:a,createEncryptedProject:c,deleteProject:l,unlockProject:f,isProjectLocked:d,selectChat:h,createNewChat:m,deleteChat:x,renameChat:b,selectedModel:k,availableModels:p,switchModel:g,mcpServers:v,removeServer:_,toggleServer:E,customSystemPrompt:T,updateProjectSystemPrompt:q,resetSystemPrompt:Z,isUnlockModalOpen:G,unlockingProjectId:V,unlockPassword:U,unlockError:re}=Sm(),oe=Se(new Set),_e=Se(!1),ve=Se(""),J=Se(!1),Y=Se(""),De=Se(""),X=Se(""),F=Se(null),A=Se(""),P=Se(!1),y=Se(""),C=Se(null),z=Se({x:0,y:0}),H=Se(!1),Q=Se(!1),ie=Se(typeof window<"u"?window.innerWidth:1024),ne=Oh(()=>ie.value<768),I=()=>{const Te=localStorage.getItem("sidebar_collapsed");Te!==null&&(H.value=Te==="true")},w=()=>{localStorage.setItem("sidebar_collapsed",String(H.value))},S=()=>{H.value=!H.value,w()},D=()=>{Q.value=!Q.value},L=()=>{Q.value=!1},$=()=>{ie.value=window.innerWidth,ne.value||(Q.value=!1)},O=r,B=Te=>{oe.value.has(Te)?oe.value.delete(Te):(oe.value.add(Te),i(Te)),ne.value&&L()},N=async()=>{if(ve.value.trim()){if(J.value){if(X.value="",!Y.value){X.value="Password is required";return}if(Y.value.length<6){X.value="Password must be at least 6 characters";return}if(Y.value!==De.value){X.value="Passwords do not match";return}await c(ve.value,Y.value)}else await a(ve.value);K()}},K=()=>{ve.value="",J.value=!1,Y.value="",De.value="",X.value="",_e.value=!1},M=async()=>{if(!V.value||!U.value)return;await f(V.value,U.value)&&(oe.value.add(V.value),await i(V.value))},se=Te=>{F.value=Te.id,A.value=Te.title},ee=async()=>{F.value&&A.value.trim()&&await b(F.value,A.value),F.value=null},ue=()=>{y.value=T.value,P.value=!0},le=async()=>{await q(y.value),P.value=!1},me=async()=>{await Z(),y.value=T.value},de=async Te=>{await h(Te),ne.value&&L()},ye=(Te,ce)=>{if(!H.value)return;C.value=ce;const ae=Te.currentTarget.getBoundingClientRect();z.value={x:ae.right+8,y:ae.top+ae.height/2}},qe=()=>{C.value=null};return os(()=>{I(),window.addEventListener("resize",$)}),ti(()=>{window.removeEventListener("resize",$)}),t({toggleMobileMenu:D}),(Te,ce)=>(pe(),ge(ot,null,[ne.value&&Q.value?(pe(),ge("div",{key:0,onClick:L,class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden"})):Fe("",!0),j("aside",{class:Gt(["border-r border-gray-800 flex flex-col bg-gray-950 transition-all duration-300",!ne.value&&H.value?"w-16":"w-80",ne.value?"fixed inset-y-0 left-0 z-50 transform":"flex-shrink-0",ne.value&&!Q.value?"-translate-x-full":"translate-x-0"])},[j("div",lk,[ne.value||!H.value?(pe(),ge("div",fk,[...ce[17]||(ce[17]=[j("div",{class:"bg-emerald-500/10 p-2 rounded-lg border border-emerald-500/20 flex-shrink-0"},[j("img",{src:zh,class:"size-5",alt:"Logo"})],-1),j("h1",{class:"font-bold text-lg tracking-tight text-white truncate"},"FeelyAI",-1)])])):Fe("",!0),ne.value?Fe("",!0):(pe(),ge("button",{key:1,onClick:S,class:"text-gray-400 hover:text-white transition-colors flex-shrink-0",title:H.value?"Expand Sidebar":"Collapse Sidebar"},[H.value?(pe(),Ir(te(B9),{key:1,class:"size-5"})):(pe(),Ir(te(V9),{key:0,class:"size-5"}))],8,dk)),ne.value?(pe(),ge("button",{key:2,onClick:L,class:"text-gray-400 hover:text-white transition-colors flex-shrink-0"},[ke(te(K9),{class:"size-5"})])):Fe("",!0)]),j("div",hk,[j("div",pk,[ne.value||!H.value?(pe(),ge("div",mk,[ce[18]||(ce[18]=j("h2",{class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},"Projects",-1)),j("button",{onClick:ce[0]||(ce[0]=ae=>_e.value=!0),class:"text-gray-500 hover:text-emerald-400 transition-colors"},[ke(te(Wn),{class:"size-4"})])])):(pe(),ge("div",gk,[j("button",{onClick:ce[1]||(ce[1]=ae=>_e.value=!0),class:"text-gray-500 hover:text-emerald-400 transition-colors p-2",title:"New Project"},[ke(te(Wn),{class:"size-4"})])])),(pe(!0),ge(ot,null,Mr(te(n),ae=>(pe(),ge("div",{key:ae.id,class:"space-y-1"},[j("div",{onClick:Re=>ae.isPasswordProtected&&te(d)(ae.id)?(V.value=ae.id,G.value=!0):B(ae.id),onMouseenter:Re=>ye(Re,ae),onMouseleave:qe,class:Gt(["group flex items-center gap-2 rounded-lg cursor-pointer transition-colors select-none relative",ne.value||!H.value?"px-3 py-2":"px-2 py-2 justify-center",te(o)===ae.id?"bg-gray-900 text-emerald-400":"hover:bg-gray-900 text-gray-400"])},[ne.value||!H.value?(pe(),Ir(a2(oe.value.has(ae.id)?te(x0):te(F9)),{key:0,class:"size-3.5 opacity-75"})):Fe("",!0),ae.isPasswordProtected&&te(d)(ae.id)?(pe(),Ir(te(v0),{key:1,class:"size-4 text-yellow-500"})):ae.isPasswordProtected?(pe(),Ir(te(j9),{key:2,class:"size-4 text-emerald-500"})):(pe(),Ir(te(M9),{key:3,class:Gt(["size-4",te(o)===ae.id?"fill-emerald-400/20":""])},null,8,["class"])),ne.value||!H.value?(pe(),ge("span",_k,tt(ae.name),1)):Fe("",!0),(ne.value||!H.value)&&!(ae.isPasswordProtected&&te(d)(ae.id))?(pe(),ge("div",{key:5,class:Gt(["flex items-center gap-1",ne.value?"opacity-100":"opacity-0 group-hover:opacity-100"])},[te(o)===ae.id?(pe(),ge("button",{key:0,onClick:Cn(ue,["stop"]),class:"hover:bg-blue-500/20 hover:text-blue-400 p-1 rounded transition-all",title:"Edit System Prompt"},[ke(te(N9),{class:"size-3.5"})])):Fe("",!0),j("button",{onClick:Cn(Re=>te(l)(ae.id),["stop"]),class:"hover:bg-red-500/20 hover:text-red-400 p-1 rounded transition-all",title:"Delete Project"},[ke(te(Gn),{class:"size-3.5"})],8,yk),te(o)===ae.id?(pe(),ge("button",{key:1,onClick:ce[2]||(ce[2]=Cn((...Re)=>te(m)&&te(m)(...Re),["stop"])),class:"hover:bg-emerald-500/20 hover:text-emerald-400 p-1 rounded transition-all",title:"New Chat"},[ke(te(Wn),{class:"size-3.5"})])):Fe("",!0)],2)):Fe("",!0)],42,bk),oe.value.has(ae.id)&&(ne.value||!H.value)?(pe(),ge("div",xk,[(pe(!0),ge(ot,null,Mr(ae.id===te(o)?te(s):[],Re=>(pe(),ge("div",{key:Re.id,class:Gt(["group flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer text-sm transition-colors relative",te(u)===Re.id?"bg-emerald-500/10 text-emerald-400":"hover:bg-gray-900 text-gray-400"]),onClick:It=>de(Re.id)},[ke(te(L9),{class:"size-3.5 opacity-70"}),F.value===Re.id?(pe(),ge("div",wk,[zt(j("input",{"onUpdate:modelValue":ce[3]||(ce[3]=It=>A.value=It),onBlur:ee,onKeydown:Zn(Cn(ee,["prevent"]),["enter"]),class:"w-full bg-black border border-emerald-500 rounded px-1 py-0.5 text-xs text-white outline-none",autoFocus:""},null,40,kk),[[Yt,A.value]])])):(pe(),ge("span",Ek,tt(Re.title),1)),j("div",Sk,[j("button",{onClick:Cn(It=>se(Re),["stop"]),class:"p-1 hover:text-white transition-colors"},[ke(te(Z9),{class:"size-3"})],8,Ck),j("button",{onClick:Cn(It=>te(x)(Re.id),["stop"]),class:"p-1 hover:text-red-400 transition-colors"},[ke(te(Gn),{class:"size-3"})],8,$k)])],10,vk))),128)),ae.id===te(o)&&te(s).length===0?(pe(),ge("div",Tk," No chats yet. ")):Fe("",!0)])):Fe("",!0)]))),128))]),ne.value||!H.value?(pe(),ge("div",Ak,[j("div",Pk,[j("h2",Dk,[ke(te(U9),{class:"size-3"}),ce[19]||(ce[19]=zr(" MCP Servers ",-1))]),j("button",{onClick:ce[4]||(ce[4]=ae=>O("open-add-server")),class:"text-gray-500 hover:text-emerald-400 transition-colors"},[ke(te(Wn),{class:"size-4"})])]),j("div",Rk,[(pe(!0),ge(ot,null,Mr(te(v),ae=>(pe(),ge("div",{key:ae.id,class:"p-2.5 rounded-lg border border-gray-800 bg-gray-900/40 group hover:border-gray-700 transition-all"},[j("div",Ik,[j("span",Ok,tt(ae.name||"Unnamed"),1),j("div",Fk,[j("button",{onClick:Re=>te(E)(ae.id),class:Gt(ae.enabled?"text-emerald-400":"text-gray-600")},[j("div",{class:Gt(["size-2 rounded-full",ae.enabled?"bg-emerald-500":"bg-gray-700"])},null,2)],10,Nk),j("button",{onClick:Re=>te(_)(ae.id),class:"text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity"},[ke(te(Gn),{class:"size-3"})],8,Mk)])]),j("div",zk,[j("span",jk,tt(ae.url),1),ae.toolCount?(pe(),ge("span",qk,tt(ae.toolCount)+" tools",1)):Fe("",!0)])]))),128))])])):Fe("",!0)]),ne.value||!H.value?(pe(),ge("div",Lk,[j("div",Uk,[ce[20]||(ce[20]=j("label",{class:"text-[10px] font-bold text-gray-500 uppercase tracking-wider block mb-1.5"},"Active Model",-1)),j("div",Vk,[j("select",{value:te(k),onChange:ce[5]||(ce[5]=ae=>te(g)(ae.target.value)),class:"w-full bg-gray-950 border border-gray-800 text-gray-300 text-xs rounded-lg focus:ring-emerald-500 focus:border-emerald-500 block p-2.5 appearance-none cursor-pointer hover:border-gray-700 transition-colors"},[(pe(!0),ge(ot,null,Mr(te(p),ae=>(pe(),ge("option",{key:ae.id,value:ae.id},tt(ae.name),9,Zk))),128))],40,Bk),j("div",Hk,[ke(te(x0),{class:"size-3.5"})])])]),j("button",{onClick:ce[6]||(ce[6]=ae=>O("open-settings")),class:"w-full flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-900 hover:bg-gray-800 text-gray-400 hover:text-white transition-all text-sm"},[ke(te(k0),{class:"size-4"}),ce[21]||(ce[21]=j("span",null,"Settings",-1))])])):Fe("",!0),!ne.value&&H.value?(pe(),ge("div",Kk,[j("button",{onClick:ce[7]||(ce[7]=ae=>O("open-settings")),class:"p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-all",title:"Settings"},[ke(te(k0),{class:"size-5"})])])):Fe("",!0),_e.value?(pe(),ge("div",Jk,[j("div",Wk,[ce[23]||(ce[23]=j("h3",{class:"text-lg font-bold text-white mb-4"},"Create New Project",-1)),zt(j("input",{"onUpdate:modelValue":ce[8]||(ce[8]=ae=>ve.value=ae),placeholder:"Project Name",class:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white mb-4 focus:ring-1 focus:ring-emerald-500 outline-none",onKeydown:ce[9]||(ce[9]=Zn(ae=>!J.value&&N,["enter"])),autoFocus:""},null,544),[[Yt,ve.value]]),j("label",Gk,[zt(j("input",{type:"checkbox","onUpdate:modelValue":ce[10]||(ce[10]=ae=>J.value=ae),class:"w-4 h-4 rounded bg-gray-800 border-gray-600 text-emerald-500 focus:ring-emerald-500"},null,512),[[wg,J.value]]),ce[22]||(ce[22]=j("span",{class:"text-sm text-gray-300"},"Password protect this project",-1))]),J.value?(pe(),ge("div",Yk,[zt(j("input",{"onUpdate:modelValue":ce[11]||(ce[11]=ae=>Y.value=ae),type:"password",placeholder:"Password",class:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-emerald-500 outline-none"},null,512),[[Yt,Y.value]]),zt(j("input",{"onUpdate:modelValue":ce[12]||(ce[12]=ae=>De.value=ae),type:"password",placeholder:"Confirm Password",class:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-emerald-500 outline-none",onKeydown:Zn(N,["enter"])},null,544),[[Yt,De.value]]),X.value?(pe(),ge("p",Qk,tt(X.value),1)):Fe("",!0)])):Fe("",!0),j("div",{class:"flex gap-2"},[j("button",{onClick:N,class:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors"}," Create "),j("button",{onClick:K,class:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg font-medium transition-colors"}," Cancel ")])])])):Fe("",!0),P.value?(pe(),ge("div",Xk,[j("div",eE,[j("div",tE,[ce[24]||(ce[24]=j("h3",{class:"text-lg font-bold text-white"},"Edit System Prompt",-1)),j("p",rE," Project: "+tt(te(n).find(ae=>ae.id===te(o))?.name||"Unknown"),1)]),zt(j("textarea",{"onUpdate:modelValue":ce[13]||(ce[13]=ae=>y.value=ae),placeholder:"Customize system prompt... Use {{listTools}} to inject tools.",class:"w-full flex-1 bg-black border border-gray-700 rounded-lg px-4 py-3 text-sm text-white mb-4 focus:ring-1 focus:ring-emerald-500 outline-none placeholder-gray-600 resize-none font-mono leading-relaxed",style:{"min-height":"300px"}},null,512),[[Yt,y.value]]),j("div",nE,[j("button",{onClick:me,class:"text-xs text-red-400 hover:text-red-300 font-medium flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-900/20 transition-all"},[ke(te(Gn),{class:"size-3"}),ce[25]||(ce[25]=zr(" Reset to Default ",-1))]),j("div",oE,[j("button",{onClick:ce[14]||(ce[14]=ae=>P.value=!1),class:"px-4 py-2 text-sm text-gray-400 hover:text-white"},"Cancel"),j("button",{onClick:le,class:"px-6 py-2 text-sm bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-bold"},"Save")])])])])):Fe("",!0),te(G)?(pe(),ge("div",sE,[j("div",uE,[j("div",iE,[ke(te(v0),{class:"size-5 text-yellow-500"}),ce[26]||(ce[26]=j("h3",{class:"text-lg font-bold text-white"},"Unlock Project",-1))]),ce[27]||(ce[27]=j("p",{class:"text-sm text-gray-400 mb-4"},"Enter password to unlock this project",-1)),zt(j("input",{"onUpdate:modelValue":ce[15]||(ce[15]=ae=>at(U)?U.value=ae:null),type:"password",placeholder:"Password",class:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white mb-3 focus:ring-1 focus:ring-emerald-500 outline-none",onKeydown:Zn(M,["enter"]),autoFocus:""},null,544),[[Yt,te(U)]]),te(re)?(pe(),ge("p",aE,tt(te(re)),1)):Fe("",!0),j("div",cE,[j("button",{onClick:M,class:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors"}," Unlock "),j("button",{onClick:ce[16]||(ce[16]=ae=>(G.value=!1,U.value="",re.value="")),class:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg font-medium transition-colors"}," Cancel ")])])])):Fe("",!0)],2),ke(tg,{"enter-active-class":"transition-all duration-150 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-100 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:X0(()=>[C.value&&H.value?(pe(),ge("div",{key:0,style:ts({position:"fixed",left:`${z.value.x}px`,top:`${z.value.y}px`,transform:"translateY(-50%)",zIndex:100}),class:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg shadow-xl pointer-events-none"},[j("div",lE,tt(C.value.name),1),ce[28]||(ce[28]=j("div",{class:"absolute right-full top-1/2 -translate-y-1/2 border-4 border-transparent border-r-gray-800",style:{"margin-right":"-1px"}},null,-1))],4)):Fe("",!0)]),_:1})],64))}},dE={class:"flex h-screen bg-gray-950 text-gray-100 antialiased font-sans overflow-hidden"},hE={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{"background-color":"rgba(0, 0, 0, 0.7)","backdrop-filter":"blur(4px)"}},pE={class:"w-full max-w-lg bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl p-6 overflow-hidden"},mE={class:"flex items-center gap-3 mb-6 text-emerald-400"},gE={class:"space-y-4 mb-8 max-h-64 overflow-y-auto pr-2 custom-scrollbar"},bE={class:"flex items-center gap-2 mb-2 text-emerald-400 font-mono text-xs uppercase tracking-widest"},_E={class:"text-[11px] text-gray-400 font-mono leading-relaxed overflow-x-auto"},yE={class:"flex flex-col gap-3"},xE={class:"grid grid-cols-2 gap-3"},vE={key:1,class:"fixed inset-0 z-[100] flex items-center justify-center p-4",style:{"background-color":"rgba(0, 0, 0, 0.8)","backdrop-filter":"blur(4px)"}},wE={class:"w-full max-w-2xl bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl p-6 flex flex-col h-[36vh]"},kE={class:"flex items-center justify-between mb-6"},EE={key:0,class:"text-xs text-gray-500 mt-1"},SE={class:"flex-1 flex flex-col min-h-0 mb-6"},CE={class:"mt-4 flex items-center justify-between bg-gray-950/50 p-3 rounded-xl border border-gray-800"},$E={class:"flex items-center gap-3"},TE={class:"p-2 bg-emerald-500/10 rounded-lg"},AE={class:"flex justify-between items-center pt-4 border-t border-gray-800"},PE={key:2,class:"flex-1 flex flex-col items-center justify-center p-8 bg-gray-950 relative overflow-hidden"},DE={class:"relative z-10 max-w-2xl w-full text-center space-y-12"},RE={class:"space-y-6"},IE={class:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-3xl p-8 shadow-2xl space-y-6 max-w-md mx-auto"},OE={class:"space-y-2 text-left"},FE={class:"relative group"},NE=["value"],ME={class:"flex-1 flex flex-col relative bg-gray-950 min-w-0"},zE={class:"h-14 border-b border-gray-800 flex items-center px-6 bg-gray-950/50 backdrop-blur-sm sticky top-0 z-10 gap-3"},jE={class:"font-bold text-gray-200 truncate"},qE={key:0,class:"absolute inset-x-0 top-14 bottom-0 z-50 bg-gray-950 flex flex-col items-center justify-center p-8"},LE={class:"w-full max-w-md space-y-6 text-center"},UE={class:"bg-gray-800 rounded-full h-2 overflow-hidden"},VE={class:"text-[10px] text-gray-500 font-mono tracking-widest uppercase"},BE={key:0,class:"flex justify-end"},ZE={class:"bg-emerald-600 text-white px-5 py-3 rounded-2xl rounded-tr-none shadow-lg"},HE={key:1,class:"flex gap-4"},KE={class:"size-8 rounded-lg bg-emerald-600/20 flex items-center justify-center flex-shrink-0 border border-emerald-500/20 mt-1"},JE={class:"flex-1 min-w-0 prose prose-invert prose-emerald text-gray-200 max-w-none break-words"},WE={key:0,class:"bg-black/50 border border-gray-800 rounded-xl font-mono text-xs whitespace-pre-wrap leading-relaxed break-all",style:{"overflow-x":"auto","max-width":"100%"}},GE={class:"cursor-pointer"},YE={class:"p-4 text-[10px] text-blue-400 font-bold uppercase tracking-widest opacity-80 hover:opacity-100 transition-opacity"},QE={class:"p-4 pt-0 border-t border-gray-800/50 mt-2"},XE={key:1},e7={key:0,class:"mb-4 space-y-2"},t7={class:"flex items-center gap-2 px-3 py-2 bg-gray-800/30 border-b border-gray-700/30"},r7={class:"text-xs font-bold text-gray-300 font-mono"},n7={class:"p-3 bg-black/20 overflow-x-auto"},o7={class:"text-[10px] text-gray-400 font-mono leading-relaxed whitespace-pre-wrap break-all"},s7=["innerHTML"],u7={key:0,class:"max-w-3xl mx-auto flex gap-4 text-gray-500 animate-pulse font-medium text-sm items-center"},i7={class:"p-5 pt-5.75 border-t border-gray-800 bg-gray-900"},a7={class:"max-w-3xl mx-auto relative flex items-center bg-gray-800 border border-gray-700 rounded-2xl focus-within:border-emerald-500/50 transition-all px-4 py-2 shadow-xl"},c7=["onKeydown","disabled"],l7=["disabled"],f7={__name:"App",setup(e){const{sendMessage:t,addServer:r,approveToolCalls:n,cancelToolCalls:o,messages:s,isModelLoading:u,isGenerating:i,stop:a,loadProgress:c,loadText:l,pendingToolCalls:f,isChatStarted:d,startChat:h,customSystemPrompt:m,saveToStorage:x,resetSystemPrompt:b,updateProjectSystemPrompt:k,useSafeEval:p,activeChatTitle:g,availableModels:v,selectedModel:_,currentProjectId:E,projects:T}=Sm(),q=Se(!1),Z=Se(!1),G=Se(!0),V=Se(""),U=Se(null),re=new er({html:!0});os(()=>{navigator.gpu||(G.value=!1)}),_u(s,async()=>{await dc(),U.value&&(U.value.scrollTop=U.value.scrollHeight)},{deep:!0});const oe=()=>{!V.value.trim()||i.value||(t(V.value),V.value="")},_e=ve=>{r(ve.url,!0,ve.name,ve.headers),Z.value=!1};return(ve,J)=>(pe(),ge("div",dE,[ke(ck,{isOpen:Z.value,onClose:J[0]||(J[0]=Y=>Z.value=!1),onAddServer:_e},null,8,["isOpen"]),te(f)?(pe(),ge("div",hE,[j("div",pE,[j("div",mE,[ke(te(E0),{class:"size-6"}),J[17]||(J[17]=j("h3",{class:"text-xl font-bold text-white tracking-tight"},"Approve Tool Use",-1))]),j("div",gE,[J[18]||(J[18]=j("p",{class:"text-gray-400 text-sm"},"The AI requested to execute:",-1)),(pe(!0),ge(ot,null,Mr(te(f).calls,Y=>(pe(),ge("div",{key:Y.id,class:"bg-black rounded-xl p-4 border border-gray-800"},[j("div",bE,[ke(te(da),{class:"size-3"}),zr(" "+tt(Y.function.name),1)]),j("pre",_E,tt(JSON.parse(Y.function.arguments)),1)]))),128))]),j("div",yE,[j("button",{onClick:J[1]||(J[1]=Y=>te(n)("once")),class:"w-full py-3.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-bold transition-all"},"Allow Once"),j("div",xE,[j("button",{onClick:J[2]||(J[2]=Y=>te(n)("session")),class:"py-2.5 bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-xl text-xs font-medium transition-all"},"Allow for Session"),j("button",{onClick:J[3]||(J[3]=Y=>te(n)("always")),class:"py-2.5 bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-xl text-xs font-medium transition-all"},"Always Allow")]),j("button",{onClick:J[4]||(J[4]=(...Y)=>te(o)&&te(o)(...Y)),class:"flex items-center justify-center gap-2 w-full py-2 text-gray-500 hover:text-red-400 text-xs transition-colors mt-2"},[ke(te(Xa),{class:"size-3"}),J[19]||(J[19]=zr(" Deny Execution ",-1))])])])])):Fe("",!0),q.value?(pe(),ge("div",vE,[j("div",wE,[j("div",kE,[j("div",null,[J[20]||(J[20]=j("h3",{class:"text-xl font-bold text-white tracking-tight"},"System Instructions",-1)),te(E)?(pe(),ge("p",EE," Project: "+tt(te(T).find(Y=>Y.id===te(E))?.name||"Unknown"),1)):Fe("",!0)]),j("button",{onClick:J[5]||(J[5]=Y=>q.value=!1),class:"text-gray-400 hover:text-white transition-colors"},[ke(te(Xa),{class:"size-6"})])]),j("div",SE,[zt(j("textarea",{"onUpdate:modelValue":J[6]||(J[6]=Y=>at(m)?m.value=Y:null),placeholder:"Customize system prompt... Use {{listTools}} to inject tools.",class:"w-full flex-1 bg-gray-950 border border-gray-800 rounded-xl px-4 py-4 text-sm focus:ring-1 focus:ring-emerald-500 outline-none placeholder-gray-600 resize-none font-mono leading-relaxed custom-scrollbar text-gray-300"},null,512),[[Yt,te(m)]]),j("div",CE,[j("div",$E,[j("div",TE,[ke(te(E0),{class:"size-4 text-emerald-500"})]),J[21]||(J[21]=j("div",{class:"text-sm"},[j("h4",{class:"font-medium text-gray-200"},"Safe Eval Mode"),j("p",{class:"text-xs text-gray-500"},"Run code in isolated Worker (Recommended)")],-1))]),j("button",{onClick:J[7]||(J[7]=Y=>{p.value=!te(p),te(x)()}),class:Gt(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",te(p)?"bg-emerald-600":"bg-gray-700"])},[j("span",{class:Gt(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",te(p)?"translate-x-5":"translate-x-0"])},null,2)],2)])]),j("div",AE,[j("button",{onClick:J[8]||(J[8]=(...Y)=>te(b)&&te(b)(...Y)),class:"text-xs text-red-400 hover:text-red-300 font-medium flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-900/20 transition-all"},[ke(te(Gn),{class:"size-3"}),J[22]||(J[22]=zr(" Reset to Default ",-1))]),j("button",{onClick:J[9]||(J[9]=Y=>{te(k)(te(m)),q.value=!1}),class:"px-6 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/20"}," Save & Close ")])])])):Fe("",!0),te(d)?(pe(),ge(ot,{key:3},[ke(fE,{ref:"sidebar",isSettingsOpen:q.value,isAddServerOpen:Z.value,onOpenSettings:J[12]||(J[12]=Y=>q.value=!0),onOpenAddServer:J[13]||(J[13]=Y=>Z.value=!0)},null,8,["isSettingsOpen","isAddServerOpen"]),j("main",ME,[j("div",zE,[j("button",{onClick:J[14]||(J[14]=Y=>ve.$refs.sidebar.toggleMobileMenu()),class:"md:hidden text-gray-400 hover:text-white transition-colors","aria-label":"Toggle Menu"},[ke(te(q9),{class:"size-5"})]),j("h2",jE,tt(te(g)),1)]),te(u)?(pe(),ge("div",qE,[j("div",LE,[ke(te(z9),{class:"size-12 animate-spin text-emerald-500 mx-auto"}),J[31]||(J[31]=j("div",{class:"space-y-2"},[j("h2",{class:"text-2xl font-bold text-white"},"Loading AI Model"),j("p",{class:"text-gray-400 text-sm"},"Downloading & Initializing Weights...")],-1)),j("div",UE,[j("div",{class:"bg-emerald-500 h-full transition-all duration-300",style:ts({width:`${te(c)*100}%`})},null,4)]),j("p",VE,tt(te(l)),1)])])):Fe("",!0),j("div",{ref_key:"chatScroll",ref:U,class:"flex-1 overflow-y-auto p-6 md:p-12 space-y-8 custom-scrollbar scroll-smooth"},[(pe(!0),ge(ot,null,Mr(te(s),(Y,De)=>(pe(),ge("div",{key:De,class:"max-w-3xl mx-auto"},[Y.role==="user"?(pe(),ge("div",BE,[j("div",ZE,tt(Y.content),1)])):(pe(),ge("div",HE,[j("div",KE,[Y.role==="assistant"?(pe(),Ir(te(y0),{key:0,class:"size-5 text-emerald-400"})):(pe(),Ir(te(da),{key:1,class:"size-4 text-blue-400"}))]),j("div",JE,[Y.role==="tool"?(pe(),ge("div",WE,[j("details",GE,[j("summary",YE," Output: "+tt(Y.name),1),j("div",QE,tt(Y.content),1)])])):(pe(),ge("div",XE,[Y.tool_calls&&Y.tool_calls.length?(pe(),ge("div",e7,[(pe(!0),ge(ot,null,Mr(Y.tool_calls,X=>(pe(),ge("div",{key:X.id,class:"bg-gray-900/50 border border-gray-700/50 rounded-xl overflow-hidden"},[j("div",t7,[ke(te(da),{class:"size-3 text-purple-400"}),j("span",r7,"Tool Call: "+tt(X.function.name),1)]),j("div",n7,[j("pre",o7,tt(X.function.arguments),1)])]))),128))])):Fe("",!0),Y.content?(pe(),ge("div",{key:1,innerHTML:te(re).render(Y.content)},null,8,s7)):Fe("",!0)]))])]))]))),128)),te(i)?(pe(),ge("div",u7,[ke(te(y0),{class:"size-5"}),J[32]||(J[32]=zr()),J[33]||(J[33]=j("span",null,"AI is thinking...",-1))])):Fe("",!0)],512),j("div",i7,[j("div",a7,[zt(j("textarea",{"onUpdate:modelValue":J[15]||(J[15]=Y=>V.value=Y),onKeydown:Zn(Cn(oe,["prevent"]),["enter"]),placeholder:"Ask a question or use a tool...",class:"flex-1 bg-transparent border-none outline-none resize-none py-2 h-12 max-h-32 text-sm placeholder-gray-500 text-gray-100",disabled:te(u)},null,40,c7),[[Yt,V.value]]),te(i)?(pe(),ge("button",{key:1,onClick:J[16]||(J[16]=(...Y)=>te(a)&&te(a)(...Y)),class:"p-2.5 bg-red-600 rounded-xl hover:bg-red-500 transition-all cursor-pointer"},[ke(te(H9),{class:"size-4 text-white"})])):(pe(),ge("button",{key:0,onClick:oe,disabled:!V.value.trim()||te(u),class:"p-2.5 bg-emerald-600 rounded-xl hover:bg-emerald-500 disabled:opacity-50 transition-all cursor-pointer"},[ke(te(w0),{class:"size-4 text-white"})],8,l7))]),J[34]||(J[34]=j("div",{class:"text-[10px] text-center text-gray-600 mt-3 font-medium tracking-wide space-y-1"},[j("div",null,"WEBLLM + MCP PROTOCOL  PRIVATE & SECURE"),j("div",{class:"text-gray-700"},"AI can make mistakes. Usage of LLM models subject to their license agreements.")],-1))])])],64)):(pe(),ge("div",PE,[J[30]||(J[30]=j("div",{class:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-emerald-900/20 via-gray-950 to-gray-950"},null,-1)),j("div",DE,[j("div",RE,[J[26]||(J[26]=j("div",{class:"inline-flex items-center justify-center p-4 bg-emerald-500/10 rounded-3xl mb-4 border border-emerald-500/20"},[j("img",{src:zh,class:"size-16",alt:"Logo"})],-1)),J[27]||(J[27]=j("h1",{class:"text-6xl font-bold tracking-tight text-white mb-4"}," FeelyAI ",-1)),J[28]||(J[28]=j("p",{class:"text-xl text-gray-400 max-w-lg mx-auto leading-relaxed"}," Run advanced AI models directly in your browser. Private, secure, and purely local. ",-1)),j("div",IE,[j("div",OE,[J[24]||(J[24]=j("label",{class:"text-xs font-bold text-gray-500 uppercase tracking-widest pl-1"},"Select Model",-1)),j("div",FE,[zt(j("select",{"onUpdate:modelValue":J[10]||(J[10]=Y=>at(_)?_.value=Y:null),class:"w-full bg-black/50 border border-gray-700 text-white text-lg rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 block p-4 pr-10 appearance-none cursor-pointer transition-all hover:border-gray-600"},[(pe(!0),ge(ot,null,Mr(te(v),Y=>(pe(),ge("option",{key:Y.id,value:Y.id},tt(Y.name),9,NE))),128))],512),[[kg,te(_)]]),J[23]||(J[23]=j("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 group-hover:text-white transition-colors"},[j("svg",{class:"fill-current h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[j("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1))])]),j("button",{onClick:J[11]||(J[11]=(...Y)=>te(h)&&te(h)(...Y)),class:"w-full py-4 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-bold text-lg shadow-lg shadow-emerald-900/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3"},[J[25]||(J[25]=j("span",null,"Start Chat",-1)),ke(te(w0),{class:"size-5"})])])]),J[29]||(J[29]=j("div",{class:"text-sm text-gray-600 font-medium pt-8"}," Powered by Web-LLM  No Server Costs  100% Client-Side ",-1))])]))]))}};Ag(f7).mount("#app");
